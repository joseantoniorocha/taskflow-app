(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();function iT(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Ad={exports:{}},dl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function s1(){if(__)return dl;__=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:s,key:d,ref:l!==void 0?l:null,props:c}}return dl.Fragment=t,dl.jsx=i,dl.jsxs=i,dl}var v_;function a1(){return v_||(v_=1,Ad.exports=s1()),Ad.exports}var F=a1(),Sd={exports:{}},St={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function o1(){if(T_)return St;T_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),I=Symbol.iterator;function D(C){return C===null||typeof C!="object"?null:(C=I&&C[I]||C["@@iterator"],typeof C=="function"?C:null)}var q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Z=Object.assign,tt={};function J(C,X,it){this.props=C,this.context=X,this.refs=tt,this.updater=it||q}J.prototype.isReactComponent={},J.prototype.setState=function(C,X){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,X,"setState")},J.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function Tt(){}Tt.prototype=J.prototype;function dt(C,X,it){this.props=C,this.context=X,this.refs=tt,this.updater=it||q}var ut=dt.prototype=new Tt;ut.constructor=dt,Z(ut,J.prototype),ut.isPureReactComponent=!0;var Pt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},Ut=Object.prototype.hasOwnProperty;function V(C,X,it,W,ct,wt){return it=wt.ref,{$$typeof:r,type:C,key:X,ref:it!==void 0?it:null,props:wt}}function E(C,X){return V(C.type,X,void 0,void 0,void 0,C.props)}function b(C){return typeof C=="object"&&C!==null&&C.$$typeof===r}function O(C){var X={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(it){return X[it]})}var M=/\/+/g;function k(C,X){return typeof C=="object"&&C!==null&&C.key!=null?O(""+C.key):X.toString(36)}function R(){}function xe(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(R,R):(C.status="pending",C.then(function(X){C.status==="pending"&&(C.status="fulfilled",C.value=X)},function(X){C.status==="pending"&&(C.status="rejected",C.reason=X)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function se(C,X,it,W,ct){var wt=typeof C;(wt==="undefined"||wt==="boolean")&&(C=null);var vt=!1;if(C===null)vt=!0;else switch(wt){case"bigint":case"string":case"number":vt=!0;break;case"object":switch(C.$$typeof){case r:case t:vt=!0;break;case S:return vt=C._init,se(vt(C._payload),X,it,W,ct)}}if(vt)return ct=ct(C),vt=W===""?"."+k(C,0):W,Pt(ct)?(it="",vt!=null&&(it=vt.replace(M,"$&/")+"/"),se(ct,X,it,"",function(Bn){return Bn})):ct!=null&&(b(ct)&&(ct=E(ct,it+(ct.key==null||C&&C.key===ct.key?"":(""+ct.key).replace(M,"$&/")+"/")+vt)),X.push(ct)),1;vt=0;var Ie=W===""?".":W+":";if(Pt(C))for(var Zt=0;Zt<C.length;Zt++)W=C[Zt],wt=Ie+k(W,Zt),vt+=se(W,X,it,wt,ct);else if(Zt=D(C),typeof Zt=="function")for(C=Zt.call(C),Zt=0;!(W=C.next()).done;)W=W.value,wt=Ie+k(W,Zt++),vt+=se(W,X,it,wt,ct);else if(wt==="object"){if(typeof C.then=="function")return se(xe(C),X,it,W,ct);throw X=String(C),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return vt}function H(C,X,it){if(C==null)return C;var W=[],ct=0;return se(C,W,"","",function(wt){return X.call(it,wt,ct++)}),W}function nt(C){if(C._status===-1){var X=C._result;X=X(),X.then(function(it){(C._status===0||C._status===-1)&&(C._status=1,C._result=it)},function(it){(C._status===0||C._status===-1)&&(C._status=2,C._result=it)}),C._status===-1&&(C._status=0,C._result=X)}if(C._status===1)return C._result.default;throw C._result}var lt=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function zt(){}return St.Children={map:H,forEach:function(C,X,it){H(C,function(){X.apply(this,arguments)},it)},count:function(C){var X=0;return H(C,function(){X++}),X},toArray:function(C){return H(C,function(X){return X})||[]},only:function(C){if(!b(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},St.Component=J,St.Fragment=i,St.Profiler=l,St.PureComponent=dt,St.StrictMode=s,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,St.__COMPILER_RUNTIME={__proto__:null,c:function(C){return _t.H.useMemoCache(C)}},St.cache=function(C){return function(){return C.apply(null,arguments)}},St.cloneElement=function(C,X,it){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=Z({},C.props),ct=C.key,wt=void 0;if(X!=null)for(vt in X.ref!==void 0&&(wt=void 0),X.key!==void 0&&(ct=""+X.key),X)!Ut.call(X,vt)||vt==="key"||vt==="__self"||vt==="__source"||vt==="ref"&&X.ref===void 0||(W[vt]=X[vt]);var vt=arguments.length-2;if(vt===1)W.children=it;else if(1<vt){for(var Ie=Array(vt),Zt=0;Zt<vt;Zt++)Ie[Zt]=arguments[Zt+2];W.children=Ie}return V(C.type,ct,void 0,void 0,wt,W)},St.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},St.createElement=function(C,X,it){var W,ct={},wt=null;if(X!=null)for(W in X.key!==void 0&&(wt=""+X.key),X)Ut.call(X,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ct[W]=X[W]);var vt=arguments.length-2;if(vt===1)ct.children=it;else if(1<vt){for(var Ie=Array(vt),Zt=0;Zt<vt;Zt++)Ie[Zt]=arguments[Zt+2];ct.children=Ie}if(C&&C.defaultProps)for(W in vt=C.defaultProps,vt)ct[W]===void 0&&(ct[W]=vt[W]);return V(C,wt,void 0,void 0,null,ct)},St.createRef=function(){return{current:null}},St.forwardRef=function(C){return{$$typeof:g,render:C}},St.isValidElement=b,St.lazy=function(C){return{$$typeof:S,_payload:{_status:-1,_result:C},_init:nt}},St.memo=function(C,X){return{$$typeof:_,type:C,compare:X===void 0?null:X}},St.startTransition=function(C){var X=_t.T,it={};_t.T=it;try{var W=C(),ct=_t.S;ct!==null&&ct(it,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(zt,lt)}catch(wt){lt(wt)}finally{_t.T=X}},St.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},St.use=function(C){return _t.H.use(C)},St.useActionState=function(C,X,it){return _t.H.useActionState(C,X,it)},St.useCallback=function(C,X){return _t.H.useCallback(C,X)},St.useContext=function(C){return _t.H.useContext(C)},St.useDebugValue=function(){},St.useDeferredValue=function(C,X){return _t.H.useDeferredValue(C,X)},St.useEffect=function(C,X,it){var W=_t.H;if(typeof it=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,X)},St.useId=function(){return _t.H.useId()},St.useImperativeHandle=function(C,X,it){return _t.H.useImperativeHandle(C,X,it)},St.useInsertionEffect=function(C,X){return _t.H.useInsertionEffect(C,X)},St.useLayoutEffect=function(C,X){return _t.H.useLayoutEffect(C,X)},St.useMemo=function(C,X){return _t.H.useMemo(C,X)},St.useOptimistic=function(C,X){return _t.H.useOptimistic(C,X)},St.useReducer=function(C,X,it){return _t.H.useReducer(C,X,it)},St.useRef=function(C){return _t.H.useRef(C)},St.useState=function(C){return _t.H.useState(C)},St.useSyncExternalStore=function(C,X,it){return _t.H.useSyncExternalStore(C,X,it)},St.useTransition=function(){return _t.H.useTransition()},St.version="19.1.1",St}var E_;function dm(){return E_||(E_=1,Sd.exports=o1()),Sd.exports}var Ke=dm();const l1=iT(Ke);var bd={exports:{}},ml={},wd={exports:{}},Rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A_;function u1(){return A_||(A_=1,(function(r){function t(H,nt){var lt=H.length;H.push(nt);t:for(;0<lt;){var zt=lt-1>>>1,C=H[zt];if(0<l(C,nt))H[zt]=nt,H[lt]=C,lt=zt;else break t}}function i(H){return H.length===0?null:H[0]}function s(H){if(H.length===0)return null;var nt=H[0],lt=H.pop();if(lt!==nt){H[0]=lt;t:for(var zt=0,C=H.length,X=C>>>1;zt<X;){var it=2*(zt+1)-1,W=H[it],ct=it+1,wt=H[ct];if(0>l(W,lt))ct<C&&0>l(wt,W)?(H[zt]=wt,H[ct]=lt,zt=ct):(H[zt]=W,H[it]=lt,zt=it);else if(ct<C&&0>l(wt,lt))H[zt]=wt,H[ct]=lt,zt=ct;else break t}}return nt}function l(H,nt){var lt=H.sortIndex-nt.sortIndex;return lt!==0?lt:H.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],S=1,I=null,D=3,q=!1,Z=!1,tt=!1,J=!1,Tt=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Pt(H){for(var nt=i(_);nt!==null;){if(nt.callback===null)s(_);else if(nt.startTime<=H)s(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function _t(H){if(tt=!1,Pt(H),!Z)if(i(y)!==null)Z=!0,Ut||(Ut=!0,k());else{var nt=i(_);nt!==null&&se(_t,nt.startTime-H)}}var Ut=!1,V=-1,E=5,b=-1;function O(){return J?!0:!(r.unstable_now()-b<E)}function M(){if(J=!1,Ut){var H=r.unstable_now();b=H;var nt=!0;try{t:{Z=!1,tt&&(tt=!1,dt(V),V=-1),q=!0;var lt=D;try{e:{for(Pt(H),I=i(y);I!==null&&!(I.expirationTime>H&&O());){var zt=I.callback;if(typeof zt=="function"){I.callback=null,D=I.priorityLevel;var C=zt(I.expirationTime<=H);if(H=r.unstable_now(),typeof C=="function"){I.callback=C,Pt(H),nt=!0;break e}I===i(y)&&s(y),Pt(H)}else s(y);I=i(y)}if(I!==null)nt=!0;else{var X=i(_);X!==null&&se(_t,X.startTime-H),nt=!1}}break t}finally{I=null,D=lt,q=!1}nt=void 0}}finally{nt?k():Ut=!1}}}var k;if(typeof ut=="function")k=function(){ut(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,xe=R.port2;R.port1.onmessage=M,k=function(){xe.postMessage(null)}}else k=function(){Tt(M,0)};function se(H,nt){V=Tt(function(){H(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(H){H.callback=null},r.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<H?Math.floor(1e3/H):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(H){switch(D){case 1:case 2:case 3:var nt=3;break;default:nt=D}var lt=D;D=nt;try{return H()}finally{D=lt}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(H,nt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var lt=D;D=H;try{return nt()}finally{D=lt}},r.unstable_scheduleCallback=function(H,nt,lt){var zt=r.unstable_now();switch(typeof lt=="object"&&lt!==null?(lt=lt.delay,lt=typeof lt=="number"&&0<lt?zt+lt:zt):lt=zt,H){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=lt+C,H={id:S++,callback:nt,priorityLevel:H,startTime:lt,expirationTime:C,sortIndex:-1},lt>zt?(H.sortIndex=lt,t(_,H),i(y)===null&&H===i(_)&&(tt?(dt(V),V=-1):tt=!0,se(_t,lt-zt))):(H.sortIndex=C,t(y,H),Z||q||(Z=!0,Ut||(Ut=!0,k()))),H},r.unstable_shouldYield=O,r.unstable_wrapCallback=function(H){var nt=D;return function(){var lt=D;D=nt;try{return H.apply(this,arguments)}finally{D=lt}}}})(Rd)),Rd}var S_;function c1(){return S_||(S_=1,wd.exports=u1()),wd.exports}var Id={exports:{}},Fe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function h1(){if(b_)return Fe;b_=1;var r=dm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,S){var I=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:I==null?null:""+I,children:y,containerInfo:_,implementation:S}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Fe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Fe.createPortal=function(y,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,S)},Fe.flushSync=function(y){var _=d.T,S=s.p;try{if(d.T=null,s.p=2,y)return y()}finally{d.T=_,s.p=S,s.d.f()}},Fe.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,s.d.C(y,_))},Fe.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},Fe.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var S=_.as,I=g(S,_.crossOrigin),D=typeof _.integrity=="string"?_.integrity:void 0,q=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?s.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:I,integrity:D,fetchPriority:q}):S==="script"&&s.d.X(y,{crossOrigin:I,integrity:D,fetchPriority:q,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Fe.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);s.d.M(y,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&s.d.M(y)},Fe.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,I=g(S,_.crossOrigin);s.d.L(y,S,{crossOrigin:I,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Fe.preloadModule=function(y,_){if(typeof y=="string")if(_){var S=g(_.as,_.crossOrigin);s.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else s.d.m(y)},Fe.requestFormReset=function(y){s.d.r(y)},Fe.unstable_batchedUpdates=function(y,_){return y(_)},Fe.useFormState=function(y,_,S){return d.H.useFormState(y,_,S)},Fe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Fe.version="19.1.1",Fe}var w_;function f1(){if(w_)return Id.exports;w_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Id.exports=h1(),Id.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R_;function d1(){if(R_)return ml;R_=1;var r=c1(),t=dm(),i=f1();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(c(e)!==e)throw Error(s(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(s(188));return n!==e?null:e}for(var a=e,o=n;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return g(h),e;if(f===o)return g(h),n;f=f.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=f;else{for(var v=!1,T=h.child;T;){if(T===a){v=!0,a=h,o=f;break}if(T===o){v=!0,o=h,a=f;break}T=T.sibling}if(!v){for(T=f.child;T;){if(T===a){v=!0,a=f,o=h;break}if(T===o){v=!0,o=f,a=h;break}T=T.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?e:n}function _(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=_(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),q=Symbol.for("react.portal"),Z=Symbol.for("react.fragment"),tt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),dt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Pt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),Ut=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function xe(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Z:return"Fragment";case J:return"Profiler";case tt:return"StrictMode";case _t:return"Suspense";case Ut:return"SuspenseList";case b:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case q:return"Portal";case ut:return(e.displayName||"Context")+".Provider";case dt:return(e._context.displayName||"Context")+".Consumer";case Pt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:xe(e.type)||"Memo";case E:n=e._payload,e=e._init;try{return xe(e(n))}catch{}}return null}var se=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,lt={pending:!1,data:null,method:null,action:null},zt=[],C=-1;function X(e){return{current:e}}function it(e){0>C||(e.current=zt[C],zt[C]=null,C--)}function W(e,n){C++,zt[C]=e.current,e.current=n}var ct=X(null),wt=X(null),vt=X(null),Ie=X(null);function Zt(e,n){switch(W(vt,n),W(wt,e),W(ct,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Qy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Qy(n),e=Ky(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}it(ct),W(ct,e)}function Bn(){it(ct),it(wt),it(vt)}function Xi(e){e.memoizedState!==null&&W(Ie,e);var n=ct.current,a=Ky(n,e.type);n!==a&&(W(wt,e),W(ct,a))}function gi(e){wt.current===e&&(it(ct),it(wt)),Ie.current===e&&(it(Ie),ll._currentValue=lt)}var Fr=Object.prototype.hasOwnProperty,Qr=r.unstable_scheduleCallback,Kr=r.unstable_cancelCallback,ro=r.unstable_shouldYield,Yl=r.unstable_requestPaint,_n=r.unstable_now,Eh=r.unstable_getCurrentPriorityLevel,so=r.unstable_ImmediatePriority,Bs=r.unstable_UserBlockingPriority,Yr=r.unstable_NormalPriority,Ah=r.unstable_LowPriority,qs=r.unstable_IdlePriority,ao=r.log,Xl=r.unstable_setDisableYieldValue,ae=null,Ht=null;function ln(e){if(typeof ao=="function"&&Xl(e),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(ae,e)}catch{}}var He=Math.clz32?Math.clz32:Xr,$l=Math.log,Sh=Math.LN2;function Xr(e){return e>>>=0,e===0?32:31-($l(e)/Sh|0)|0}var $r=256,Zr=4194304;function Mn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hs(e,n,a){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,v=e.pingedLanes;e=e.warmLanes;var T=o&134217727;return T!==0?(o=T&~f,o!==0?h=Mn(o):(v&=T,v!==0?h=Mn(v):a||(a=T&~e,a!==0&&(h=Mn(a))))):(T=o&~f,T!==0?h=Mn(T):v!==0?h=Mn(v):a||(a=o&~e,a!==0&&(h=Mn(a)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,a=n&-n,f>=a||f===32&&(a&4194048)!==0)?n:h}function Jr(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function oo(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lo(){var e=$r;return $r<<=1,($r&4194048)===0&&($r=256),e}function uo(){var e=Zr;return Zr<<=1,(Zr&62914560)===0&&(Zr=4194304),e}function pi(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function yi(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function co(e,n,a,o,h,f){var v=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var T=e.entanglements,w=e.expirationTimes,L=e.hiddenUpdates;for(a=v&~a;0<a;){var G=31-He(a),K=1<<G;T[G]=0,w[G]=-1;var z=L[G];if(z!==null)for(L[G]=null,G=0;G<z.length;G++){var j=z[G];j!==null&&(j.lane&=-536870913)}a&=~K}o!==0&&qn(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(v&~n))}function qn(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-He(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|a&4194090}function ho(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var o=31-He(a),h=1<<o;h&n|e[o]&n&&(e[o]|=n),a&=~h}}function $i(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gs(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Zi(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:f_(e.type))}function Zl(e,n){var a=nt.p;try{return nt.p=e,n()}finally{nt.p=a}}var ee=Math.random().toString(36).slice(2),ve="__reactFiber$"+ee,de="__reactProps$"+ee,vn="__reactContainer$"+ee,fo="__reactEvents$"+ee,bh="__reactListeners$"+ee,Ji="__reactHandles$"+ee,Jl="__reactResources$"+ee,Wr="__reactMarker$"+ee;function Wi(e){delete e[ve],delete e[de],delete e[fo],delete e[bh],delete e[Ji]}function _i(e){var n=e[ve];if(n)return n;for(var a=e.parentNode;a;){if(n=a[vn]||a[ve]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=Zy(e);e!==null;){if(a=e[ve])return a;e=Zy(e)}return n}e=a,a=e.parentNode}return null}function Hn(e){if(e=e[ve]||e[vn]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Gn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Ze(e){var n=e[Jl];return n||(n=e[Jl]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ue(e){e[Wr]=!0}var mo=new Set,Fs={};function Vn(e,n){vi(e,n),vi(e+"Capture",n)}function vi(e,n){for(Fs[e]=n,e=0;e<n.length;e++)mo.add(n[e])}var Wl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),tu={},ts={};function eu(e){return Fr.call(ts,e)?!0:Fr.call(tu,e)?!1:Wl.test(e)?ts[e]=!0:(tu[e]=!0,!1)}function tr(e,n,a){if(eu(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Fn(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function ke(e,n,a,o){if(o===null)e.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+o)}}var es,nu;function Ti(e){if(es===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);es=n&&n[1]||"",nu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+es+e+nu}var Qs=!1;function Ks(e,n){if(!e||Qs)return"";Qs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(j){var z=j}Reflect.construct(e,[],K)}else{try{K.call()}catch(j){z=j}e.call(K.prototype)}}else{try{throw Error()}catch(j){z=j}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(j){if(j&&z&&typeof j.stack=="string")return[j.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),v=f[0],T=f[1];if(v&&T){var w=v.split(`
`),L=T.split(`
`);for(h=o=0;o<w.length&&!w[o].includes("DetermineComponentFrameRoot");)o++;for(;h<L.length&&!L[h].includes("DetermineComponentFrameRoot");)h++;if(o===w.length||h===L.length)for(o=w.length-1,h=L.length-1;1<=o&&0<=h&&w[o]!==L[h];)h--;for(;1<=o&&0<=h;o--,h--)if(w[o]!==L[h]){if(o!==1||h!==1)do if(o--,h--,0>h||w[o]!==L[h]){var G=`
`+w[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{Qs=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ti(a):""}function go(e){switch(e.tag){case 26:case 27:case 5:return Ti(e.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return Ks(e.type,!1);case 11:return Ks(e.type.render,!1);case 1:return Ks(e.type,!0);case 31:return Ti("Activity");default:return""}}function Ys(e){try{var n="";do n+=go(e),e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Je(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function po(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wh(e){var n=po(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(v){o=""+v,f.call(this,v)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(v){o=""+v},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xs(e){e._valueTracker||(e._valueTracker=wh(e))}function yo(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),o="";return e&&(o=po(e)?e.checked?"true":"false":e.value),e=o,e!==a?(n.setValue(e),!0):!1}function ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rh=/[\n"\\]/g;function me(e){return e.replace(Rh,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function un(e,n,a,o,h,f,v,T){e.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.type=v:e.removeAttribute("type"),n!=null?v==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Je(n)):e.value!==""+Je(n)&&(e.value=""+Je(n)):v!=="submit"&&v!=="reset"||e.removeAttribute("value"),n!=null?er(e,v,Je(n)):a!=null?er(e,v,Je(a)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Je(T):e.removeAttribute("name")}function is(e,n,a,o,h,f,v,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;a=a!=null?""+Je(a):"",n=n!=null?""+Je(n):a,T||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=T?e.checked:!!o,e.defaultChecked=!!o,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(e.name=v)}function er(e,n,a){n==="number"&&ns(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Ei(e,n,a,o){if(e=e.options,n){n={};for(var h=0;h<a.length;h++)n["$"+a[h]]=!0;for(a=0;a<e.length;a++)h=n.hasOwnProperty("$"+e[a].value),e[a].selected!==h&&(e[a].selected=h),h&&o&&(e[a].defaultSelected=!0)}else{for(a=""+Je(a),n=null,h=0;h<e.length;h++){if(e[h].value===a){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function Qt(e,n,a){if(n!=null&&(n=""+Je(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Je(a):""}function rs(e,n,a,o){if(n==null){if(o!=null){if(a!=null)throw Error(s(92));if(se(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),n=a}a=Je(n),e.defaultValue=a,o=e.textContent,o===a&&o!==""&&o!==null&&(e.value=o)}function Tn(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ss=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function iu(e,n,a){var o=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,a):typeof a!="number"||a===0||ss.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function _o(e,n,a){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&a[h]!==o&&iu(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&iu(e,f,n[f])}function vo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ih=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ch=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $s(e){return Ch.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Ai=null;function En(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Si=null,bi=null;function To(e){var n=Hn(e);if(n&&(e=n.stateNode)){var a=e[de]||null;t:switch(e=n.stateNode,n.type){case"input":if(un(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+me(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var o=a[n];if(o!==e&&o.form===e.form){var h=o[de]||null;if(!h)throw Error(s(90));un(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<a.length;n++)o=a[n],o.form===e.form&&yo(o)}break t;case"textarea":Qt(e,a.value,a.defaultValue);break t;case"select":n=a.value,n!=null&&Ei(e,!!a.multiple,n,!1)}}}var Qn=!1;function ru(e,n,a){if(Qn)return e(n,a);Qn=!0;try{var o=e(n);return o}finally{if(Qn=!1,(Si!==null||bi!==null)&&(Zu(),Si&&(n=Si,e=bi,bi=Si=null,To(n),e)))for(n=0;n<e.length;n++)To(e[n])}}function as(e,n){var a=e.stateNode;if(a===null)return null;var o=a[de]||null;if(o===null)return null;a=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(s(231,n,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),An=!1;if(xn)try{var os={};Object.defineProperty(os,"passive",{get:function(){An=!0}}),window.addEventListener("test",os,os),window.removeEventListener("test",os,os)}catch{An=!1}var Kn=null,nr=null,wi=null;function Eo(){if(wi)return wi;var e,n=nr,a=n.length,o,h="value"in Kn?Kn.value:Kn.textContent,f=h.length;for(e=0;e<a&&n[e]===h[e];e++);var v=a-e;for(o=1;o<=v&&n[a-o]===h[f-o];o++);return wi=h.slice(e,1<o?1-o:void 0)}function Yn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Xn(){return!0}function Ao(){return!1}function Ce(e){function n(a,o,h,f,v){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(a=e[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Xn:Ao,this.isPropagationStopped=Ao,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Xn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Xn)},persist:function(){},isPersistent:Xn}),n}var Bt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zs=Ce(Bt),ls=S({},Bt,{view:0,detail:0}),su=Ce(ls),Js,Ws,$n,us=S({},ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$n&&($n&&e.type==="mousemove"?(Js=e.screenX-$n.screenX,Ws=e.screenY-$n.screenY):Ws=Js=0,$n=e),Js)},movementY:function(e){return"movementY"in e?e.movementY:Ws}}),Sn=Ce(us),au=S({},us,{dataTransfer:0}),Dh=Ce(au),cs=S({},ls,{relatedTarget:0}),ta=Ce(cs),So=S({},Bt,{animationName:0,elapsedTime:0,pseudoElement:0}),ea=Ce(So),ou=S({},Bt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),na=Ce(ou),Nh=S({},Bt,{data:0}),bo=Ce(Nh),hs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wo(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=uu[e])?!!n[e]:!1}function fs(){return wo}var cu=S({},ls,{key:function(e){if(e.key){var n=hs[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Yn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?lu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fs,charCode:function(e){return e.type==="keypress"?Yn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Yn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ia=Ce(cu),hu=S({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ro=Ce(hu),Ri=S({},ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fs}),fu=Ce(Ri),du=S({},Bt,{propertyName:0,elapsedTime:0,pseudoElement:0}),mu=Ce(du),gu=S({},us,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ra=Ce(gu),We=S({},Bt,{newState:0,oldState:0}),pu=Ce(We),yu=[9,13,27,32],Zn=xn&&"CompositionEvent"in window,u=null;xn&&"documentMode"in document&&(u=document.documentMode);var m=xn&&"TextEvent"in window&&!u,p=xn&&(!Zn||u&&8<u&&11>=u),A=" ",P=!1;function B(e,n){switch(e){case"keyup":return yu.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function et(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Mt=!1;function Te(e,n){switch(e){case"compositionend":return et(n);case"keypress":return n.which!==32?null:(P=!0,A);case"textInput":return e=n.data,e===A&&P?null:e;default:return null}}function Vt(e,n){if(Mt)return e==="compositionend"||!Zn&&B(e,n)?(e=Eo(),wi=nr=Kn=null,Mt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var De={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!De[e.type]:n==="textarea"}function Ii(e,n,a,o){Si?bi?bi.push(o):bi=[o]:Si=o,n=ic(n,"onChange"),0<n.length&&(a=new Zs("onChange","change",null,a,o),e.push({event:a,listeners:n}))}var Pe=null,Jn=null;function Io(e){By(e,0)}function _u(e){var n=Gn(e);if(yo(n))return e}function lg(e,n){if(e==="change")return n}var ug=!1;if(xn){var Oh;if(xn){var Mh="oninput"in document;if(!Mh){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),Mh=typeof cg.oninput=="function"}Oh=Mh}else Oh=!1;ug=Oh&&(!document.documentMode||9<document.documentMode)}function hg(){Pe&&(Pe.detachEvent("onpropertychange",fg),Jn=Pe=null)}function fg(e){if(e.propertyName==="value"&&_u(Jn)){var n=[];Ii(n,Jn,e,En(e)),ru(Io,n)}}function k0(e,n,a){e==="focusin"?(hg(),Pe=n,Jn=a,Pe.attachEvent("onpropertychange",fg)):e==="focusout"&&hg()}function P0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(Jn)}function U0(e,n){if(e==="click")return _u(n)}function L0(e,n){if(e==="input"||e==="change")return _u(n)}function z0(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var cn=typeof Object.is=="function"?Object.is:z0;function Co(e,n){if(cn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),o=Object.keys(n);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!Fr.call(n,h)||!cn(e[h],n[h]))return!1}return!0}function dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mg(e,n){var a=dg(e);e=0;for(var o;a;){if(a.nodeType===3){if(o=e+a.textContent.length,e<=n&&o>=n)return{node:a,offset:n-e};e=o}t:{for(;a;){if(a.nextSibling){a=a.nextSibling;break t}a=a.parentNode}a=void 0}a=dg(a)}}function gg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ns(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=ns(e.document)}return n}function Vh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var j0=xn&&"documentMode"in document&&11>=document.documentMode,sa=null,xh=null,Do=null,kh=!1;function yg(e,n,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kh||sa==null||sa!==ns(o)||(o=sa,"selectionStart"in o&&Vh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Do&&Co(Do,o)||(Do=o,o=ic(xh,"onSelect"),0<o.length&&(n=new Zs("onSelect","select",null,n,a),e.push({event:n,listeners:o}),n.target=sa)))}function ds(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var aa={animationend:ds("Animation","AnimationEnd"),animationiteration:ds("Animation","AnimationIteration"),animationstart:ds("Animation","AnimationStart"),transitionrun:ds("Transition","TransitionRun"),transitionstart:ds("Transition","TransitionStart"),transitioncancel:ds("Transition","TransitionCancel"),transitionend:ds("Transition","TransitionEnd")},Ph={},_g={};xn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete aa.animationend.animation,delete aa.animationiteration.animation,delete aa.animationstart.animation),"TransitionEvent"in window||delete aa.transitionend.transition);function ms(e){if(Ph[e])return Ph[e];if(!aa[e])return e;var n=aa[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in _g)return Ph[e]=n[a];return e}var vg=ms("animationend"),Tg=ms("animationiteration"),Eg=ms("animationstart"),B0=ms("transitionrun"),q0=ms("transitionstart"),H0=ms("transitioncancel"),Ag=ms("transitionend"),Sg=new Map,Uh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uh.push("scrollEnd");function kn(e,n){Sg.set(e,n),Vn(n,[e])}var bg=new WeakMap;function bn(e,n){if(typeof e=="object"&&e!==null){var a=bg.get(e);return a!==void 0?a:(n={value:e,source:n,stack:Ys(n)},bg.set(e,n),n)}return{value:e,source:n,stack:Ys(n)}}var wn=[],oa=0,Lh=0;function vu(){for(var e=oa,n=Lh=oa=0;n<e;){var a=wn[n];wn[n++]=null;var o=wn[n];wn[n++]=null;var h=wn[n];wn[n++]=null;var f=wn[n];if(wn[n++]=null,o!==null&&h!==null){var v=o.pending;v===null?h.next=h:(h.next=v.next,v.next=h),o.pending=h}f!==0&&wg(a,h,f)}}function Tu(e,n,a,o){wn[oa++]=e,wn[oa++]=n,wn[oa++]=a,wn[oa++]=o,Lh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zh(e,n,a,o){return Tu(e,n,a,o),Eu(e)}function la(e,n){return Tu(e,null,null,n),Eu(e)}function wg(e,n,a){e.lanes|=a;var o=e.alternate;o!==null&&(o.lanes|=a);for(var h=!1,f=e.return;f!==null;)f.childLanes|=a,o=f.alternate,o!==null&&(o.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-He(a),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=a|536870912),f):null}function Eu(e){if(50<tl)throw tl=0,Qf=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ua={};function G0(e,n,a,o){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function hn(e,n,a,o){return new G0(e,n,a,o)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ci(e,n){var a=e.alternate;return a===null?(a=hn(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Rg(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Au(e,n,a,o,h,f){var v=0;if(o=e,typeof e=="function")jh(e)&&(v=1);else if(typeof e=="string")v=QA(e,a,ct.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case b:return e=hn(31,a,n,h),e.elementType=b,e.lanes=f,e;case Z:return gs(a.children,h,f,n);case tt:v=8,h|=24;break;case J:return e=hn(12,a,n,h|2),e.elementType=J,e.lanes=f,e;case _t:return e=hn(13,a,n,h),e.elementType=_t,e.lanes=f,e;case Ut:return e=hn(19,a,n,h),e.elementType=Ut,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tt:case ut:v=10;break t;case dt:v=9;break t;case Pt:v=11;break t;case V:v=14;break t;case E:v=16,o=null;break t}v=29,a=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=hn(v,a,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function gs(e,n,a,o){return e=hn(7,e,o,n),e.lanes=a,e}function Bh(e,n,a){return e=hn(6,e,null,n),e.lanes=a,e}function qh(e,n,a){return n=hn(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var ca=[],ha=0,Su=null,bu=0,Rn=[],In=0,ps=null,Di=1,Ni="";function ys(e,n){ca[ha++]=bu,ca[ha++]=Su,Su=e,bu=n}function Ig(e,n,a){Rn[In++]=Di,Rn[In++]=Ni,Rn[In++]=ps,ps=e;var o=Di;e=Ni;var h=32-He(o)-1;o&=~(1<<h),a+=1;var f=32-He(n)+h;if(30<f){var v=h-h%5;f=(o&(1<<v)-1).toString(32),o>>=v,h-=v,Di=1<<32-He(n)+h|a<<h|o,Ni=f+e}else Di=1<<f|a<<h|o,Ni=e}function Hh(e){e.return!==null&&(ys(e,1),Ig(e,1,0))}function Gh(e){for(;e===Su;)Su=ca[--ha],ca[ha]=null,bu=ca[--ha],ca[ha]=null;for(;e===ps;)ps=Rn[--In],Rn[In]=null,Ni=Rn[--In],Rn[In]=null,Di=Rn[--In],Rn[In]=null}var tn=null,oe=null,jt=!1,_s=null,Wn=!1,Fh=Error(s(519));function vs(e){var n=Error(s(418,""));throw Mo(bn(n,e)),Fh}function Cg(e){var n=e.stateNode,a=e.type,o=e.memoizedProps;switch(n[ve]=e,n[de]=o,a){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(a=0;a<nl.length;a++)Ct(nl[a],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),is(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Xs(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),rs(n,o.value,o.defaultValue,o.children),Xs(n)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||o.suppressHydrationWarning===!0||Fy(n.textContent,a)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=rc),n=!0):n=!1,n||vs(e)}function Dg(e){for(tn=e.return;tn;)switch(tn.tag){case 5:case 13:Wn=!1;return;case 27:case 3:Wn=!0;return;default:tn=tn.return}}function No(e){if(e!==tn)return!1;if(!jt)return Dg(e),jt=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||ld(e.type,e.memoizedProps)),a=!a),a&&oe&&vs(e),Dg(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(n===0){oe=Un(e.nextSibling);break t}n--}else a!=="$"&&a!=="$!"&&a!=="$?"||n++;e=e.nextSibling}oe=null}}else n===27?(n=oe,_r(e.type)?(e=fd,fd=null,oe=e):oe=n):oe=tn?Un(e.stateNode.nextSibling):null;return!0}function Oo(){oe=tn=null,jt=!1}function Ng(){var e=_s;return e!==null&&(sn===null?sn=e:sn.push.apply(sn,e),_s=null),e}function Mo(e){_s===null?_s=[e]:_s.push(e)}var Qh=X(null),Ts=null,Oi=null;function ir(e,n,a){W(Qh,n._currentValue),n._currentValue=a}function Mi(e){e._currentValue=Qh.current,it(Qh)}function Kh(e,n,a){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===a)break;e=e.return}}function Yh(e,n,a,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var v=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var w=0;w<n.length;w++)if(T.context===n[w]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),Kh(f.return,a,e),o||(v=null);break t}f=T.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Kh(v,a,e),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===e){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Vo(e,n,a,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var T=h.type;cn(h.pendingProps.value,v.value)||(e!==null?e.push(T):e=[T])}}else if(h===Ie.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(ll):e=[ll])}h=h.return}e!==null&&Yh(n,e,a,o),n.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!cn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Es(e){Ts=e,Oi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ge(e){return Og(Ts,e)}function Ru(e,n){return Ts===null&&Es(e),Og(e,n)}function Og(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Oi===null){if(e===null)throw Error(s(308));Oi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Oi=Oi.next=n;return a}var F0=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Q0=r.unstable_scheduleCallback,K0=r.unstable_NormalPriority,Ae={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xh(){return{controller:new F0,data:new Map,refCount:0}}function xo(e){e.refCount--,e.refCount===0&&Q0(K0,function(){e.controller.abort()})}var ko=null,$h=0,fa=0,da=null;function Y0(e,n){if(ko===null){var a=ko=[];$h=0,fa=Wf(),da={status:"pending",value:void 0,then:function(o){a.push(o)}}}return $h++,n.then(Mg,Mg),n}function Mg(){if(--$h===0&&ko!==null){da!==null&&(da.status="fulfilled");var e=ko;ko=null,fa=0,da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function X0(e,n){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<a.length;h++)(0,a[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var Vg=H.S;H.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&Y0(e,n),Vg!==null&&Vg(e,n)};var As=X(null);function Zh(){var e=As.current;return e!==null?e:Jt.pooledCache}function Iu(e,n){n===null?W(As,As.current):W(As,n.pool)}function xg(){var e=Zh();return e===null?null:{parent:Ae._currentValue,pool:e}}var Po=Error(s(460)),kg=Error(s(474)),Cu=Error(s(542)),Jh={then:function(){}};function Pg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Du(){}function Ug(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(Du,Du),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e;default:if(typeof n.status=="string")n.then(Du,Du);else{if(e=Jt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e}throw Uo=n,Po}}var Uo=null;function Lg(){if(Uo===null)throw Error(s(459));var e=Uo;return Uo=null,e}function zg(e){if(e===Po||e===Cu)throw Error(s(483))}var rr=!1;function Wh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function sr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ar(e,n,a){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Eu(e),wg(e,null,a),n}return Tu(e,o,n,a),Eu(e)}function Lo(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,ho(e,a)}}function ef(e,n){var a=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?h=f=n:f=f.next=n}else h=f=n;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var nf=!1;function zo(){if(nf){var e=da;if(e!==null)throw e}}function jo(e,n,a,o){nf=!1;var h=e.updateQueue;rr=!1;var f=h.firstBaseUpdate,v=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var w=T,L=w.next;w.next=null,v===null?f=L:v.next=L,v=w;var G=e.alternate;G!==null&&(G=G.updateQueue,T=G.lastBaseUpdate,T!==v&&(T===null?G.firstBaseUpdate=L:T.next=L,G.lastBaseUpdate=w))}if(f!==null){var K=h.baseState;v=0,G=L=w=null,T=f;do{var z=T.lane&-536870913,j=z!==T.lane;if(j?(xt&z)===z:(o&z)===z){z!==0&&z===fa&&(nf=!0),G!==null&&(G=G.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var pt=e,ft=T;z=n;var Xt=a;switch(ft.tag){case 1:if(pt=ft.payload,typeof pt=="function"){K=pt.call(Xt,K,z);break t}K=pt;break t;case 3:pt.flags=pt.flags&-65537|128;case 0:if(pt=ft.payload,z=typeof pt=="function"?pt.call(Xt,K,z):pt,z==null)break t;K=S({},K,z);break t;case 2:rr=!0}}z=T.callback,z!==null&&(e.flags|=64,j&&(e.flags|=8192),j=h.callbacks,j===null?h.callbacks=[z]:j.push(z))}else j={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},G===null?(L=G=j,w=K):G=G.next=j,v|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;j=T,T=j.next,j.next=null,h.lastBaseUpdate=j,h.shared.pending=null}}while(!0);G===null&&(w=K),h.baseState=w,h.firstBaseUpdate=L,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),mr|=v,e.lanes=v,e.memoizedState=K}}function jg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Bg(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)jg(a[e],n)}var ma=X(null),Nu=X(0);function qg(e,n){e=zi,W(Nu,e),W(ma,n),zi=e|n.baseLanes}function rf(){W(Nu,zi),W(ma,ma.current)}function sf(){zi=Nu.current,it(ma),it(Nu)}var or=0,bt=null,Kt=null,ge=null,Ou=!1,ga=!1,Ss=!1,Mu=0,Bo=0,pa=null,$0=0;function ce(){throw Error(s(321))}function af(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!cn(e[a],n[a]))return!1;return!0}function of(e,n,a,o,h,f){return or=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?wp:Rp,Ss=!1,f=a(o,h),Ss=!1,ga&&(f=Gg(n,a,o,h)),Hg(e),f}function Hg(e){H.H=Lu;var n=Kt!==null&&Kt.next!==null;if(or=0,ge=Kt=bt=null,Ou=!1,Bo=0,pa=null,n)throw Error(s(300));e===null||Ne||(e=e.dependencies,e!==null&&wu(e)&&(Ne=!0))}function Gg(e,n,a,o){bt=e;var h=0;do{if(ga&&(pa=null),Bo=0,ga=!1,25<=h)throw Error(s(301));if(h+=1,ge=Kt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=iA,f=n(a,o)}while(ga);return f}function Z0(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?qo(n):n,e=e.useState()[0],(Kt!==null?Kt.memoizedState:null)!==e&&(bt.flags|=1024),n}function lf(){var e=Mu!==0;return Mu=0,e}function uf(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function cf(e){if(Ou){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ou=!1}or=0,ge=Kt=bt=null,ga=!1,Bo=Mu=0,pa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ge===null?bt.memoizedState=ge=e:ge=ge.next=e,ge}function pe(){if(Kt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Kt.next;var n=ge===null?bt.memoizedState:ge.next;if(n!==null)ge=n,Kt=e;else{if(e===null)throw bt.alternate===null?Error(s(467)):Error(s(310));Kt=e,e={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},ge===null?bt.memoizedState=ge=e:ge=ge.next=e}return ge}function hf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function qo(e){var n=Bo;return Bo+=1,pa===null&&(pa=[]),e=Ug(pa,e,n),n=bt,(ge===null?n.memoizedState:ge.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?wp:Rp),e}function Vu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return qo(e);if(e.$$typeof===ut)return Ge(e)}throw Error(s(438,String(e)))}function ff(e){var n=null,a=bt.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=hf(),bt.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),o=0;o<e;o++)a[o]=O;return n.index++,a}function Vi(e,n){return typeof n=="function"?n(e):n}function xu(e){var n=pe();return df(n,Kt,e)}function df(e,n,a){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var v=h.next;h.next=f.next,f.next=v}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=v=null,w=null,L=n,G=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(xt&K)===K:(or&K)===K){var z=L.revertLane;if(z===0)w!==null&&(w=w.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===fa&&(G=!0);else if((or&z)===z){L=L.next,z===fa&&(G=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(T=w=K,v=f):w=w.next=K,bt.lanes|=z,mr|=z;K=L.action,Ss&&a(f,K),f=L.hasEagerState?L.eagerState:a(f,K)}else z={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},w===null?(T=w=z,v=f):w=w.next=z,bt.lanes|=K,mr|=K;L=L.next}while(L!==null&&L!==n);if(w===null?v=f:w.next=T,!cn(f,e.memoizedState)&&(Ne=!0,G&&(a=da,a!==null)))throw a;e.memoizedState=f,e.baseState=v,e.baseQueue=w,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function mf(e){var n=pe(),a=n.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=e;var o=a.dispatch,h=a.pending,f=n.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do f=e(f,v.action),v=v.next;while(v!==h);cn(f,n.memoizedState)||(Ne=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),a.lastRenderedState=f}return[f,o]}function Fg(e,n,a){var o=bt,h=pe(),f=jt;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=n();var v=!cn((Kt||h).memoizedState,a);v&&(h.memoizedState=a,Ne=!0),h=h.queue;var T=Yg.bind(null,o,h,e);if(Ho(2048,8,T,[e]),h.getSnapshot!==n||v||ge!==null&&ge.memoizedState.tag&1){if(o.flags|=2048,ya(9,ku(),Kg.bind(null,o,h,a,n),null),Jt===null)throw Error(s(349));f||(or&124)!==0||Qg(o,n,a)}return a}function Qg(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=bt.updateQueue,n===null?(n=hf(),bt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function Kg(e,n,a,o){n.value=a,n.getSnapshot=o,Xg(n)&&$g(e)}function Yg(e,n,a){return a(function(){Xg(n)&&$g(e)})}function Xg(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!cn(e,a)}catch{return!0}}function $g(e){var n=la(e,2);n!==null&&pn(n,e,2)}function gf(e){var n=nn();if(typeof e=="function"){var a=e;if(e=a(),Ss){ln(!0);try{a()}finally{ln(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:e},n}function Zg(e,n,a,o){return e.baseState=a,df(e,Kt,typeof o=="function"?o:Vi)}function J0(e,n,a,o,h){if(Uu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};H.T!==null?a(!0):f.isTransition=!1,o(f),a=n.pending,a===null?(f.next=n.pending=f,Jg(n,f)):(f.next=a.next,n.pending=a.next=f)}}function Jg(e,n){var a=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=H.T,v={};H.T=v;try{var T=a(h,o),w=H.S;w!==null&&w(v,T),Wg(e,n,T)}catch(L){pf(e,n,L)}finally{H.T=f}}else try{f=a(h,o),Wg(e,n,f)}catch(L){pf(e,n,L)}}function Wg(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){tp(e,n,o)},function(o){return pf(e,n,o)}):tp(e,n,a)}function tp(e,n,a){n.status="fulfilled",n.value=a,ep(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,Jg(e,a)))}function pf(e,n,a){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=a,ep(n),n=n.next;while(n!==o)}e.action=null}function ep(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function np(e,n){return n}function ip(e,n){if(jt){var a=Jt.formState;if(a!==null){t:{var o=bt;if(jt){if(oe){e:{for(var h=oe,f=Wn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Un(h.nextSibling),o=h.data==="F!";break t}}vs(o)}o=!1}o&&(n=a[0])}}return a=nn(),a.memoizedState=a.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:np,lastRenderedState:n},a.queue=o,a=Ap.bind(null,bt,o),o.dispatch=a,o=gf(!1),f=Ef.bind(null,bt,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,a=J0.bind(null,bt,h,f,a),h.dispatch=a,o.memoizedState=e,[n,a,!1]}function rp(e){var n=pe();return sp(n,Kt,e)}function sp(e,n,a){if(n=df(e,n,np)[0],e=xu(Vi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=qo(n)}catch(v){throw v===Po?Cu:v}else o=n;n=pe();var h=n.queue,f=h.dispatch;return a!==n.memoizedState&&(bt.flags|=2048,ya(9,ku(),W0.bind(null,h,a),null)),[o,f,e]}function W0(e,n){e.action=n}function ap(e){var n=pe(),a=Kt;if(a!==null)return sp(n,a,e);pe(),n=n.memoizedState,a=pe();var o=a.queue.dispatch;return a.memoizedState=e,[n,o,!1]}function ya(e,n,a,o){return e={tag:e,create:a,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=hf(),bt.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(o=a.next,a.next=e,e.next=o,n.lastEffect=e),e}function ku(){return{destroy:void 0,resource:void 0}}function op(){return pe().memoizedState}function Pu(e,n,a,o){var h=nn();o=o===void 0?null:o,bt.flags|=e,h.memoizedState=ya(1|n,ku(),a,o)}function Ho(e,n,a,o){var h=pe();o=o===void 0?null:o;var f=h.memoizedState.inst;Kt!==null&&o!==null&&af(o,Kt.memoizedState.deps)?h.memoizedState=ya(n,f,a,o):(bt.flags|=e,h.memoizedState=ya(1|n,f,a,o))}function lp(e,n){Pu(8390656,8,e,n)}function up(e,n){Ho(2048,8,e,n)}function cp(e,n){return Ho(4,2,e,n)}function hp(e,n){return Ho(4,4,e,n)}function fp(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function dp(e,n,a){a=a!=null?a.concat([e]):null,Ho(4,4,fp.bind(null,n,e),a)}function yf(){}function mp(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;return n!==null&&af(n,o[1])?o[0]:(a.memoizedState=[e,n],e)}function gp(e,n){var a=pe();n=n===void 0?null:n;var o=a.memoizedState;if(n!==null&&af(n,o[1]))return o[0];if(o=e(),Ss){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[o,n],o}function _f(e,n,a){return a===void 0||(or&1073741824)!==0?e.memoizedState=n:(e.memoizedState=a,e=_y(),bt.lanes|=e,mr|=e,a)}function pp(e,n,a,o){return cn(a,n)?a:ma.current!==null?(e=_f(e,a,o),cn(e,n)||(Ne=!0),e):(or&42)===0?(Ne=!0,e.memoizedState=a):(e=_y(),bt.lanes|=e,mr|=e,n)}function yp(e,n,a,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var v=H.T,T={};H.T=T,Ef(e,!1,n,a);try{var w=h(),L=H.S;if(L!==null&&L(T,w),w!==null&&typeof w=="object"&&typeof w.then=="function"){var G=X0(w,o);Go(e,n,G,gn(e))}else Go(e,n,o,gn(e))}catch(K){Go(e,n,{then:function(){},status:"rejected",reason:K},gn())}finally{nt.p=f,H.T=v}}function tA(){}function vf(e,n,a,o){if(e.tag!==5)throw Error(s(476));var h=_p(e).queue;yp(e,h,n,lt,a===null?tA:function(){return vp(e),a(o)})}function _p(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:lt,baseState:lt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:lt},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function vp(e){var n=_p(e).next.queue;Go(e,n,{},gn())}function Tf(){return Ge(ll)}function Tp(){return pe().memoizedState}function Ep(){return pe().memoizedState}function eA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=gn();e=sr(a);var o=ar(n,e,a);o!==null&&(pn(o,n,a),Lo(o,n,a)),n={cache:Xh()},e.payload=n;return}n=n.return}}function nA(e,n,a){var o=gn();a={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Uu(e)?Sp(n,a):(a=zh(e,n,a,o),a!==null&&(pn(a,e,o),bp(a,n,o)))}function Ap(e,n,a){var o=gn();Go(e,n,a,o)}function Go(e,n,a,o){var h={lane:o,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Uu(e))Sp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var v=n.lastRenderedState,T=f(v,a);if(h.hasEagerState=!0,h.eagerState=T,cn(T,v))return Tu(e,n,h,0),Jt===null&&vu(),!1}catch{}finally{}if(a=zh(e,n,h,o),a!==null)return pn(a,e,o),bp(a,n,o),!0}return!1}function Ef(e,n,a,o){if(o={lane:2,revertLane:Wf(),action:o,hasEagerState:!1,eagerState:null,next:null},Uu(e)){if(n)throw Error(s(479))}else n=zh(e,a,o,2),n!==null&&pn(n,e,2)}function Uu(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function Sp(e,n){ga=Ou=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function bp(e,n,a){if((a&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,a|=o,n.lanes=a,ho(e,a)}}var Lu={readContext:Ge,use:Vu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce},wp={readContext:Ge,use:Vu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:Ge,useEffect:lp,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,Pu(4194308,4,fp.bind(null,n,e),a)},useLayoutEffect:function(e,n){return Pu(4194308,4,e,n)},useInsertionEffect:function(e,n){Pu(4,2,e,n)},useMemo:function(e,n){var a=nn();n=n===void 0?null:n;var o=e();if(Ss){ln(!0);try{e()}finally{ln(!1)}}return a.memoizedState=[o,n],o},useReducer:function(e,n,a){var o=nn();if(a!==void 0){var h=a(n);if(Ss){ln(!0);try{a(n)}finally{ln(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=nA.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=gf(e);var n=e.queue,a=Ap.bind(null,bt,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:yf,useDeferredValue:function(e,n){var a=nn();return _f(a,e,n)},useTransition:function(){var e=gf(!1);return e=yp.bind(null,bt,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var o=bt,h=nn();if(jt){if(a===void 0)throw Error(s(407));a=a()}else{if(a=n(),Jt===null)throw Error(s(349));(xt&124)!==0||Qg(o,n,a)}h.memoizedState=a;var f={value:a,getSnapshot:n};return h.queue=f,lp(Yg.bind(null,o,f,e),[e]),o.flags|=2048,ya(9,ku(),Kg.bind(null,o,f,a,n),null),a},useId:function(){var e=nn(),n=Jt.identifierPrefix;if(jt){var a=Ni,o=Di;a=(o&~(1<<32-He(o)-1)).toString(32)+a,n=""+n+"R"+a,a=Mu++,0<a&&(n+="H"+a.toString(32)),n+=""}else a=$0++,n=""+n+"r"+a.toString(32)+"";return e.memoizedState=n},useHostTransitionStatus:Tf,useFormState:ip,useActionState:ip,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=Ef.bind(null,bt,!0,a),a.dispatch=n,[e,n]},useMemoCache:ff,useCacheRefresh:function(){return nn().memoizedState=eA.bind(null,bt)}},Rp={readContext:Ge,use:Vu,useCallback:mp,useContext:Ge,useEffect:up,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:xu,useRef:op,useState:function(){return xu(Vi)},useDebugValue:yf,useDeferredValue:function(e,n){var a=pe();return pp(a,Kt.memoizedState,e,n)},useTransition:function(){var e=xu(Vi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Fg,useId:Tp,useHostTransitionStatus:Tf,useFormState:rp,useActionState:rp,useOptimistic:function(e,n){var a=pe();return Zg(a,Kt,e,n)},useMemoCache:ff,useCacheRefresh:Ep},iA={readContext:Ge,use:Vu,useCallback:mp,useContext:Ge,useEffect:up,useImperativeHandle:dp,useInsertionEffect:cp,useLayoutEffect:hp,useMemo:gp,useReducer:mf,useRef:op,useState:function(){return mf(Vi)},useDebugValue:yf,useDeferredValue:function(e,n){var a=pe();return Kt===null?_f(a,e,n):pp(a,Kt.memoizedState,e,n)},useTransition:function(){var e=mf(Vi)[0],n=pe().memoizedState;return[typeof e=="boolean"?e:qo(e),n]},useSyncExternalStore:Fg,useId:Tp,useHostTransitionStatus:Tf,useFormState:ap,useActionState:ap,useOptimistic:function(e,n){var a=pe();return Kt!==null?Zg(a,Kt,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:ff,useCacheRefresh:Ep},_a=null,Fo=0;function zu(e){var n=Fo;return Fo+=1,_a===null&&(_a=[]),Ug(_a,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===I?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Ip(e){var n=e._init;return n(e._payload)}function Cp(e){function n(x,N){if(e){var U=x.deletions;U===null?(x.deletions=[N],x.flags|=16):U.push(N)}}function a(x,N){if(!e)return null;for(;N!==null;)n(x,N),N=N.sibling;return null}function o(x){for(var N=new Map;x!==null;)x.key!==null?N.set(x.key,x):N.set(x.index,x),x=x.sibling;return N}function h(x,N){return x=Ci(x,N),x.index=0,x.sibling=null,x}function f(x,N,U){return x.index=U,e?(U=x.alternate,U!==null?(U=U.index,U<N?(x.flags|=67108866,N):U):(x.flags|=67108866,N)):(x.flags|=1048576,N)}function v(x){return e&&x.alternate===null&&(x.flags|=67108866),x}function T(x,N,U,Q){return N===null||N.tag!==6?(N=Bh(U,x.mode,Q),N.return=x,N):(N=h(N,U),N.return=x,N)}function w(x,N,U,Q){var st=U.type;return st===Z?G(x,N,U.props.children,Q,U.key):N!==null&&(N.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===E&&Ip(st)===N.type)?(N=h(N,U.props),Qo(N,U),N.return=x,N):(N=Au(U.type,U.key,U.props,null,x.mode,Q),Qo(N,U),N.return=x,N)}function L(x,N,U,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?(N=qh(U,x.mode,Q),N.return=x,N):(N=h(N,U.children||[]),N.return=x,N)}function G(x,N,U,Q,st){return N===null||N.tag!==7?(N=gs(U,x.mode,Q,st),N.return=x,N):(N=h(N,U),N.return=x,N)}function K(x,N,U){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Bh(""+N,x.mode,U),N.return=x,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case D:return U=Au(N.type,N.key,N.props,null,x.mode,U),Qo(U,N),U.return=x,U;case q:return N=qh(N,x.mode,U),N.return=x,N;case E:var Q=N._init;return N=Q(N._payload),K(x,N,U)}if(se(N)||k(N))return N=gs(N,x.mode,U,null),N.return=x,N;if(typeof N.then=="function")return K(x,zu(N),U);if(N.$$typeof===ut)return K(x,Ru(x,N),U);ju(x,N)}return null}function z(x,N,U,Q){var st=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return st!==null?null:T(x,N,""+U,Q);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case D:return U.key===st?w(x,N,U,Q):null;case q:return U.key===st?L(x,N,U,Q):null;case E:return st=U._init,U=st(U._payload),z(x,N,U,Q)}if(se(U)||k(U))return st!==null?null:G(x,N,U,Q,null);if(typeof U.then=="function")return z(x,N,zu(U),Q);if(U.$$typeof===ut)return z(x,N,Ru(x,U),Q);ju(x,U)}return null}function j(x,N,U,Q,st){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return x=x.get(U)||null,T(N,x,""+Q,st);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return x=x.get(Q.key===null?U:Q.key)||null,w(N,x,Q,st);case q:return x=x.get(Q.key===null?U:Q.key)||null,L(N,x,Q,st);case E:var Rt=Q._init;return Q=Rt(Q._payload),j(x,N,U,Q,st)}if(se(Q)||k(Q))return x=x.get(U)||null,G(N,x,Q,st,null);if(typeof Q.then=="function")return j(x,N,U,zu(Q),st);if(Q.$$typeof===ut)return j(x,N,U,Ru(N,Q),st);ju(N,Q)}return null}function pt(x,N,U,Q){for(var st=null,Rt=null,ot=N,mt=N=0,Me=null;ot!==null&&mt<U.length;mt++){ot.index>mt?(Me=ot,ot=null):Me=ot.sibling;var Lt=z(x,ot,U[mt],Q);if(Lt===null){ot===null&&(ot=Me);break}e&&ot&&Lt.alternate===null&&n(x,ot),N=f(Lt,N,mt),Rt===null?st=Lt:Rt.sibling=Lt,Rt=Lt,ot=Me}if(mt===U.length)return a(x,ot),jt&&ys(x,mt),st;if(ot===null){for(;mt<U.length;mt++)ot=K(x,U[mt],Q),ot!==null&&(N=f(ot,N,mt),Rt===null?st=ot:Rt.sibling=ot,Rt=ot);return jt&&ys(x,mt),st}for(ot=o(ot);mt<U.length;mt++)Me=j(ot,x,mt,U[mt],Q),Me!==null&&(e&&Me.alternate!==null&&ot.delete(Me.key===null?mt:Me.key),N=f(Me,N,mt),Rt===null?st=Me:Rt.sibling=Me,Rt=Me);return e&&ot.forEach(function(Sr){return n(x,Sr)}),jt&&ys(x,mt),st}function ft(x,N,U,Q){if(U==null)throw Error(s(151));for(var st=null,Rt=null,ot=N,mt=N=0,Me=null,Lt=U.next();ot!==null&&!Lt.done;mt++,Lt=U.next()){ot.index>mt?(Me=ot,ot=null):Me=ot.sibling;var Sr=z(x,ot,Lt.value,Q);if(Sr===null){ot===null&&(ot=Me);break}e&&ot&&Sr.alternate===null&&n(x,ot),N=f(Sr,N,mt),Rt===null?st=Sr:Rt.sibling=Sr,Rt=Sr,ot=Me}if(Lt.done)return a(x,ot),jt&&ys(x,mt),st;if(ot===null){for(;!Lt.done;mt++,Lt=U.next())Lt=K(x,Lt.value,Q),Lt!==null&&(N=f(Lt,N,mt),Rt===null?st=Lt:Rt.sibling=Lt,Rt=Lt);return jt&&ys(x,mt),st}for(ot=o(ot);!Lt.done;mt++,Lt=U.next())Lt=j(ot,x,mt,Lt.value,Q),Lt!==null&&(e&&Lt.alternate!==null&&ot.delete(Lt.key===null?mt:Lt.key),N=f(Lt,N,mt),Rt===null?st=Lt:Rt.sibling=Lt,Rt=Lt);return e&&ot.forEach(function(r1){return n(x,r1)}),jt&&ys(x,mt),st}function Xt(x,N,U,Q){if(typeof U=="object"&&U!==null&&U.type===Z&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case D:t:{for(var st=U.key;N!==null;){if(N.key===st){if(st=U.type,st===Z){if(N.tag===7){a(x,N.sibling),Q=h(N,U.props.children),Q.return=x,x=Q;break t}}else if(N.elementType===st||typeof st=="object"&&st!==null&&st.$$typeof===E&&Ip(st)===N.type){a(x,N.sibling),Q=h(N,U.props),Qo(Q,U),Q.return=x,x=Q;break t}a(x,N);break}else n(x,N);N=N.sibling}U.type===Z?(Q=gs(U.props.children,x.mode,Q,U.key),Q.return=x,x=Q):(Q=Au(U.type,U.key,U.props,null,x.mode,Q),Qo(Q,U),Q.return=x,x=Q)}return v(x);case q:t:{for(st=U.key;N!==null;){if(N.key===st)if(N.tag===4&&N.stateNode.containerInfo===U.containerInfo&&N.stateNode.implementation===U.implementation){a(x,N.sibling),Q=h(N,U.children||[]),Q.return=x,x=Q;break t}else{a(x,N);break}else n(x,N);N=N.sibling}Q=qh(U,x.mode,Q),Q.return=x,x=Q}return v(x);case E:return st=U._init,U=st(U._payload),Xt(x,N,U,Q)}if(se(U))return pt(x,N,U,Q);if(k(U)){if(st=k(U),typeof st!="function")throw Error(s(150));return U=st.call(U),ft(x,N,U,Q)}if(typeof U.then=="function")return Xt(x,N,zu(U),Q);if(U.$$typeof===ut)return Xt(x,N,Ru(x,U),Q);ju(x,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,N!==null&&N.tag===6?(a(x,N.sibling),Q=h(N,U),Q.return=x,x=Q):(a(x,N),Q=Bh(U,x.mode,Q),Q.return=x,x=Q),v(x)):a(x,N)}return function(x,N,U,Q){try{Fo=0;var st=Xt(x,N,U,Q);return _a=null,st}catch(ot){if(ot===Po||ot===Cu)throw ot;var Rt=hn(29,ot,null,x.mode);return Rt.lanes=Q,Rt.return=x,Rt}finally{}}}var va=Cp(!0),Dp=Cp(!1),Cn=X(null),ti=null;function lr(e){var n=e.alternate;W(Se,Se.current&1),W(Cn,e),ti===null&&(n===null||ma.current!==null||n.memoizedState!==null)&&(ti=e)}function Np(e){if(e.tag===22){if(W(Se,Se.current),W(Cn,e),ti===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&(ti=e)}}else ur()}function ur(){W(Se,Se.current),W(Cn,Cn.current)}function xi(e){it(Cn),ti===e&&(ti=null),it(Se)}var Se=X(0);function Bu(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hd(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function Af(e,n,a,o){n=e.memoizedState,a=a(o,n),a=a==null?n:S({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var Sf={enqueueSetState:function(e,n,a){e=e._reactInternals;var o=gn(),h=sr(o);h.payload=n,a!=null&&(h.callback=a),n=ar(e,h,o),n!==null&&(pn(n,e,o),Lo(n,e,o))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var o=gn(),h=sr(o);h.tag=1,h.payload=n,a!=null&&(h.callback=a),n=ar(e,h,o),n!==null&&(pn(n,e,o),Lo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=gn(),o=sr(a);o.tag=2,n!=null&&(o.callback=n),n=ar(e,o,a),n!==null&&(pn(n,e,a),Lo(n,e,a))}};function Op(e,n,a,o,h,f,v){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,v):n.prototype&&n.prototype.isPureReactComponent?!Co(a,o)||!Co(h,f):!0}function Mp(e,n,a,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,o),n.state!==e&&Sf.enqueueReplaceState(n,n.state,null)}function bs(e,n){var a=n;if("ref"in n){a={};for(var o in n)o!=="ref"&&(a[o]=n[o])}if(e=e.defaultProps){a===n&&(a=S({},a));for(var h in e)a[h]===void 0&&(a[h]=e[h])}return a}var qu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Vp(e){qu(e)}function xp(e){console.error(e)}function kp(e){qu(e)}function Hu(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Pp(e,n,a){try{var o=e.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function bf(e,n,a){return a=sr(a),a.tag=3,a.payload={element:null},a.callback=function(){Hu(e,n)},a}function Up(e){return e=sr(e),e.tag=3,e}function Lp(e,n,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Pp(n,a,o)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(e.callback=function(){Pp(n,a,o),typeof h!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var T=o.stack;this.componentDidCatch(o.value,{componentStack:T!==null?T:""})})}function rA(e,n,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=a.alternate,n!==null&&Vo(n,a,h,!0),a=Cn.current,a!==null){switch(a.tag){case 13:return ti===null?Yf():a.alternate===null&&le===0&&(le=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===Jh?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([o]):n.add(o),$f(e,o,h)),!1;case 22:return a.flags|=65536,o===Jh?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([o]):a.add(o)),$f(e,o,h)),!1}throw Error(s(435,a.tag))}return $f(e,o,h),Yf(),!1}if(jt)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Fh&&(e=Error(s(422),{cause:o}),Mo(bn(e,a)))):(o!==Fh&&(n=Error(s(423),{cause:o}),Mo(bn(n,a))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=bn(o,a),h=bf(e.stateNode,o,h),ef(e,h),le!==4&&(le=2)),!1;var f=Error(s(520),{cause:o});if(f=bn(f,a),Wo===null?Wo=[f]:Wo.push(f),le!==4&&(le=2),n===null)return!0;o=bn(o,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=h&-h,a.lanes|=e,e=bf(a.stateNode,o,e),ef(a,e),!1;case 1:if(n=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(gr===null||!gr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Up(h),Lp(h,e,a,o),ef(a,h),!1}a=a.return}while(a!==null);return!1}var zp=Error(s(461)),Ne=!1;function Ue(e,n,a,o){n.child=e===null?Dp(n,null,a,o):va(n,e.child,a,o)}function jp(e,n,a,o,h){a=a.render;var f=n.ref;if("ref"in o){var v={};for(var T in o)T!=="ref"&&(v[T]=o[T])}else v=o;return Es(n),o=of(e,n,a,v,f,h),T=lf(),e!==null&&!Ne?(uf(e,n,h),ki(e,n,h)):(jt&&T&&Hh(n),n.flags|=1,Ue(e,n,o,h),n.child)}function Bp(e,n,a,o,h){if(e===null){var f=a.type;return typeof f=="function"&&!jh(f)&&f.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=f,qp(e,n,f,o,h)):(e=Au(a.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Mf(e,h)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:Co,a(v,o)&&e.ref===n.ref)return ki(e,n,h)}return n.flags|=1,e=Ci(f,o),e.ref=n.ref,e.return=n,n.child=e}function qp(e,n,a,o,h){if(e!==null){var f=e.memoizedProps;if(Co(f,o)&&e.ref===n.ref)if(Ne=!1,n.pendingProps=o=f,Mf(e,h))(e.flags&131072)!==0&&(Ne=!0);else return n.lanes=e.lanes,ki(e,n,h)}return wf(e,n,a,o,h)}function Hp(e,n,a){var o=n.pendingProps,h=o.children,f=e!==null?e.memoizedState:null;if(o.mode==="hidden"){if((n.flags&128)!==0){if(o=f!==null?f.baseLanes|a:a,e!==null){for(h=n.child=e.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Gp(e,n,o,a)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Iu(n,f!==null?f.cachePool:null),f!==null?qg(n,f):rf(),Np(n);else return n.lanes=n.childLanes=536870912,Gp(e,n,f!==null?f.baseLanes|a:a,a)}else f!==null?(Iu(n,f.cachePool),qg(n,f),ur(),n.memoizedState=null):(e!==null&&Iu(n,null),rf(),ur());return Ue(e,n,h,a),n.child}function Gp(e,n,a,o){var h=Zh();return h=h===null?null:{parent:Ae._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&Iu(n,null),rf(),Np(n),e!==null&&Vo(e,n,o,!0),null}function Gu(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function wf(e,n,a,o,h){return Es(n),a=of(e,n,a,o,void 0,h),o=lf(),e!==null&&!Ne?(uf(e,n,h),ki(e,n,h)):(jt&&o&&Hh(n),n.flags|=1,Ue(e,n,a,h),n.child)}function Fp(e,n,a,o,h,f){return Es(n),n.updateQueue=null,a=Gg(n,o,a,h),Hg(e),o=lf(),e!==null&&!Ne?(uf(e,n,f),ki(e,n,f)):(jt&&o&&Hh(n),n.flags|=1,Ue(e,n,a,f),n.child)}function Qp(e,n,a,o,h){if(Es(n),n.stateNode===null){var f=ua,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ge(v)),f=new a(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Sf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},Wh(n),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ge(v):ua,f.state=n.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Af(n,a,v,o),f.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&Sf.enqueueReplaceState(f,f.state,null),jo(n,o,f,h),zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,w=bs(a,T);f.props=w;var L=f.context,G=a.contextType;v=ua,typeof G=="object"&&G!==null&&(v=Ge(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||L!==v)&&Mp(n,f,o,v),rr=!1;var z=n.memoizedState;f.state=z,jo(n,o,f,h),zo(),L=n.memoizedState,T||z!==L||rr?(typeof K=="function"&&(Af(n,a,K,o),L=n.memoizedState),(w=rr||Op(n,a,w,o,z,L,v))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=L),f.props=o,f.state=L,f.context=v,o=w):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,tf(e,n),v=n.memoizedProps,G=bs(a,v),f.props=G,K=n.pendingProps,z=f.context,L=a.contextType,w=ua,typeof L=="object"&&L!==null&&(w=Ge(L)),T=a.getDerivedStateFromProps,(L=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==K||z!==w)&&Mp(n,f,o,w),rr=!1,z=n.memoizedState,f.state=z,jo(n,o,f,h),zo();var j=n.memoizedState;v!==K||z!==j||rr||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof T=="function"&&(Af(n,a,T,o),j=n.memoizedState),(G=rr||Op(n,a,G,o,z,j,w)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,j,w),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,j,w)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=w,o=G):(typeof f.componentDidUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Gu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=va(n,e.child,null,h),n.child=va(n,null,a,h)):Ue(e,n,a,h),n.memoizedState=f.state,e=n.child):e=ki(e,n,h),e}function Kp(e,n,a,o){return Oo(),n.flags|=256,Ue(e,n,a,o),n.child}var Rf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function If(e){return{baseLanes:e,cachePool:xg()}}function Cf(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=Dn),e}function Yp(e,n,a){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,v;if((v=f)||(v=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),v&&(h=!0,n.flags&=-129),v=(n.flags&32)!==0,n.flags&=-33,e===null){if(jt){if(h?lr(n):ur(),jt){var T=oe,w;if(w=T){t:{for(w=T,T=Wn;w.nodeType!==8;){if(!T){T=null;break t}if(w=Un(w.nextSibling),w===null){T=null;break t}}T=w}T!==null?(n.memoizedState={dehydrated:T,treeContext:ps!==null?{id:Di,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},w=hn(18,null,null,0),w.stateNode=T,w.return=n,n.child=w,tn=n,oe=null,w=!0):w=!1}w||vs(n)}if(T=n.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return hd(T)?n.lanes=32:n.lanes=536870912,null;xi(n)}return T=o.children,o=o.fallback,h?(ur(),h=n.mode,T=Fu({mode:"hidden",children:T},h),o=gs(o,h,a,null),T.return=n,o.return=n,T.sibling=o,n.child=T,h=n.child,h.memoizedState=If(a),h.childLanes=Cf(e,v,a),n.memoizedState=Rf,o):(lr(n),Df(n,T))}if(w=e.memoizedState,w!==null&&(T=w.dehydrated,T!==null)){if(f)n.flags&256?(lr(n),n.flags&=-257,n=Nf(e,n,a)):n.memoizedState!==null?(ur(),n.child=e.child,n.flags|=128,n=null):(ur(),h=o.fallback,T=n.mode,o=Fu({mode:"visible",children:o.children},T),h=gs(h,T,a,null),h.flags|=2,o.return=n,h.return=n,o.sibling=h,n.child=o,va(n,e.child,null,a),o=n.child,o.memoizedState=If(a),o.childLanes=Cf(e,v,a),n.memoizedState=Rf,n=h);else if(lr(n),hd(T)){if(v=T.nextSibling&&T.nextSibling.dataset,v)var L=v.dgst;v=L,o=Error(s(419)),o.stack="",o.digest=v,Mo({value:o,source:null,stack:null}),n=Nf(e,n,a)}else if(Ne||Vo(e,n,a,!1),v=(a&e.childLanes)!==0,Ne||v){if(v=Jt,v!==null&&(o=a&-a,o=(o&42)!==0?1:$i(o),o=(o&(v.suspendedLanes|a))!==0?0:o,o!==0&&o!==w.retryLane))throw w.retryLane=o,la(e,o),pn(v,e,o),zp;T.data==="$?"||Yf(),n=Nf(e,n,a)}else T.data==="$?"?(n.flags|=192,n.child=e.child,n=null):(e=w.treeContext,oe=Un(T.nextSibling),tn=n,jt=!0,_s=null,Wn=!1,e!==null&&(Rn[In++]=Di,Rn[In++]=Ni,Rn[In++]=ps,Di=e.id,Ni=e.overflow,ps=n),n=Df(n,o.children),n.flags|=4096);return n}return h?(ur(),h=o.fallback,T=n.mode,w=e.child,L=w.sibling,o=Ci(w,{mode:"hidden",children:o.children}),o.subtreeFlags=w.subtreeFlags&65011712,L!==null?h=Ci(L,h):(h=gs(h,T,a,null),h.flags|=2),h.return=n,o.return=n,o.sibling=h,n.child=o,o=h,h=n.child,T=e.child.memoizedState,T===null?T=If(a):(w=T.cachePool,w!==null?(L=Ae._currentValue,w=w.parent!==L?{parent:L,pool:L}:w):w=xg(),T={baseLanes:T.baseLanes|a,cachePool:w}),h.memoizedState=T,h.childLanes=Cf(e,v,a),n.memoizedState=Rf,o):(lr(n),a=e.child,e=a.sibling,a=Ci(a,{mode:"visible",children:o.children}),a.return=n,a.sibling=null,e!==null&&(v=n.deletions,v===null?(n.deletions=[e],n.flags|=16):v.push(e)),n.child=a,n.memoizedState=null,a)}function Df(e,n){return n=Fu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Fu(e,n){return e=hn(22,e,null,n),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Nf(e,n,a){return va(n,e.child,null,a),e=Df(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Xp(e,n,a){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Kh(e.return,n,a)}function Of(e,n,a,o,h){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=a,f.tailMode=h)}function $p(e,n,a){var o=n.pendingProps,h=o.revealOrder,f=o.tail;if(Ue(e,n,o.children,a),o=Se.current,(o&2)!==0)o=o&1|2,n.flags|=128;else{if(e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Xp(e,a,n);else if(e.tag===19)Xp(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(W(Se,o),h){case"forwards":for(a=n.child,h=null;a!==null;)e=a.alternate,e!==null&&Bu(e)===null&&(h=a),a=a.sibling;a=h,a===null?(h=n.child,n.child=null):(h=a.sibling,a.sibling=null),Of(n,!1,h,a,f);break;case"backwards":for(a=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Bu(e)===null){n.child=h;break}e=h.sibling,h.sibling=a,a=h,h=e}Of(n,!0,a,null,f);break;case"together":Of(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function ki(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),mr|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(Vo(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,a=Ci(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ci(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function Mf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function sA(e,n,a){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),ir(n,Ae,e.memoizedState.cache),Oo();break;case 27:case 5:Xi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:ir(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(lr(n),n.flags|=128,null):(a&n.child.childLanes)!==0?Yp(e,n,a):(lr(n),e=ki(e,n,a),e!==null?e.sibling:null);lr(n);break;case 19:var h=(e.flags&128)!==0;if(o=(a&n.childLanes)!==0,o||(Vo(e,n,a,!1),o=(a&n.childLanes)!==0),h){if(o)return $p(e,n,a);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),W(Se,Se.current),o)break;return null;case 22:case 23:return n.lanes=0,Hp(e,n,a);case 24:ir(n,Ae,e.memoizedState.cache)}return ki(e,n,a)}function Zp(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ne=!0;else{if(!Mf(e,a)&&(n.flags&128)===0)return Ne=!1,sA(e,n,a);Ne=(e.flags&131072)!==0}else Ne=!1,jt&&(n.flags&1048576)!==0&&Ig(n,bu,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,h=o._init;if(o=h(o._payload),n.type=o,typeof o=="function")jh(o)?(e=bs(o,e),n.tag=1,n=Qp(null,n,o,e,a)):(n.tag=0,n=wf(null,n,o,e,a));else{if(o!=null){if(h=o.$$typeof,h===Pt){n.tag=11,n=jp(null,n,o,e,a);break t}else if(h===V){n.tag=14,n=Bp(null,n,o,e,a);break t}}throw n=xe(o)||o,Error(s(306,n,""))}}return n;case 0:return wf(e,n,n.type,n.pendingProps,a);case 1:return o=n.type,h=bs(o,n.pendingProps),Qp(e,n,o,h,a);case 3:t:{if(Zt(n,n.stateNode.containerInfo),e===null)throw Error(s(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,tf(e,n),jo(n,o,null,a);var v=n.memoizedState;if(o=v.cache,ir(n,Ae,o),o!==f.cache&&Yh(n,[Ae],a,!0),zo(),o=v.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:v.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Kp(e,n,o,a);break t}else if(o!==h){h=bn(Error(s(424)),n),Mo(h),n=Kp(e,n,o,a);break t}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(oe=Un(e.firstChild),tn=n,jt=!0,_s=null,Wn=!0,a=Dp(n,null,o,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Oo(),o===h){n=ki(e,n,a);break t}Ue(e,n,o,a)}n=n.child}return n;case 26:return Gu(e,n),e===null?(a=e_(n.type,null,n.pendingProps,null))?n.memoizedState=a:jt||(a=n.type,e=n.pendingProps,o=sc(vt.current).createElement(a),o[ve]=n,o[de]=e,ze(o,a,e),ue(o),n.stateNode=o):n.memoizedState=e_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Xi(n),e===null&&jt&&(o=n.stateNode=Jy(n.type,n.pendingProps,vt.current),tn=n,Wn=!0,h=oe,_r(n.type)?(fd=h,oe=Un(o.firstChild)):oe=h),Ue(e,n,n.pendingProps.children,a),Gu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&jt&&((h=o=oe)&&(o=VA(o,n.type,n.pendingProps,Wn),o!==null?(n.stateNode=o,tn=n,oe=Un(o.firstChild),Wn=!1,h=!0):h=!1),h||vs(n)),Xi(n),h=n.type,f=n.pendingProps,v=e!==null?e.memoizedProps:null,o=f.children,ld(h,f)?o=null:v!==null&&ld(h,v)&&(n.flags|=32),n.memoizedState!==null&&(h=of(e,n,Z0,null,null,a),ll._currentValue=h),Gu(e,n),Ue(e,n,o,a),n.child;case 6:return e===null&&jt&&((e=a=oe)&&(a=xA(a,n.pendingProps,Wn),a!==null?(n.stateNode=a,tn=n,oe=null,e=!0):e=!1),e||vs(n)),null;case 13:return Yp(e,n,a);case 4:return Zt(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=va(n,null,o,a):Ue(e,n,o,a),n.child;case 11:return jp(e,n,n.type,n.pendingProps,a);case 7:return Ue(e,n,n.pendingProps,a),n.child;case 8:return Ue(e,n,n.pendingProps.children,a),n.child;case 12:return Ue(e,n,n.pendingProps.children,a),n.child;case 10:return o=n.pendingProps,ir(n,n.type,o.value),Ue(e,n,o.children,a),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Es(n),h=Ge(h),o=o(h),n.flags|=1,Ue(e,n,o,a),n.child;case 14:return Bp(e,n,n.type,n.pendingProps,a);case 15:return qp(e,n,n.type,n.pendingProps,a);case 19:return $p(e,n,a);case 31:return o=n.pendingProps,a=n.mode,o={mode:o.mode,children:o.children},e===null?(a=Fu(o,a),a.ref=n.ref,n.child=a,a.return=n,n=a):(a=Ci(e.child,o),a.ref=n.ref,n.child=a,a.return=n,n=a),n;case 22:return Hp(e,n,a);case 24:return Es(n),o=Ge(Ae),e===null?(h=Zh(),h===null&&(h=Jt,f=Xh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),n.memoizedState={parent:o,cache:h},Wh(n),ir(n,Ae,h)):((e.lanes&a)!==0&&(tf(e,n),jo(n,null,null,a),zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),ir(n,Ae,o)):(o=f.cache,ir(n,Ae,o),o!==h.cache&&Yh(n,[Ae],a,!0))),Ue(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}function Pi(e){e.flags|=4}function Jp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!a_(n)){if(n=Cn.current,n!==null&&((xt&4194048)===xt?ti!==null:(xt&62914560)!==xt&&(xt&536870912)===0||n!==ti))throw Uo=Jh,kg;e.flags|=8192}}function Qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?uo():536870912,e.lanes|=n,Sa|=n)}function Ko(e,n){if(!jt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,o=0;if(n)for(var h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=a,n}function aA(e,n,a){var o=n.pendingProps;switch(Gh(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return a=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Mi(Ae),Bn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(No(n)?Pi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Ng())),ie(n),null;case 26:return a=n.memoizedState,e===null?(Pi(n),a!==null?(ie(n),Jp(n,a)):(ie(n),n.flags&=-16777217)):a?a!==e.memoizedState?(Pi(n),ie(n),Jp(n,a)):(ie(n),n.flags&=-16777217):(e.memoizedProps!==o&&Pi(n),ie(n),n.flags&=-16777217),null;case 27:gi(n),a=vt.current;var h=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}e=ct.current,No(n)?Cg(n):(e=Jy(h,o,a),n.stateNode=e,Pi(n))}return ie(n),null;case 5:if(gi(n),a=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return ie(n),null}if(e=ct.current,No(n))Cg(n);else{switch(h=sc(vt.current),e){case 1:e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?h.createElement("select",{is:o.is}):h.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?h.createElement(a,{is:o.is}):h.createElement(a)}}e[ve]=n,e[de]=o;t:for(h=n.child;h!==null;){if(h.tag===5||h.tag===6)e.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===n)break t;for(;h.sibling===null;){if(h.return===null||h.return===n)break t;h=h.return}h.sibling.return=h.return,h=h.sibling}n.stateNode=e;t:switch(ze(e,a,o),a){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Pi(n)}}return ie(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Pi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=vt.current,No(n)){if(e=n.stateNode,a=n.memoizedProps,o=null,h=tn,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||Fy(e.nodeValue,a)),e||vs(n)}else e=sc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=No(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[ve]=n}else Oo(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Ng(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xi(n),n):(xi(n),null)}if(xi(n),(n.flags&128)!==0)return n.lanes=a,n;if(a=o!==null,e=e!==null&&e.memoizedState!==null,a){o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)}return a!==e&&a&&(n.child.flags|=8192),Qu(n,n.updateQueue),ie(n),null;case 4:return Bn(),e===null&&id(n.stateNode.containerInfo),ie(n),null;case 10:return Mi(n.type),ie(n),null;case 19:if(it(Se),h=n.memoizedState,h===null)return ie(n),null;if(o=(n.flags&128)!==0,f=h.rendering,f===null)if(o)Ko(h,!1);else{if(le!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Bu(e),f!==null){for(n.flags|=128,Ko(h,!1),e=f.updateQueue,n.updateQueue=e,Qu(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Rg(a,e),a=a.sibling;return W(Se,Se.current&1|2),n.child}e=e.sibling}h.tail!==null&&_n()>Xu&&(n.flags|=128,o=!0,Ko(h,!1),n.lanes=4194304)}else{if(!o)if(e=Bu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Qu(n,e),Ko(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!jt)return ie(n),null}else 2*_n()-h.renderingStartTime>Xu&&a!==536870912&&(n.flags|=128,o=!0,Ko(h,!1),n.lanes=4194304);h.isBackwards?(f.sibling=n.child,n.child=f):(e=h.last,e!==null?e.sibling=f:n.child=f,h.last=f)}return h.tail!==null?(n=h.tail,h.rendering=n,h.tail=n.sibling,h.renderingStartTime=_n(),n.sibling=null,e=Se.current,W(Se,o?e&1|2:e&1),n):(ie(n),null);case 22:case 23:return xi(n),sf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(a&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),a=n.updateQueue,a!==null&&Qu(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==a&&(n.flags|=2048),e!==null&&it(As),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),Mi(Ae),ie(n),null;case 25:return null;case 30:return null}throw Error(s(156,n.tag))}function oA(e,n){switch(Gh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Mi(Ae),Bn(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return gi(n),null;case 13:if(xi(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));Oo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return it(Se),null;case 4:return Bn(),null;case 10:return Mi(n.type),null;case 22:case 23:return xi(n),sf(),e!==null&&it(As),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Mi(Ae),null;case 25:return null;default:return null}}function Wp(e,n){switch(Gh(n),n.tag){case 3:Mi(Ae),Bn();break;case 26:case 27:case 5:gi(n);break;case 4:Bn();break;case 13:xi(n);break;case 19:it(Se);break;case 10:Mi(n.type);break;case 22:case 23:xi(n),sf(),e!==null&&it(As);break;case 24:Mi(Ae)}}function Yo(e,n){try{var a=n.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&e)===e){o=void 0;var f=a.create,v=a.inst;o=f(),v.destroy=o}a=a.next}while(a!==h)}}catch(T){$t(n,n.return,T)}}function cr(e,n,a){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var v=o.inst,T=v.destroy;if(T!==void 0){v.destroy=void 0,h=n;var w=a,L=T;try{L()}catch(G){$t(h,w,G)}}}o=o.next}while(o!==f)}}catch(G){$t(n,n.return,G)}}function ty(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{Bg(n,a)}catch(o){$t(e,e.return,o)}}}function ey(e,n,a){a.props=bs(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(o){$t(e,n,o)}}function Xo(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof a=="function"?e.refCleanup=a(o):a.current=o}}catch(h){$t(e,n,h)}}function ei(e,n){var a=e.ref,o=e.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){$t(e,n,h)}else a.current=null}function ny(e){var n=e.type,a=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break t;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){$t(e,e.return,h)}}function Vf(e,n,a){try{var o=e.stateNode;CA(o,e.type,a,n),o[de]=n}catch(h){$t(e,e.return,h)}}function iy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&_r(e.type)||e.tag===4}function xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&_r(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function kf(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=rc));else if(o!==4&&(o===27&&_r(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(kf(e,n,a),e=e.sibling;e!==null;)kf(e,n,a),e=e.sibling}function Ku(e,n,a){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(o!==4&&(o===27&&_r(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Ku(e,n,a),e=e.sibling;e!==null;)Ku(e,n,a),e=e.sibling}function ry(e){var n=e.stateNode,a=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);ze(n,o,a),n[ve]=e,n[de]=a}catch(f){$t(e,e.return,f)}}var Ui=!1,he=!1,Pf=!1,sy=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function lA(e,n){if(e=e.containerInfo,ad=hc,e=pg(e),Vh(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else t:{a=(a=e.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break t}var v=0,T=-1,w=-1,L=0,G=0,K=e,z=null;e:for(;;){for(var j;K!==a||h!==0&&K.nodeType!==3||(T=v+h),K!==f||o!==0&&K.nodeType!==3||(w=v+o),K.nodeType===3&&(v+=K.nodeValue.length),(j=K.firstChild)!==null;)z=K,K=j;for(;;){if(K===e)break e;if(z===a&&++L===h&&(T=v),z===f&&++G===o&&(w=v),(j=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=j}a=T===-1||w===-1?null:{start:T,end:w}}else a=null}a=a||{start:0,end:0}}else a=null;for(od={focusedElem:e,selectionRange:a},hc=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1024)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=n,h=f.memoizedProps,f=f.memoizedState,o=a.stateNode;try{var pt=bs(a.type,h,a.elementType===a.type);e=o.getSnapshotBeforeUpdate(pt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(ft){$t(a,a.return,ft)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)cd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}}function ay(e,n,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:hr(e,a),o&4&&Yo(5,a);break;case 1:if(hr(e,a),o&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(v){$t(a,a.return,v)}else{var h=bs(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(v){$t(a,a.return,v)}}o&64&&ty(a),o&512&&Xo(a,a.return);break;case 3:if(hr(e,a),o&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{Bg(e,n)}catch(v){$t(a,a.return,v)}}break;case 27:n===null&&o&4&&ry(a);case 26:case 5:hr(e,a),n===null&&o&4&&ny(a),o&512&&Xo(a,a.return);break;case 12:hr(e,a);break;case 13:hr(e,a),o&4&&uy(e,a),o&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yA.bind(null,a),kA(e,a))));break;case 22:if(o=a.memoizedState!==null||Ui,!o){n=n!==null&&n.memoizedState!==null||he,h=Ui;var f=he;Ui=o,(he=n)&&!f?fr(e,a,(a.subtreeFlags&8772)!==0):hr(e,a),Ui=h,he=f}break;case 30:break;default:hr(e,a)}}function oy(e){var n=e.alternate;n!==null&&(e.alternate=null,oy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Wi(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,rn=!1;function Li(e,n,a){for(a=a.child;a!==null;)ly(e,n,a),a=a.sibling}function ly(e,n,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(ae,a)}catch{}switch(a.tag){case 26:he||ei(a,n),Li(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:he||ei(a,n);var o=ne,h=rn;_r(a.type)&&(ne=a.stateNode,rn=!1),Li(e,n,a),rl(a.stateNode),ne=o,rn=h;break;case 5:he||ei(a,n);case 6:if(o=ne,h=rn,ne=null,Li(e,n,a),ne=o,rn=h,ne!==null)if(rn)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(f){$t(a,n,f)}else try{ne.removeChild(a.stateNode)}catch(f){$t(a,n,f)}break;case 18:ne!==null&&(rn?(e=ne,$y(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),fl(e)):$y(ne,a.stateNode));break;case 4:o=ne,h=rn,ne=a.stateNode.containerInfo,rn=!0,Li(e,n,a),ne=o,rn=h;break;case 0:case 11:case 14:case 15:he||cr(2,a,n),he||cr(4,a,n),Li(e,n,a);break;case 1:he||(ei(a,n),o=a.stateNode,typeof o.componentWillUnmount=="function"&&ey(a,n,o)),Li(e,n,a);break;case 21:Li(e,n,a);break;case 22:he=(o=he)||a.memoizedState!==null,Li(e,n,a),he=o;break;default:Li(e,n,a)}}function uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{fl(e)}catch(a){$t(n,n.return,a)}}function uA(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new sy),n;default:throw Error(s(435,e.tag))}}function Uf(e,n){var a=uA(e);n.forEach(function(o){var h=_A.bind(null,e,o);a.has(o)||(a.add(o),o.then(h,h))})}function fn(e,n){var a=n.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],f=e,v=n,T=v;t:for(;T!==null;){switch(T.tag){case 27:if(_r(T.type)){ne=T.stateNode,rn=!1;break t}break;case 5:ne=T.stateNode,rn=!1;break t;case 3:case 4:ne=T.stateNode.containerInfo,rn=!0;break t}T=T.return}if(ne===null)throw Error(s(160));ly(f,v,h),ne=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)cy(n,e),n=n.sibling}var Pn=null;function cy(e,n){var a=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fn(n,e),dn(e),o&4&&(cr(3,e,e.return),Yo(3,e),cr(5,e,e.return));break;case 1:fn(n,e),dn(e),o&512&&(he||a===null||ei(a,a.return)),o&64&&Ui&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Pn;if(fn(n,e),dn(e),o&512&&(he||a===null||ei(a,a.return)),o&4){var f=a!==null?a.memoizedState:null;if(o=e.memoizedState,a===null)if(o===null)if(e.stateNode===null){t:{o=e.type,a=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Wr]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),ze(f,o,a),f[ve]=e,ue(f),o=f;break t;case"link":var v=r_("link","href",h).get(o+(a.href||""));if(v){for(var T=0;T<v.length;T++)if(f=v[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(T,1);break e}}f=h.createElement(o),ze(f,o,a),h.head.appendChild(f);break;case"meta":if(v=r_("meta","content",h).get(o+(a.content||""))){for(T=0;T<v.length;T++)if(f=v[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(T,1);break e}}f=h.createElement(o),ze(f,o,a),h.head.appendChild(f);break;default:throw Error(s(468,o))}f[ve]=e,ue(f),o=f}e.stateNode=o}else s_(h,e.type,e.stateNode);else e.stateNode=i_(h,o,e.memoizedProps);else f!==o?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,o===null?s_(h,e.type,e.stateNode):i_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Vf(e,e.memoizedProps,a.memoizedProps)}break;case 27:fn(n,e),dn(e),o&512&&(he||a===null||ei(a,a.return)),a!==null&&o&4&&Vf(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fn(n,e),dn(e),o&512&&(he||a===null||ei(a,a.return)),e.flags&32){h=e.stateNode;try{Tn(h,"")}catch(j){$t(e,e.return,j)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Vf(e,h,a!==null?a.memoizedProps:h)),o&1024&&(Pf=!0);break;case 6:if(fn(n,e),dn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,a=e.stateNode;try{a.nodeValue=o}catch(j){$t(e,e.return,j)}}break;case 3:if(lc=null,h=Pn,Pn=ac(n.containerInfo),fn(n,e),Pn=h,dn(e),o&4&&a!==null&&a.memoizedState.isDehydrated)try{fl(n.containerInfo)}catch(j){$t(e,e.return,j)}Pf&&(Pf=!1,hy(e));break;case 4:o=Pn,Pn=ac(e.stateNode.containerInfo),fn(n,e),dn(e),Pn=o;break;case 12:fn(n,e),dn(e);break;case 13:fn(n,e),dn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Hf=_n()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Uf(e,o)));break;case 22:h=e.memoizedState!==null;var w=a!==null&&a.memoizedState!==null,L=Ui,G=he;if(Ui=L||h,he=G||w,fn(n,e),he=G,Ui=L,dn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(a===null||w||Ui||he||ws(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){w=a=n;try{if(f=w.stateNode,h)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{T=w.stateNode;var K=w.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(j){$t(w,w.return,j)}}}else if(n.tag===6){if(a===null){w=n;try{w.stateNode.nodeValue=h?"":w.memoizedProps}catch(j){$t(w,w.return,j)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,Uf(e,a))));break;case 19:fn(n,e),dn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Uf(e,o)));break;case 30:break;case 21:break;default:fn(n,e),dn(e)}}function dn(e){var n=e.flags;if(n&2){try{for(var a,o=e.return;o!==null;){if(iy(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=xf(e);Ku(e,f,h);break;case 5:var v=a.stateNode;a.flags&32&&(Tn(v,""),a.flags&=-33);var T=xf(e);Ku(e,T,v);break;case 3:case 4:var w=a.stateNode.containerInfo,L=xf(e);kf(e,L,w);break;default:throw Error(s(161))}}catch(G){$t(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;hy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function hr(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ay(e,n.alternate,n),n=n.sibling}function ws(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:cr(4,n,n.return),ws(n);break;case 1:ei(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&ey(n,n.return,a),ws(n);break;case 27:rl(n.stateNode);case 26:case 5:ei(n,n.return),ws(n);break;case 22:n.memoizedState===null&&ws(n);break;case 30:ws(n);break;default:ws(n)}e=e.sibling}}function fr(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,v=f.flags;switch(f.tag){case 0:case 11:case 15:fr(h,f,a),Yo(4,f);break;case 1:if(fr(h,f,a),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(L){$t(o,o.return,L)}if(o=f,h=o.updateQueue,h!==null){var T=o.stateNode;try{var w=h.shared.hiddenCallbacks;if(w!==null)for(h.shared.hiddenCallbacks=null,h=0;h<w.length;h++)jg(w[h],T)}catch(L){$t(o,o.return,L)}}a&&v&64&&ty(f),Xo(f,f.return);break;case 27:ry(f);case 26:case 5:fr(h,f,a),a&&o===null&&v&4&&ny(f),Xo(f,f.return);break;case 12:fr(h,f,a);break;case 13:fr(h,f,a),a&&v&4&&uy(h,f);break;case 22:f.memoizedState===null&&fr(h,f,a),Xo(f,f.return);break;case 30:break;default:fr(h,f,a)}n=n.sibling}}function Lf(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&xo(a))}function zf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e))}function ni(e,n,a,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fy(e,n,a,o),n=n.sibling}function fy(e,n,a,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ni(e,n,a,o),h&2048&&Yo(9,n);break;case 1:ni(e,n,a,o);break;case 3:ni(e,n,a,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&xo(e)));break;case 12:if(h&2048){ni(e,n,a,o),e=n.stateNode;try{var f=n.memoizedProps,v=f.id,T=f.onPostCommit;typeof T=="function"&&T(v,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(w){$t(n,n.return,w)}}else ni(e,n,a,o);break;case 13:ni(e,n,a,o);break;case 23:break;case 22:f=n.stateNode,v=n.alternate,n.memoizedState!==null?f._visibility&2?ni(e,n,a,o):$o(e,n):f._visibility&2?ni(e,n,a,o):(f._visibility|=2,Ta(e,n,a,o,(n.subtreeFlags&10256)!==0)),h&2048&&Lf(v,n);break;case 24:ni(e,n,a,o),h&2048&&zf(n.alternate,n);break;default:ni(e,n,a,o)}}function Ta(e,n,a,o,h){for(h=h&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,v=n,T=a,w=o,L=v.flags;switch(v.tag){case 0:case 11:case 15:Ta(f,v,T,w,h),Yo(8,v);break;case 23:break;case 22:var G=v.stateNode;v.memoizedState!==null?G._visibility&2?Ta(f,v,T,w,h):$o(f,v):(G._visibility|=2,Ta(f,v,T,w,h)),h&&L&2048&&Lf(v.alternate,v);break;case 24:Ta(f,v,T,w,h),h&&L&2048&&zf(v.alternate,v);break;default:Ta(f,v,T,w,h)}n=n.sibling}}function $o(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,o=n,h=o.flags;switch(o.tag){case 22:$o(a,o),h&2048&&Lf(o.alternate,o);break;case 24:$o(a,o),h&2048&&zf(o.alternate,o);break;default:$o(a,o)}n=n.sibling}}var Zo=8192;function Ea(e){if(e.subtreeFlags&Zo)for(e=e.child;e!==null;)dy(e),e=e.sibling}function dy(e){switch(e.tag){case 26:Ea(e),e.flags&Zo&&e.memoizedState!==null&&YA(Pn,e.memoizedState,e.memoizedProps);break;case 5:Ea(e);break;case 3:case 4:var n=Pn;Pn=ac(e.stateNode.containerInfo),Ea(e),Pn=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Zo,Zo=16777216,Ea(e),Zo=n):Ea(e));break;default:Ea(e)}}function my(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Jo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,py(o,e)}my(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gy(e),e=e.sibling}function gy(e){switch(e.tag){case 0:case 11:case 15:Jo(e),e.flags&2048&&cr(9,e,e.return);break;case 3:Jo(e);break;case 12:Jo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Yu(e)):Jo(e);break;default:Jo(e)}}function Yu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var o=n[a];Oe=o,py(o,e)}my(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:cr(8,n,n.return),Yu(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Yu(n));break;default:Yu(n)}e=e.sibling}}function py(e,n){for(;Oe!==null;){var a=Oe;switch(a.tag){case 0:case 11:case 15:cr(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:xo(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,Oe=o;else t:for(a=e;Oe!==null;){o=Oe;var h=o.sibling,f=o.return;if(oy(o),o===a){Oe=null;break t}if(h!==null){h.return=f,Oe=h;break t}Oe=f}}}var cA={getCacheForType:function(e){var n=Ge(Ae),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a}},hA=typeof WeakMap=="function"?WeakMap:Map,Gt=0,Jt=null,It=null,xt=0,Ft=0,mn=null,dr=!1,Aa=!1,jf=!1,zi=0,le=0,mr=0,Rs=0,Bf=0,Dn=0,Sa=0,Wo=null,sn=null,qf=!1,Hf=0,Xu=1/0,$u=null,gr=null,Le=0,pr=null,ba=null,wa=0,Gf=0,Ff=null,yy=null,tl=0,Qf=null;function gn(){if((Gt&2)!==0&&xt!==0)return xt&-xt;if(H.T!==null){var e=fa;return e!==0?e:Wf()}return Zi()}function _y(){Dn===0&&(Dn=(xt&536870912)===0||jt?lo():536870912);var e=Cn.current;return e!==null&&(e.flags|=32),Dn}function pn(e,n,a){(e===Jt&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)&&(Ra(e,0),yr(e,xt,Dn,!1)),yi(e,a),((Gt&2)===0||e!==Jt)&&(e===Jt&&((Gt&2)===0&&(Rs|=a),le===4&&yr(e,xt,Dn,!1)),ii(e))}function vy(e,n,a){if((Gt&6)!==0)throw Error(s(327));var o=!a&&(n&124)===0&&(n&e.expiredLanes)===0||Jr(e,n),h=o?mA(e,n):Xf(e,n,!0),f=o;do{if(h===0){Aa&&!o&&yr(e,n,0,!1);break}else{if(a=e.current.alternate,f&&!fA(a)){h=Xf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var v=0;else v=e.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){n=v;t:{var T=e;h=Wo;var w=T.current.memoizedState.isDehydrated;if(w&&(Ra(T,v).flags|=256),v=Xf(T,v,!1),v!==2){if(jf&&!w){T.errorRecoveryDisabledLanes|=f,Rs|=f,h=4;break t}f=sn,sn=h,f!==null&&(sn===null?sn=f:sn.push.apply(sn,f))}h=v}if(f=!1,h!==2)continue}}if(h===1){Ra(e,0),yr(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((n&4194048)!==n)break;case 6:yr(o,n,Dn,!dr);break t;case 2:sn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((n&62914560)===n&&(h=Hf+300-_n(),10<h)){if(yr(o,n,Dn,!dr),Hs(o,0,!0)!==0)break t;o.timeoutHandle=Yy(Ty.bind(null,o,a,sn,$u,qf,n,Dn,Rs,Sa,dr,f,2,-0,0),h);break t}Ty(o,a,sn,$u,qf,n,Dn,Rs,Sa,dr,f,0,-0,0)}}break}while(!0);ii(e)}function Ty(e,n,a,o,h,f,v,T,w,L,G,K,z,j){if(e.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(ol={stylesheets:null,count:0,unsuspend:KA},dy(n),K=XA(),K!==null)){e.cancelPendingCommit=K(Iy.bind(null,e,n,f,a,o,h,v,T,w,G,1,z,j)),yr(e,f,v,!L);return}Iy(e,n,f,a,o,h,v,T,w)}function fA(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],f=h.getSnapshot;h=h.value;try{if(!cn(f(),h))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function yr(e,n,a,o){n&=~Bf,n&=~Rs,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-He(h),v=1<<f;o[f]=-1,h&=~v}a!==0&&qn(e,a,n)}function Zu(){return(Gt&6)===0?(el(0),!1):!0}function Kf(){if(It!==null){if(Ft===0)var e=It.return;else e=It,Oi=Ts=null,cf(e),_a=null,Fo=0,e=It;for(;e!==null;)Wp(e.alternate,e),e=e.return;It=null}}function Ra(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,NA(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Kf(),Jt=e,It=a=Ci(e.current,null),xt=n,Ft=0,mn=null,dr=!1,Aa=Jr(e,n),jf=!1,Sa=Dn=Bf=Rs=mr=le=0,sn=Wo=null,qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-He(o),f=1<<h;n|=e[h],o&=~f}return zi=n,vu(),a}function Ey(e,n){bt=null,H.H=Lu,n===Po||n===Cu?(n=Lg(),Ft=3):n===kg?(n=Lg(),Ft=4):Ft=n===zp?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,mn=n,It===null&&(le=1,Hu(e,bn(n,e.current)))}function Ay(){var e=H.H;return H.H=Lu,e===null?Lu:e}function Sy(){var e=H.A;return H.A=cA,e}function Yf(){le=4,dr||(xt&4194048)!==xt&&Cn.current!==null||(Aa=!0),(mr&134217727)===0&&(Rs&134217727)===0||Jt===null||yr(Jt,xt,Dn,!1)}function Xf(e,n,a){var o=Gt;Gt|=2;var h=Ay(),f=Sy();(Jt!==e||xt!==n)&&($u=null,Ra(e,n)),n=!1;var v=le;t:do try{if(Ft!==0&&It!==null){var T=It,w=mn;switch(Ft){case 8:Kf(),v=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var L=Ft;if(Ft=0,mn=null,Ia(e,T,w,L),a&&Aa){v=0;break t}break;default:L=Ft,Ft=0,mn=null,Ia(e,T,w,L)}}dA(),v=le;break}catch(G){Ey(e,G)}while(!0);return n&&e.shellSuspendCounter++,Oi=Ts=null,Gt=o,H.H=h,H.A=f,It===null&&(Jt=null,xt=0,vu()),v}function dA(){for(;It!==null;)by(It)}function mA(e,n){var a=Gt;Gt|=2;var o=Ay(),h=Sy();Jt!==e||xt!==n?($u=null,Xu=_n()+500,Ra(e,n)):Aa=Jr(e,n);t:do try{if(Ft!==0&&It!==null){n=It;var f=mn;e:switch(Ft){case 1:Ft=0,mn=null,Ia(e,n,f,1);break;case 2:case 9:if(Pg(f)){Ft=0,mn=null,wy(n);break}n=function(){Ft!==2&&Ft!==9||Jt!==e||(Ft=7),ii(e)},f.then(n,n);break t;case 3:Ft=7;break t;case 4:Ft=5;break t;case 7:Pg(f)?(Ft=0,mn=null,wy(n)):(Ft=0,mn=null,Ia(e,n,f,7));break;case 5:var v=null;switch(It.tag){case 26:v=It.memoizedState;case 5:case 27:var T=It;if(!v||a_(v)){Ft=0,mn=null;var w=T.sibling;if(w!==null)It=w;else{var L=T.return;L!==null?(It=L,Ju(L)):It=null}break e}}Ft=0,mn=null,Ia(e,n,f,5);break;case 6:Ft=0,mn=null,Ia(e,n,f,6);break;case 8:Kf(),le=6;break t;default:throw Error(s(462))}}gA();break}catch(G){Ey(e,G)}while(!0);return Oi=Ts=null,H.H=o,H.A=h,Gt=a,It!==null?0:(Jt=null,xt=0,vu(),le)}function gA(){for(;It!==null&&!ro();)by(It)}function by(e){var n=Zp(e.alternate,e,zi);e.memoizedProps=e.pendingProps,n===null?Ju(e):It=n}function wy(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=Fp(a,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Fp(a,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:cf(n);default:Wp(a,n),n=It=Rg(n,zi),n=Zp(a,n,zi)}e.memoizedProps=e.pendingProps,n===null?Ju(e):It=n}function Ia(e,n,a,o){Oi=Ts=null,cf(n),_a=null,Fo=0;var h=n.return;try{if(rA(e,h,n,a,xt)){le=1,Hu(e,bn(a,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;le=1,Hu(e,bn(a,e.current)),It=null;return}n.flags&32768?(jt||o===1?e=!0:Aa||(xt&536870912)!==0?e=!1:(dr=e=!0,(o===2||o===9||o===3||o===6)&&(o=Cn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ry(n,e)):Ju(n)}function Ju(e){var n=e;do{if((n.flags&32768)!==0){Ry(n,dr);return}e=n.return;var a=aA(n.alternate,n,zi);if(a!==null){It=a;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);le===0&&(le=5)}function Ry(e,n){do{var a=oA(e.alternate,e);if(a!==null){a.flags&=32767,It=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=a}while(e!==null);le=6,It=null}function Iy(e,n,a,o,h,f,v,T,w){e.cancelPendingCommit=null;do Wu();while(Le!==0);if((Gt&6)!==0)throw Error(s(327));if(n!==null){if(n===e.current)throw Error(s(177));if(f=n.lanes|n.childLanes,f|=Lh,co(e,a,f,v,T,w),e===Jt&&(It=Jt=null,xt=0),ba=n,pr=e,wa=a,Gf=f,Ff=h,yy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vA(Yr,function(){return My(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=H.T,H.T=null,h=nt.p,nt.p=2,v=Gt,Gt|=4;try{lA(e,n,a)}finally{Gt=v,nt.p=h,H.T=o}}Le=1,Cy(),Dy(),Ny()}}function Cy(){if(Le===1){Le=0;var e=pr,n=ba,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{cy(n,e);var f=od,v=pg(e.containerInfo),T=f.focusedElem,w=f.selectionRange;if(v!==T&&T&&T.ownerDocument&&gg(T.ownerDocument.documentElement,T)){if(w!==null&&Vh(T)){var L=w.start,G=w.end;if(G===void 0&&(G=L),"selectionStart"in T)T.selectionStart=L,T.selectionEnd=Math.min(G,T.value.length);else{var K=T.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var j=z.getSelection(),pt=T.textContent.length,ft=Math.min(w.start,pt),Xt=w.end===void 0?ft:Math.min(w.end,pt);!j.extend&&ft>Xt&&(v=Xt,Xt=ft,ft=v);var x=mg(T,ft),N=mg(T,Xt);if(x&&N&&(j.rangeCount!==1||j.anchorNode!==x.node||j.anchorOffset!==x.offset||j.focusNode!==N.node||j.focusOffset!==N.offset)){var U=K.createRange();U.setStart(x.node,x.offset),j.removeAllRanges(),ft>Xt?(j.addRange(U),j.extend(N.node,N.offset)):(U.setEnd(N.node,N.offset),j.addRange(U))}}}}for(K=[],j=T;j=j.parentNode;)j.nodeType===1&&K.push({element:j,left:j.scrollLeft,top:j.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<K.length;T++){var Q=K[T];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}hc=!!ad,od=ad=null}finally{Gt=h,nt.p=o,H.T=a}}e.current=n,Le=2}}function Dy(){if(Le===2){Le=0;var e=pr,n=ba,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=H.T,H.T=null;var o=nt.p;nt.p=2;var h=Gt;Gt|=4;try{ay(e,n.alternate,n)}finally{Gt=h,nt.p=o,H.T=a}}Le=3}}function Ny(){if(Le===4||Le===3){Le=0,Yl();var e=pr,n=ba,a=wa,o=yy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,ba=pr=null,Oy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(gr=null),Gs(a),n=n.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(ae,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=H.T,h=nt.p,nt.p=2,H.T=null;try{for(var f=e.onRecoverableError,v=0;v<o.length;v++){var T=o[v];f(T.value,{componentStack:T.stack})}}finally{H.T=n,nt.p=h}}(wa&3)!==0&&Wu(),ii(e),h=e.pendingLanes,(a&4194090)!==0&&(h&42)!==0?e===Qf?tl++:(tl=0,Qf=e):tl=0,el(0)}}function Oy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,xo(n)))}function Wu(e){return Cy(),Dy(),Ny(),My()}function My(){if(Le!==5)return!1;var e=pr,n=Gf;Gf=0;var a=Gs(wa),o=H.T,h=nt.p;try{nt.p=32>a?32:a,H.T=null,a=Ff,Ff=null;var f=pr,v=wa;if(Le=0,ba=pr=null,wa=0,(Gt&6)!==0)throw Error(s(331));var T=Gt;if(Gt|=4,gy(f.current),fy(f,f.current,v,a),Gt=T,el(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(ae,f)}catch{}return!0}finally{nt.p=h,H.T=o,Oy(e,n)}}function Vy(e,n,a){n=bn(a,n),n=bf(e.stateNode,n,2),e=ar(e,n,2),e!==null&&(yi(e,2),ii(e))}function $t(e,n,a){if(e.tag===3)Vy(e,e,a);else for(;n!==null;){if(n.tag===3){Vy(n,e,a);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(gr===null||!gr.has(o))){e=bn(a,e),a=Up(2),o=ar(n,a,2),o!==null&&(Lp(a,o,n,e),yi(o,2),ii(o));break}}n=n.return}}function $f(e,n,a){var o=e.pingCache;if(o===null){o=e.pingCache=new hA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(a)||(jf=!0,h.add(a),e=pA.bind(null,e,n,a),n.then(e,e))}function pA(e,n,a){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Jt===e&&(xt&a)===a&&(le===4||le===3&&(xt&62914560)===xt&&300>_n()-Hf?(Gt&2)===0&&Ra(e,0):Bf|=a,Sa===xt&&(Sa=0)),ii(e)}function xy(e,n){n===0&&(n=uo()),e=la(e,n),e!==null&&(yi(e,n),ii(e))}function yA(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),xy(e,a)}function _A(e,n){var a=0;switch(e.tag){case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),xy(e,a)}function vA(e,n){return Qr(e,n)}var tc=null,Ca=null,Zf=!1,ec=!1,Jf=!1,Is=0;function ii(e){e!==Ca&&e.next===null&&(Ca===null?tc=Ca=e:Ca=Ca.next=e),ec=!0,Zf||(Zf=!0,EA())}function el(e,n){if(!Jf&&ec){Jf=!0;do for(var a=!1,o=tc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var v=o.suspendedLanes,T=o.pingedLanes;f=(1<<31-He(42|e)+1)-1,f&=h&~(v&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,Ly(o,f))}else f=xt,f=Hs(o,o===Jt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Jr(o,f)||(a=!0,Ly(o,f));o=o.next}while(a);Jf=!1}}function TA(){ky()}function ky(){ec=Zf=!1;var e=0;Is!==0&&(DA()&&(e=Is),Is=0);for(var n=_n(),a=null,o=tc;o!==null;){var h=o.next,f=Py(o,n);f===0?(o.next=null,a===null?tc=h:a.next=h,h===null&&(Ca=a)):(a=o,(e!==0||(f&3)!==0)&&(ec=!0)),o=h}el(e)}function Py(e,n){for(var a=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var v=31-He(f),T=1<<v,w=h[v];w===-1?((T&a)===0||(T&o)!==0)&&(h[v]=oo(T,n)):w<=n&&(e.expiredLanes|=T),f&=~T}if(n=Jt,a=xt,a=Hs(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,a===0||e===n&&(Ft===2||Ft===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Kr(o),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Jr(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(o!==null&&Kr(o),Gs(a)){case 2:case 8:a=Bs;break;case 32:a=Yr;break;case 268435456:a=qs;break;default:a=Yr}return o=Uy.bind(null,e),a=Qr(a,o),e.callbackPriority=n,e.callbackNode=a,n}return o!==null&&o!==null&&Kr(o),e.callbackPriority=2,e.callbackNode=null,2}function Uy(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Wu()&&e.callbackNode!==a)return null;var o=xt;return o=Hs(e,e===Jt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(vy(e,o,n),Py(e,_n()),e.callbackNode!=null&&e.callbackNode===a?Uy.bind(null,e):null)}function Ly(e,n){if(Wu())return null;vy(e,n,!0)}function EA(){OA(function(){(Gt&6)!==0?Qr(so,TA):ky()})}function Wf(){return Is===0&&(Is=lo()),Is}function zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$s(""+e)}function jy(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function AA(e,n,a,o,h){if(n==="submit"&&a&&a.stateNode===h){var f=zy((h[de]||null).action),v=o.submitter;v&&(n=(n=v[de]||null)?zy(n.formAction):v.getAttribute("formAction"),n!==null&&(f=n,v=null));var T=new Zs("action","action",null,o,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Is!==0){var w=v?jy(h,v):new FormData(h);vf(a,{pending:!0,data:w,method:h.method,action:f},null,w)}}else typeof f=="function"&&(T.preventDefault(),w=v?jy(h,v):new FormData(h),vf(a,{pending:!0,data:w,method:h.method,action:f},f,w))},currentTarget:h}]})}}for(var td=0;td<Uh.length;td++){var ed=Uh[td],SA=ed.toLowerCase(),bA=ed[0].toUpperCase()+ed.slice(1);kn(SA,"on"+bA)}kn(vg,"onAnimationEnd"),kn(Tg,"onAnimationIteration"),kn(Eg,"onAnimationStart"),kn("dblclick","onDoubleClick"),kn("focusin","onFocus"),kn("focusout","onBlur"),kn(B0,"onTransitionRun"),kn(q0,"onTransitionStart"),kn(H0,"onTransitionCancel"),kn(Ag,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),Vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(nl));function By(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var o=e[a],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var v=o.length-1;0<=v;v--){var T=o[v],w=T.instance,L=T.currentTarget;if(T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=L;try{f(h)}catch(G){qu(G)}h.currentTarget=null,f=w}else for(v=0;v<o.length;v++){if(T=o[v],w=T.instance,L=T.currentTarget,T=T.listener,w!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=L;try{f(h)}catch(G){qu(G)}h.currentTarget=null,f=w}}}}function Ct(e,n){var a=n[fo];a===void 0&&(a=n[fo]=new Set);var o=e+"__bubble";a.has(o)||(qy(n,e,2,!1),a.add(o))}function nd(e,n,a){var o=0;n&&(o|=4),qy(a,e,o,n)}var nc="_reactListening"+Math.random().toString(36).slice(2);function id(e){if(!e[nc]){e[nc]=!0,mo.forEach(function(a){a!=="selectionchange"&&(wA.has(a)||nd(a,!1,e),nd(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[nc]||(n[nc]=!0,nd("selectionchange",!1,n))}}function qy(e,n,a,o){switch(f_(n)){case 2:var h=JA;break;case 8:h=WA;break;default:h=yd}a=h.bind(null,n,a,e),h=void 0,!An||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,a,{capture:!0,passive:h}):e.addEventListener(n,a,!0):h!==void 0?e.addEventListener(n,a,{passive:h}):e.addEventListener(n,a,!1)}function rd(e,n,a,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var v=o.tag;if(v===3||v===4){var T=o.stateNode.containerInfo;if(T===h)break;if(v===4)for(v=o.return;v!==null;){var w=v.tag;if((w===3||w===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;T!==null;){if(v=_i(T),v===null)return;if(w=v.tag,w===5||w===6||w===26||w===27){o=f=v;continue t}T=T.parentNode}}o=o.return}ru(function(){var L=f,G=En(a),K=[];t:{var z=Sg.get(e);if(z!==void 0){var j=Zs,pt=e;switch(e){case"keypress":if(Yn(a)===0)break t;case"keydown":case"keyup":j=ia;break;case"focusin":pt="focus",j=ta;break;case"focusout":pt="blur",j=ta;break;case"beforeblur":case"afterblur":j=ta;break;case"click":if(a.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=Sn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=Dh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=fu;break;case vg:case Tg:case Eg:j=ea;break;case Ag:j=mu;break;case"scroll":case"scrollend":j=su;break;case"wheel":j=ra;break;case"copy":case"cut":case"paste":j=na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=Ro;break;case"toggle":case"beforetoggle":j=pu}var ft=(n&4)!==0,Xt=!ft&&(e==="scroll"||e==="scrollend"),x=ft?z!==null?z+"Capture":null:z;ft=[];for(var N=L,U;N!==null;){var Q=N;if(U=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||U===null||x===null||(Q=as(N,x),Q!=null&&ft.push(il(N,Q,U))),Xt)break;N=N.return}0<ft.length&&(z=new j(z,pt,null,a,G),K.push({event:z,listeners:ft}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",z&&a!==Ai&&(pt=a.relatedTarget||a.fromElement)&&(_i(pt)||pt[vn]))break t;if((j||z)&&(z=G.window===G?G:(z=G.ownerDocument)?z.defaultView||z.parentWindow:window,j?(pt=a.relatedTarget||a.toElement,j=L,pt=pt?_i(pt):null,pt!==null&&(Xt=c(pt),ft=pt.tag,pt!==Xt||ft!==5&&ft!==27&&ft!==6)&&(pt=null)):(j=null,pt=L),j!==pt)){if(ft=Sn,Q="onMouseLeave",x="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(ft=Ro,Q="onPointerLeave",x="onPointerEnter",N="pointer"),Xt=j==null?z:Gn(j),U=pt==null?z:Gn(pt),z=new ft(Q,N+"leave",j,a,G),z.target=Xt,z.relatedTarget=U,Q=null,_i(G)===L&&(ft=new ft(x,N+"enter",pt,a,G),ft.target=U,ft.relatedTarget=Xt,Q=ft),Xt=Q,j&&pt)e:{for(ft=j,x=pt,N=0,U=ft;U;U=Da(U))N++;for(U=0,Q=x;Q;Q=Da(Q))U++;for(;0<N-U;)ft=Da(ft),N--;for(;0<U-N;)x=Da(x),U--;for(;N--;){if(ft===x||x!==null&&ft===x.alternate)break e;ft=Da(ft),x=Da(x)}ft=null}else ft=null;j!==null&&Hy(K,z,j,ft,!1),pt!==null&&Xt!==null&&Hy(K,Xt,pt,ft,!0)}}t:{if(z=L?Gn(L):window,j=z.nodeName&&z.nodeName.toLowerCase(),j==="select"||j==="input"&&z.type==="file")var st=lg;else if(Ee(z))if(ug)st=L0;else{st=P0;var Rt=k0}else j=z.nodeName,!j||j.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?L&&vo(L.elementType)&&(st=lg):st=U0;if(st&&(st=st(e,L))){Ii(K,st,a,G);break t}Rt&&Rt(e,z,L),e==="focusout"&&L&&z.type==="number"&&L.memoizedProps.value!=null&&er(z,"number",z.value)}switch(Rt=L?Gn(L):window,e){case"focusin":(Ee(Rt)||Rt.contentEditable==="true")&&(sa=Rt,xh=L,Do=null);break;case"focusout":Do=xh=sa=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,yg(K,a,G);break;case"selectionchange":if(j0)break;case"keydown":case"keyup":yg(K,a,G)}var ot;if(Zn)t:{switch(e){case"compositionstart":var mt="onCompositionStart";break t;case"compositionend":mt="onCompositionEnd";break t;case"compositionupdate":mt="onCompositionUpdate";break t}mt=void 0}else Mt?B(e,a)&&(mt="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(mt="onCompositionStart");mt&&(p&&a.locale!=="ko"&&(Mt||mt!=="onCompositionStart"?mt==="onCompositionEnd"&&Mt&&(ot=Eo()):(Kn=G,nr="value"in Kn?Kn.value:Kn.textContent,Mt=!0)),Rt=ic(L,mt),0<Rt.length&&(mt=new bo(mt,e,null,a,G),K.push({event:mt,listeners:Rt}),ot?mt.data=ot:(ot=et(a),ot!==null&&(mt.data=ot)))),(ot=m?Te(e,a):Vt(e,a))&&(mt=ic(L,"onBeforeInput"),0<mt.length&&(Rt=new bo("onBeforeInput","beforeinput",null,a,G),K.push({event:Rt,listeners:mt}),Rt.data=ot)),AA(K,e,L,a,G)}By(K,n)})}function il(e,n,a){return{instance:e,listener:n,currentTarget:a}}function ic(e,n){for(var a=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=as(e,a),h!=null&&o.unshift(il(e,h,f)),h=as(e,n),h!=null&&o.push(il(e,h,f))),e.tag===3)return o;e=e.return}return[]}function Da(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Hy(e,n,a,o,h){for(var f=n._reactName,v=[];a!==null&&a!==o;){var T=a,w=T.alternate,L=T.stateNode;if(T=T.tag,w!==null&&w===o)break;T!==5&&T!==26&&T!==27||L===null||(w=L,h?(L=as(a,f),L!=null&&v.unshift(il(a,L,w))):h||(L=as(a,f),L!=null&&v.push(il(a,L,w)))),a=a.return}v.length!==0&&e.push({event:n,listeners:v})}var RA=/\r\n?/g,IA=/\u0000|\uFFFD/g;function Gy(e){return(typeof e=="string"?e:""+e).replace(RA,`
`).replace(IA,"")}function Fy(e,n){return n=Gy(n),Gy(e)===n}function rc(){}function Yt(e,n,a,o,h,f){switch(a){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||Tn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&Tn(e,""+o);break;case"className":Fn(e,"class",o);break;case"tabIndex":Fn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":Fn(e,a,o);break;case"style":_o(e,o,f);break;case"data":if(n!=="object"){Fn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=$s(""+o),e.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(n!=="input"&&Yt(e,n,"name",h.name,h,null),Yt(e,n,"formEncType",h.formEncType,h,null),Yt(e,n,"formMethod",h.formMethod,h,null),Yt(e,n,"formTarget",h.formTarget,h,null)):(Yt(e,n,"encType",h.encType,h,null),Yt(e,n,"method",h.method,h,null),Yt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(a);break}o=$s(""+o),e.setAttribute(a,o);break;case"onClick":o!=null&&(e.onclick=rc);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}a=$s(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""+o):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":o===!0?e.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(a,o):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(a,o):e.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(a):e.setAttribute(a,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),tr(e,"popover",o);break;case"xlinkActuate":ke(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ke(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ke(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ke(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ke(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ke(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ke(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ke(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ke(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":tr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Ih.get(a)||a,tr(e,a,o))}}function sd(e,n,a,o,h,f){switch(a){case"style":_o(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));e.innerHTML=a}}break;case"children":typeof o=="string"?Tn(e,o):(typeof o=="number"||typeof o=="bigint")&&Tn(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=rc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fs.hasOwnProperty(a))t:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),n=a.slice(2,h?a.length-7:void 0),f=e[de]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,o,h);break t}a in e?e[a]=o:o===!0?e.setAttribute(a,""):tr(e,a,o)}}}function ze(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(e,n,f,v,a,null)}}h&&Yt(e,n,"srcSet",a.srcSet,a,null),o&&Yt(e,n,"src",a.src,a,null);return;case"input":Ct("invalid",e);var T=f=v=h=null,w=null,L=null;for(o in a)if(a.hasOwnProperty(o)){var G=a[o];if(G!=null)switch(o){case"name":h=G;break;case"type":v=G;break;case"checked":w=G;break;case"defaultChecked":L=G;break;case"value":f=G;break;case"defaultValue":T=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(s(137,n));break;default:Yt(e,n,o,G,a,null)}}is(e,f,T,w,L,v,h,!1),Xs(e);return;case"select":Ct("invalid",e),o=v=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":v=T;break;case"multiple":o=T;default:Yt(e,n,h,T,a,null)}n=f,a=v,e.multiple=!!o,n!=null?Ei(e,!!o,n,!1):a!=null&&Ei(e,!!o,a,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(v in a)if(a.hasOwnProperty(v)&&(T=a[v],T!=null))switch(v){case"value":o=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:Yt(e,n,v,T,a,null)}rs(e,o,h,f),Xs(e);return;case"option":for(w in a)if(a.hasOwnProperty(w)&&(o=a[w],o!=null))switch(w){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Yt(e,n,w,o,a,null)}return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<nl.length;o++)Ct(nl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in a)if(a.hasOwnProperty(L)&&(o=a[L],o!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Yt(e,n,L,o,a,null)}return;default:if(vo(n)){for(G in a)a.hasOwnProperty(G)&&(o=a[G],o!==void 0&&sd(e,n,G,o,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(o=a[T],o!=null&&Yt(e,n,T,o,a,null))}function CA(e,n,a,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,v=null,T=null,w=null,L=null,G=null;for(j in a){var K=a[j];if(a.hasOwnProperty(j)&&K!=null)switch(j){case"checked":break;case"value":break;case"defaultValue":w=K;default:o.hasOwnProperty(j)||Yt(e,n,j,null,o,K)}}for(var z in o){var j=o[z];if(K=a[z],o.hasOwnProperty(z)&&(j!=null||K!=null))switch(z){case"type":f=j;break;case"name":h=j;break;case"checked":L=j;break;case"defaultChecked":G=j;break;case"value":v=j;break;case"defaultValue":T=j;break;case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(137,n));break;default:j!==K&&Yt(e,n,z,j,o,K)}}un(e,v,T,w,L,G,f,h);return;case"select":j=v=T=z=null;for(f in a)if(w=a[f],a.hasOwnProperty(f)&&w!=null)switch(f){case"value":break;case"multiple":j=w;default:o.hasOwnProperty(f)||Yt(e,n,f,null,o,w)}for(h in o)if(f=o[h],w=a[h],o.hasOwnProperty(h)&&(f!=null||w!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":v=f;default:f!==w&&Yt(e,n,h,f,o,w)}n=T,a=v,o=j,z!=null?Ei(e,!!a,z,!1):!!o!=!!a&&(n!=null?Ei(e,!!a,n,!0):Ei(e,!!a,a?[]:"",!1));return;case"textarea":j=z=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!o.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Yt(e,n,T,null,o,h)}for(v in o)if(h=o[v],f=a[v],o.hasOwnProperty(v)&&(h!=null||f!=null))switch(v){case"value":z=h;break;case"defaultValue":j=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&Yt(e,n,v,h,o,f)}Qt(e,z,j);return;case"option":for(var pt in a)if(z=a[pt],a.hasOwnProperty(pt)&&z!=null&&!o.hasOwnProperty(pt))switch(pt){case"selected":e.selected=!1;break;default:Yt(e,n,pt,null,o,z)}for(w in o)if(z=o[w],j=a[w],o.hasOwnProperty(w)&&z!==j&&(z!=null||j!=null))switch(w){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:Yt(e,n,w,z,o,j)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ft in a)z=a[ft],a.hasOwnProperty(ft)&&z!=null&&!o.hasOwnProperty(ft)&&Yt(e,n,ft,null,o,z);for(L in o)if(z=o[L],j=a[L],o.hasOwnProperty(L)&&z!==j&&(z!=null||j!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(s(137,n));break;default:Yt(e,n,L,z,o,j)}return;default:if(vo(n)){for(var Xt in a)z=a[Xt],a.hasOwnProperty(Xt)&&z!==void 0&&!o.hasOwnProperty(Xt)&&sd(e,n,Xt,void 0,o,z);for(G in o)z=o[G],j=a[G],!o.hasOwnProperty(G)||z===j||z===void 0&&j===void 0||sd(e,n,G,z,o,j);return}}for(var x in a)z=a[x],a.hasOwnProperty(x)&&z!=null&&!o.hasOwnProperty(x)&&Yt(e,n,x,null,o,z);for(K in o)z=o[K],j=a[K],!o.hasOwnProperty(K)||z===j||z==null&&j==null||Yt(e,n,K,z,o,j)}var ad=null,od=null;function sc(e){return e.nodeType===9?e:e.ownerDocument}function Qy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Ky(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function ld(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var ud=null;function DA(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var Yy=typeof setTimeout=="function"?setTimeout:void 0,NA=typeof clearTimeout=="function"?clearTimeout:void 0,Xy=typeof Promise=="function"?Promise:void 0,OA=typeof queueMicrotask=="function"?queueMicrotask:typeof Xy<"u"?function(e){return Xy.resolve(null).then(e).catch(MA)}:Yy;function MA(e){setTimeout(function(){throw e})}function _r(e){return e==="head"}function $y(e,n){var a=n,o=0,h=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<o&&8>o){a=o;var v=e.ownerDocument;if(a&1&&rl(v.documentElement),a&2&&rl(v.body),a&4)for(a=v.head,rl(a),v=a.firstChild;v;){var T=v.nextSibling,w=v.nodeName;v[Wr]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=T}}if(h===0){e.removeChild(f),fl(n);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:o=a.charCodeAt(0)-48;else o=0;a=f}while(a);fl(n)}function cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cd(a),Wi(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function VA(e,n,a,o){for(;e.nodeType===1;){var h=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Wr])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function xA(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Un(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function kA(e,n){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")n();else{var o=function(){n(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}var fd=null;function Zy(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(n===0)return e;n--}else a==="/$"&&n++}e=e.previousSibling}return null}function Jy(e,n,a){switch(n=sc(a),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}function rl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Wi(e)}var Nn=new Map,Wy=new Set;function ac(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ji=nt.d;nt.d={f:PA,r:UA,D:LA,C:zA,L:jA,m:BA,X:HA,S:qA,M:GA};function PA(){var e=ji.f(),n=Zu();return e||n}function UA(e){var n=Hn(e);n!==null&&n.tag===5&&n.type==="form"?vp(n):ji.r(e)}var Na=typeof document>"u"?null:document;function t_(e,n,a){var o=Na;if(o&&typeof n=="string"&&n){var h=me(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Wy.has(h)||(Wy.add(h),e={rel:e,crossOrigin:a,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),ze(n,"link",e),ue(n),o.head.appendChild(n)))}}function LA(e){ji.D(e),t_("dns-prefetch",e,null)}function zA(e,n){ji.C(e,n),t_("preconnect",e,n)}function jA(e,n,a){ji.L(e,n,a);var o=Na;if(o&&e&&n){var h='link[rel="preload"][as="'+me(n)+'"]';n==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+me(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+me(a.imageSizes)+'"]')):h+='[href="'+me(e)+'"]';var f=h;switch(n){case"style":f=Oa(e);break;case"script":f=Ma(e)}Nn.has(f)||(e=S({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),Nn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(sl(f))||n==="script"&&o.querySelector(al(f))||(n=o.createElement("link"),ze(n,"link",e),ue(n),o.head.appendChild(n)))}}function BA(e,n){ji.m(e,n);var a=Na;if(a&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+me(o)+'"][href="'+me(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ma(e)}if(!Nn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Nn.set(f,e),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(al(f)))return}o=a.createElement("link"),ze(o,"link",e),ue(o),a.head.appendChild(o)}}}function qA(e,n,a){ji.S(e,n,a);var o=Na;if(o&&e){var h=Ze(o).hoistableStyles,f=Oa(e);n=n||"default";var v=h.get(f);if(!v){var T={loading:0,preload:null};if(v=o.querySelector(sl(f)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},a),(a=Nn.get(f))&&dd(e,a);var w=v=o.createElement("link");ue(w),ze(w,"link",e),w._p=new Promise(function(L,G){w.onload=L,w.onerror=G}),w.addEventListener("load",function(){T.loading|=1}),w.addEventListener("error",function(){T.loading|=2}),T.loading|=4,oc(v,n,o)}v={type:"stylesheet",instance:v,count:1,state:T},h.set(f,v)}}}function HA(e,n){ji.X(e,n);var a=Na;if(a&&e){var o=Ze(a).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=a.querySelector(al(h)),f||(e=S({src:e,async:!0},n),(n=Nn.get(h))&&md(e,n),f=a.createElement("script"),ue(f),ze(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function GA(e,n){ji.M(e,n);var a=Na;if(a&&e){var o=Ze(a).hoistableScripts,h=Ma(e),f=o.get(h);f||(f=a.querySelector(al(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Nn.get(h))&&md(e,n),f=a.createElement("script"),ue(f),ze(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function e_(e,n,a,o){var h=(h=vt.current)?ac(h):null;if(!h)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Oa(a.href),a=Ze(h).hoistableStyles,o=a.get(n),o||(o={type:"style",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Oa(a.href);var f=Ze(h).hoistableStyles,v=f.get(e);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,v),(f=h.querySelector(sl(e)))&&!f._p&&(v.instance=f,v.state.loading=5),Nn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Nn.set(e,a),f||FA(h,e,a,v.state))),n&&o===null)throw Error(s(528,""));return v}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ma(a),a=Ze(h).hoistableScripts,o=a.get(n),o||(o={type:"script",instance:null,count:0,state:null},a.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Oa(e){return'href="'+me(e)+'"'}function sl(e){return'link[rel="stylesheet"]['+e+"]"}function n_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function FA(e,n,a,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ze(n,"link",a),ue(n),e.head.appendChild(n))}function Ma(e){return'[src="'+me(e)+'"]'}function al(e){return"script[async]"+e}function i_(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+me(a.href)+'"]');if(o)return n.instance=o,ue(o),o;var h=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),ue(o),ze(o,"style",h),oc(o,a.precedence,e),n.instance=o;case"stylesheet":h=Oa(a.href);var f=e.querySelector(sl(h));if(f)return n.state.loading|=4,n.instance=f,ue(f),f;o=n_(a),(h=Nn.get(h))&&dd(o,h),f=(e.ownerDocument||e).createElement("link"),ue(f);var v=f;return v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ze(f,"link",o),n.state.loading|=4,oc(f,a.precedence,e),n.instance=f;case"script":return f=Ma(a.src),(h=e.querySelector(al(f)))?(n.instance=h,ue(h),h):(o=a,(h=Nn.get(f))&&(o=S({},a),md(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),ue(h),ze(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,oc(o,a.precedence,e));return n.instance}function oc(e,n,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,v=0;v<o.length;v++){var T=o[v];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var lc=null;function r_(e,n,a){if(lc===null){var o=new Map,h=lc=new Map;h.set(a,o)}else h=lc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(e))return o;for(o.set(e,null),a=a.getElementsByTagName(e),h=0;h<a.length;h++){var f=a[h];if(!(f[Wr]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(n)||"";v=e+v;var T=o.get(v);T?T.push(f):o.set(v,[f])}}return o}function s_(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function QA(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function a_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var ol=null;function KA(){}function YA(e,n,a){if(ol===null)throw Error(s(475));var o=ol;if(n.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var h=Oa(a.href),f=e.querySelector(sl(h));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=uc.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,ue(f);return}f=e.ownerDocument||e,a=n_(a),(h=Nn.get(h))&&dd(a,h),f=f.createElement("link"),ue(f);var v=f;v._p=new Promise(function(T,w){v.onload=T,v.onerror=w}),ze(f,"link",a),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&(n.state.loading&3)===0&&(o.count++,n=uc.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function XA(){if(ol===null)throw Error(s(475));var e=ol;return e.stylesheets&&e.count===0&&gd(e,e.stylesheets),0<e.count?function(n){var a=setTimeout(function(){if(e.stylesheets&&gd(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(a)}}:null}function uc(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var cc=null;function gd(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,cc=new Map,n.forEach($A,e),cc=null,uc.call(e))}function $A(e,n){if(!(n.state.loading&4)){var a=cc.get(e);if(a)var o=a.get(null);else{a=new Map,cc.set(e,a);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var v=h[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),o=v)}o&&a.set(null,o)}h=n.instance,v=h.getAttribute("data-precedence"),f=a.get(v)||o,f===o&&a.set(null,h),a.set(v,h),this.count++,o=uc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var ll={$$typeof:ut,Provider:null,Consumer:null,_currentValue:lt,_currentValue2:lt,_threadCount:0};function ZA(e,n,a,o,h,f,v,T){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=pi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pi(0),this.hiddenUpdates=pi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function o_(e,n,a,o,h,f,v,T,w,L,G,K){return e=new ZA(e,n,a,v,T,w,L,K),n=1,f===!0&&(n|=24),f=hn(3,null,null,n),e.current=f,f.stateNode=e,n=Xh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:a,cache:n},Wh(f),e}function l_(e){return e?(e=ua,e):ua}function u_(e,n,a,o,h,f){h=l_(h),o.context===null?o.context=h:o.pendingContext=h,o=sr(n),o.payload={element:a},f=f===void 0?null:f,f!==null&&(o.callback=f),a=ar(e,o,n),a!==null&&(pn(a,e,n),Lo(a,e,n))}function c_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function pd(e,n){c_(e,n),(e=e.alternate)&&c_(e,n)}function h_(e){if(e.tag===13){var n=la(e,67108864);n!==null&&pn(n,e,67108864),pd(e,67108864)}}var hc=!0;function JA(e,n,a,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=2,yd(e,n,a,o)}finally{nt.p=f,H.T=h}}function WA(e,n,a,o){var h=H.T;H.T=null;var f=nt.p;try{nt.p=8,yd(e,n,a,o)}finally{nt.p=f,H.T=h}}function yd(e,n,a,o){if(hc){var h=_d(o);if(h===null)rd(e,n,o,fc,a),d_(e,o);else if(e1(h,e,n,a,o))o.stopPropagation();else if(d_(e,o),n&4&&-1<t1.indexOf(e)){for(;h!==null;){var f=Hn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Mn(f.pendingLanes);if(v!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;v;){var w=1<<31-He(v);T.entanglements[1]|=w,v&=~w}ii(f),(Gt&6)===0&&(Xu=_n()+500,el(0))}}break;case 13:T=la(f,2),T!==null&&pn(T,f,2),Zu(),pd(f,2)}if(f=_d(o),f===null&&rd(e,n,o,fc,a),f===h)break;h=f}h!==null&&o.stopPropagation()}else rd(e,n,o,null,a)}}function _d(e){return e=En(e),vd(e)}var fc=null;function vd(e){if(fc=null,e=_i(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return fc=e,null}function f_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Eh()){case so:return 2;case Bs:return 8;case Yr:case Ah:return 32;case qs:return 268435456;default:return 32}default:return 32}}var Td=!1,vr=null,Tr=null,Er=null,ul=new Map,cl=new Map,Ar=[],t1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function d_(e,n){switch(e){case"focusin":case"focusout":vr=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":ul.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":cl.delete(n.pointerId)}}function hl(e,n,a,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:a,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Hn(n),n!==null&&h_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function e1(e,n,a,o,h){switch(n){case"focusin":return vr=hl(vr,e,n,a,o,h),!0;case"dragenter":return Tr=hl(Tr,e,n,a,o,h),!0;case"mouseover":return Er=hl(Er,e,n,a,o,h),!0;case"pointerover":var f=h.pointerId;return ul.set(f,hl(ul.get(f)||null,e,n,a,o,h)),!0;case"gotpointercapture":return f=h.pointerId,cl.set(f,hl(cl.get(f)||null,e,n,a,o,h)),!0}return!1}function m_(e){var n=_i(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Zl(e.priority,function(){if(a.tag===13){var o=gn();o=$i(o);var h=la(a,o);h!==null&&pn(h,a,o),pd(a,o)}});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function dc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=_d(e.nativeEvent);if(a===null){a=e.nativeEvent;var o=new a.constructor(a.type,a);Ai=o,a.target.dispatchEvent(o),Ai=null}else return n=Hn(a),n!==null&&h_(n),e.blockedOn=a,!1;n.shift()}return!0}function g_(e,n,a){dc(e)&&a.delete(n)}function n1(){Td=!1,vr!==null&&dc(vr)&&(vr=null),Tr!==null&&dc(Tr)&&(Tr=null),Er!==null&&dc(Er)&&(Er=null),ul.forEach(g_),cl.forEach(g_)}function mc(e,n){e.blockedOn===n&&(e.blockedOn=null,Td||(Td=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,n1)))}var gc=null;function p_(e){gc!==e&&(gc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){gc===e&&(gc=null);for(var n=0;n<e.length;n+=3){var a=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(vd(o||a)===null)continue;break}var f=Hn(a);f!==null&&(e.splice(n,3),n-=3,vf(f,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function fl(e){function n(w){return mc(w,e)}vr!==null&&mc(vr,e),Tr!==null&&mc(Tr,e),Er!==null&&mc(Er,e),ul.forEach(n),cl.forEach(n);for(var a=0;a<Ar.length;a++){var o=Ar[a];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ar.length&&(a=Ar[0],a.blockedOn===null);)m_(a),a.blockedOn===null&&Ar.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],f=a[o+1],v=h[de]||null;if(typeof f=="function")v||p_(a);else if(v){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,v=f[de]||null)T=v.formAction;else if(vd(h)!==null)continue}else T=v.action;typeof T=="function"?a[o+1]=T:(a.splice(o,3),o-=3),p_(a)}}}function Ed(e){this._internalRoot=e}pc.prototype.render=Ed.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var a=n.current,o=gn();u_(a,o,e,n,null,null)},pc.prototype.unmount=Ed.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;u_(e.current,2,null,e,null,null),Zu(),n[vn]=null}};function pc(e){this._internalRoot=e}pc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Zi();e={blockedOn:null,target:e,priority:n};for(var a=0;a<Ar.length&&n!==0&&n<Ar[a].priority;a++);Ar.splice(a,0,e),a===0&&m_(e)}};var y_=t.version;if(y_!=="19.1.1")throw Error(s(527,y_,"19.1.1"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=y(n),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var i1={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yc.isDisabled&&yc.supportsFiber)try{ae=yc.inject(i1),Ht=yc}catch{}}return ml.createRoot=function(e,n){if(!l(e))throw Error(s(299));var a=!1,o="",h=Vp,f=xp,v=kp,T=null;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(v=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(T=n.unstable_transitionCallbacks)),n=o_(e,1,!1,null,null,a,o,h,f,v,T,null),e[vn]=n.current,id(e),new Ed(n)},ml.hydrateRoot=function(e,n,a){if(!l(e))throw Error(s(299));var o=!1,h="",f=Vp,v=xp,T=kp,w=null,L=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(w=a.unstable_transitionCallbacks),a.formState!==void 0&&(L=a.formState)),n=o_(e,1,!0,n,a??null,o,h,f,v,T,w,L),n.context=l_(null),a=n.current,o=gn(),o=$i(o),h=sr(o),h.callback=null,ar(a,h,o),a=o,n.current.lanes=a,yi(n,a),ii(n),e[vn]=n.current,id(e),new pc(n)},ml.version="19.1.1",ml}var I_;function m1(){if(I_)return bd.exports;I_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bd.exports=d1(),bd.exports}var g1=m1();const p1=iT(g1);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_1=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,s)=>s?s.toUpperCase():i.toLowerCase()),C_=r=>{const t=_1(r);return t.charAt(0).toUpperCase()+t.slice(1)},rT=(...r)=>r.filter((t,i,s)=>!!t&&t.trim()!==""&&s.indexOf(t)===i).join(" ").trim(),v1=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var T1={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=Ke.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:l="",children:c,iconNode:d,...g},y)=>Ke.createElement("svg",{ref:y,...T1,width:t,height:t,stroke:r,strokeWidth:s?Number(i)*24/Number(t):i,className:rT("lucide",l),...!c&&!v1(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,S])=>Ke.createElement(_,S)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=(r,t)=>{const i=Ke.forwardRef(({className:s,...l},c)=>Ke.createElement(E1,{ref:c,iconNode:t,className:rT(`lucide-${y1(C_(r))}`,`lucide-${r}`,s),...l}));return i.displayName=C_(r),i};/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A1=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],S1=jn("calendar",A1);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],w1=jn("circle-alert",b1);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],I1=jn("circle-check",R1);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],D1=jn("circle",C1);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N1=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],O1=jn("clock",N1);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],D_=jn("database",M1);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M13 21h8",key:"1jsn5i"}],["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],x1=jn("pen-line",V1);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],N_=jn("plus",k1);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],U1=jn("trash-2",P1);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],z1=jn("user",L1);/**
 * @license lucide-react v0.543.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],O_=jn("users",j1),B1=()=>{};var M_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sT=function(r){const t=[];let i=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},q1=function(r){const t=[];let i=0,s=0;for(;i<r.length;){const l=r[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[s++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(y>>10)),t[s++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[s++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},aT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,S=c>>2,I=(c&3)<<4|g>>4;let D=(g&15)<<2|_>>6,q=_&63;y||(q=64,d||(D=64)),s.push(i[S],i[I],i[D],i[q])}return s.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(sT(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):q1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const I=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||_==null||I==null)throw new H1;const D=c<<2|g>>4;if(s.push(D),_!==64){const q=g<<4&240|_>>2;if(s.push(q),I!==64){const Z=_<<6&192|I;s.push(Z)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class H1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G1=function(r){const t=sT(r);return aT.encodeByteArray(t,!0)},kc=function(r){return G1(r).replace(/\./g,"")},oT=function(r){try{return aT.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=()=>F1().__FIREBASE_DEFAULTS__,K1=()=>{if(typeof process>"u"||typeof M_>"u")return;const r=M_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Y1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&oT(r[1]);return t&&JSON.parse(t)},eh=()=>{try{return B1()||Q1()||K1()||Y1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},lT=r=>eh()?.emulatorHosts?.[r],X1=r=>{const t=lT(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},uT=()=>eh()?.config,cT=r=>eh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function hT(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[kc(JSON.stringify(i)),kc(JSON.stringify(d)),""].join(".")}const Tl={};function J1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Tl))Tl[t]?r.emulator.push(t):r.prod.push(t);return r}function W1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let V_=!1;function fT(r,t){if(typeof window>"u"||typeof document>"u"||!Za(window.location.host)||Tl[r]===t||Tl[r]||V_)return;Tl[r]=t;function i(D){return`__firebase__banner__${D}`}const s="__firebase__banner",c=J1().prod.length>0;function d(){const D=document.getElementById(s);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function y(D,q){D.setAttribute("width","24"),D.setAttribute("id",q),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function _(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{V_=!0,d()},D}function S(D,q){D.setAttribute("id",q),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function I(){const D=W1(s),q=i("text"),Z=document.getElementById(q)||document.createElement("span"),tt=i("learnmore"),J=document.getElementById(tt)||document.createElement("a"),Tt=i("preprendIcon"),dt=document.getElementById(Tt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ut=D.element;g(ut),S(J,tt);const Pt=_();y(dt,Tt),ut.append(dt,Z,J,Pt),document.body.appendChild(ut)}c?(Z.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",I):I()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function tS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($e())}function eS(){const r=eh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function rS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sS(){const r=$e();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function aS(){return!eS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oS(){try{return typeof indexedDB=="object"}catch{return!1}}function lS(){return new Promise((r,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS="FirebaseError";class Yi extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=uS,Object.setPrototypeOf(this,Yi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kl.prototype.create)}}class kl{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?cS(c,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new Yi(l,g,s)}}function cS(r,t){return r.replace(hS,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const hS=/\{\$([^}]+)}/g;function fS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function Vs(r,t){if(r===t)return!0;const i=Object.keys(r),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const c=r[l],d=t[l];if(x_(c)&&x_(d)){if(!Vs(c,d))return!1}else if(c!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function x_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(r){const t=[];for(const[i,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function dS(r,t){const i=new mS(r,t);return i.subscribe.bind(i)}class mS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");gS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=Cd),l.error===void 0&&(l.error=Cd),l.complete===void 0&&(l.complete=Cd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Cd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r){return r&&r._delegate?r._delegate:r}class xs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new $1;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),s=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(_S(t))try{this.getOrInitializeService({instanceIdentifier:Cs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});s.resolve(c)}catch{}}}}clearInstance(t=Cs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Cs){return this.instances.has(t)}getOptions(t=Cs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);s===g&&d.resolve(l)}return l}onInit(t,i){const s=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(s)??new Set;l.add(t),this.onInitCallbacks.set(s,l);const c=this.instances.get(s);return c&&t(c,s),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:yS(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=Cs){return this.component?this.component.multipleInstances?t:Cs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function yS(r){return r===Cs?void 0:r}function _S(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new pS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Dt||(Dt={}));const TS={debug:Dt.DEBUG,verbose:Dt.VERBOSE,info:Dt.INFO,warn:Dt.WARN,error:Dt.ERROR,silent:Dt.SILENT},ES=Dt.INFO,AS={[Dt.DEBUG]:"log",[Dt.VERBOSE]:"log",[Dt.INFO]:"info",[Dt.WARN]:"warn",[Dt.ERROR]:"error"},SS=(r,t,...i)=>{if(t<r.logLevel)return;const s=new Date().toISOString(),l=AS[t];if(l)console[l](`[${s}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class mm{constructor(t){this.name=t,this._logLevel=ES,this._logHandler=SS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Dt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?TS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Dt.DEBUG,...t),this._logHandler(this,Dt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Dt.VERBOSE,...t),this._logHandler(this,Dt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Dt.INFO,...t),this._logHandler(this,Dt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Dt.WARN,...t),this._logHandler(this,Dt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Dt.ERROR,...t),this._logHandler(this,Dt.ERROR,...t)}}const bS=(r,t)=>t.some(i=>r instanceof i);let k_,P_;function wS(){return k_||(k_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RS(){return P_||(P_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const dT=new WeakMap,Bd=new WeakMap,mT=new WeakMap,Dd=new WeakMap,gm=new WeakMap;function IS(r){const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Nr(r.result)),l()},d=()=>{s(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&dT.set(i,r)}).catch(()=>{}),gm.set(t,r),t}function CS(r){if(Bd.has(r))return;const t=new Promise((i,s)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Bd.set(r,t)}let qd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Bd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||mT.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Nr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function DS(r){qd=r(qd)}function NS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=r.call(Nd(this),t,...i);return mT.set(s,t.sort?t.sort():[t]),Nr(s)}:RS().includes(r)?function(...t){return r.apply(Nd(this),t),Nr(dT.get(this))}:function(...t){return Nr(r.apply(Nd(this),t))}}function OS(r){return typeof r=="function"?NS(r):(r instanceof IDBTransaction&&CS(r),bS(r,wS())?new Proxy(r,qd):r)}function Nr(r){if(r instanceof IDBRequest)return IS(r);if(Dd.has(r))return Dd.get(r);const t=OS(r);return t!==r&&(Dd.set(r,t),gm.set(t,r)),t}const Nd=r=>gm.get(r);function MS(r,t,{blocked:i,upgrade:s,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Nr(d);return s&&d.addEventListener("upgradeneeded",y=>{s(Nr(d.result),y.oldVersion,y.newVersion,Nr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const VS=["get","getKey","getAll","getAllKeys","count"],xS=["put","add","delete","clear"],Od=new Map;function U_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Od.get(t))return Od.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=xS.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||VS.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return s&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return Od.set(t,c),c}DS(r=>({...r,get:(t,i,s)=>U_(t,i)||r.get(t,i,s),has:(t,i)=>!!U_(t,i)||r.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(PS(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function PS(r){return r.getComponent()?.type==="VERSION"}const Hd="@firebase/app",L_="0.14.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hi=new mm("@firebase/app"),US="@firebase/app-compat",LS="@firebase/analytics-compat",zS="@firebase/analytics",jS="@firebase/app-check-compat",BS="@firebase/app-check",qS="@firebase/auth",HS="@firebase/auth-compat",GS="@firebase/database",FS="@firebase/data-connect",QS="@firebase/database-compat",KS="@firebase/functions",YS="@firebase/functions-compat",XS="@firebase/installations",$S="@firebase/installations-compat",ZS="@firebase/messaging",JS="@firebase/messaging-compat",WS="@firebase/performance",tb="@firebase/performance-compat",eb="@firebase/remote-config",nb="@firebase/remote-config-compat",ib="@firebase/storage",rb="@firebase/storage-compat",sb="@firebase/firestore",ab="@firebase/ai",ob="@firebase/firestore-compat",lb="firebase",ub="12.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gd="[DEFAULT]",cb={[Hd]:"fire-core",[US]:"fire-core-compat",[zS]:"fire-analytics",[LS]:"fire-analytics-compat",[BS]:"fire-app-check",[jS]:"fire-app-check-compat",[qS]:"fire-auth",[HS]:"fire-auth-compat",[GS]:"fire-rtdb",[FS]:"fire-data-connect",[QS]:"fire-rtdb-compat",[KS]:"fire-fn",[YS]:"fire-fn-compat",[XS]:"fire-iid",[$S]:"fire-iid-compat",[ZS]:"fire-fcm",[JS]:"fire-fcm-compat",[WS]:"fire-perf",[tb]:"fire-perf-compat",[eb]:"fire-rc",[nb]:"fire-rc-compat",[ib]:"fire-gcs",[rb]:"fire-gcs-compat",[sb]:"fire-fst",[ob]:"fire-fst-compat",[ab]:"fire-vertex","fire-js":"fire-js",[lb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pc=new Map,hb=new Map,Fd=new Map;function z_(r,t){try{r.container.addComponent(t)}catch(i){Hi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function qa(r){const t=r.name;if(Fd.has(t))return Hi.debug(`There were multiple attempts to register component ${t}.`),!1;Fd.set(t,r);for(const i of Pc.values())z_(i,r);for(const i of hb.values())z_(i,r);return!0}function pm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function si(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Or=new kl("app","Firebase",fb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class db{constructor(t,i,s){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ja=ub;function gT(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const s={name:Gd,automaticDataCollectionEnabled:!0,...t},l=s.name;if(typeof l!="string"||!l)throw Or.create("bad-app-name",{appName:String(l)});if(i||(i=uT()),!i)throw Or.create("no-options");const c=Pc.get(l);if(c){if(Vs(i,c.options)&&Vs(s,c.config))return c;throw Or.create("duplicate-app",{appName:l})}const d=new vS(l);for(const y of Fd.values())d.addComponent(y);const g=new db(i,s,d);return Pc.set(l,g),g}function pT(r=Gd){const t=Pc.get(r);if(!t&&r===Gd&&uT())return gT();if(!t)throw Or.create("no-app",{appName:r});return t}function Mr(r,t,i){let s=cb[r]??r;i&&(s+=`-${i}`);const l=s.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${s}" with version "${t}":`];l&&d.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Hi.warn(d.join(" "));return}qa(new xs(`${s}-version`,()=>({library:s,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mb="firebase-heartbeat-database",gb=1,Rl="firebase-heartbeat-store";let Md=null;function yT(){return Md||(Md=MS(mb,gb,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Rl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Or.create("idb-open",{originalErrorMessage:r.message})})),Md}async function pb(r){try{const i=(await yT()).transaction(Rl),s=await i.objectStore(Rl).get(_T(r));return await i.done,s}catch(t){if(t instanceof Yi)Hi.warn(t.message);else{const i=Or.create("idb-get",{originalErrorMessage:t?.message});Hi.warn(i.message)}}}async function j_(r,t){try{const s=(await yT()).transaction(Rl,"readwrite");await s.objectStore(Rl).put(t,_T(r)),await s.done}catch(i){if(i instanceof Yi)Hi.warn(i.message);else{const s=Or.create("idb-set",{originalErrorMessage:i?.message});Hi.warn(s.message)}}}function _T(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=1024,_b=30;class vb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new Eb(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=B_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>_b){const l=Ab(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Hi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=B_(),{heartbeatsToSend:i,unsentEntries:s}=Tb(this._heartbeatsCache.heartbeats),l=kc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Hi.warn(t),""}}}function B_(){return new Date().toISOString().substring(0,10)}function Tb(r,t=yb){const i=[];let s=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),q_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),q_(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class Eb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oS()?lS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pb(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return j_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const s=await this.read();return j_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...t.heartbeats]})}else return}}function q_(r){return kc(JSON.stringify({version:2,heartbeats:r})).length}function Ab(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let s=1;s<r.length;s++)r[s].date<i&&(i=r[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(r){qa(new xs("platform-logger",t=>new kS(t),"PRIVATE")),qa(new xs("heartbeat",t=>new vb(t),"PRIVATE")),Mr(Hd,L_,r),Mr(Hd,L_,"esm2020"),Mr("fire-js","")}Sb("");var H_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Vr,vT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(V,E){function b(){}b.prototype=E.prototype,V.D=E.prototype,V.prototype=new b,V.prototype.constructor=V,V.C=function(O,M,k){for(var R=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)R[xe-2]=arguments[xe];return E.prototype[M].apply(O,R)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(V,E,b){b||(b=0);var O=Array(16);if(typeof E=="string")for(var M=0;16>M;++M)O[M]=E.charCodeAt(b++)|E.charCodeAt(b++)<<8|E.charCodeAt(b++)<<16|E.charCodeAt(b++)<<24;else for(M=0;16>M;++M)O[M]=E[b++]|E[b++]<<8|E[b++]<<16|E[b++]<<24;E=V.g[0],b=V.g[1],M=V.g[2];var k=V.g[3],R=E+(k^b&(M^k))+O[0]+3614090360&4294967295;E=b+(R<<7&4294967295|R>>>25),R=k+(M^E&(b^M))+O[1]+3905402710&4294967295,k=E+(R<<12&4294967295|R>>>20),R=M+(b^k&(E^b))+O[2]+606105819&4294967295,M=k+(R<<17&4294967295|R>>>15),R=b+(E^M&(k^E))+O[3]+3250441966&4294967295,b=M+(R<<22&4294967295|R>>>10),R=E+(k^b&(M^k))+O[4]+4118548399&4294967295,E=b+(R<<7&4294967295|R>>>25),R=k+(M^E&(b^M))+O[5]+1200080426&4294967295,k=E+(R<<12&4294967295|R>>>20),R=M+(b^k&(E^b))+O[6]+2821735955&4294967295,M=k+(R<<17&4294967295|R>>>15),R=b+(E^M&(k^E))+O[7]+4249261313&4294967295,b=M+(R<<22&4294967295|R>>>10),R=E+(k^b&(M^k))+O[8]+1770035416&4294967295,E=b+(R<<7&4294967295|R>>>25),R=k+(M^E&(b^M))+O[9]+2336552879&4294967295,k=E+(R<<12&4294967295|R>>>20),R=M+(b^k&(E^b))+O[10]+4294925233&4294967295,M=k+(R<<17&4294967295|R>>>15),R=b+(E^M&(k^E))+O[11]+2304563134&4294967295,b=M+(R<<22&4294967295|R>>>10),R=E+(k^b&(M^k))+O[12]+1804603682&4294967295,E=b+(R<<7&4294967295|R>>>25),R=k+(M^E&(b^M))+O[13]+4254626195&4294967295,k=E+(R<<12&4294967295|R>>>20),R=M+(b^k&(E^b))+O[14]+2792965006&4294967295,M=k+(R<<17&4294967295|R>>>15),R=b+(E^M&(k^E))+O[15]+1236535329&4294967295,b=M+(R<<22&4294967295|R>>>10),R=E+(M^k&(b^M))+O[1]+4129170786&4294967295,E=b+(R<<5&4294967295|R>>>27),R=k+(b^M&(E^b))+O[6]+3225465664&4294967295,k=E+(R<<9&4294967295|R>>>23),R=M+(E^b&(k^E))+O[11]+643717713&4294967295,M=k+(R<<14&4294967295|R>>>18),R=b+(k^E&(M^k))+O[0]+3921069994&4294967295,b=M+(R<<20&4294967295|R>>>12),R=E+(M^k&(b^M))+O[5]+3593408605&4294967295,E=b+(R<<5&4294967295|R>>>27),R=k+(b^M&(E^b))+O[10]+38016083&4294967295,k=E+(R<<9&4294967295|R>>>23),R=M+(E^b&(k^E))+O[15]+3634488961&4294967295,M=k+(R<<14&4294967295|R>>>18),R=b+(k^E&(M^k))+O[4]+3889429448&4294967295,b=M+(R<<20&4294967295|R>>>12),R=E+(M^k&(b^M))+O[9]+568446438&4294967295,E=b+(R<<5&4294967295|R>>>27),R=k+(b^M&(E^b))+O[14]+3275163606&4294967295,k=E+(R<<9&4294967295|R>>>23),R=M+(E^b&(k^E))+O[3]+4107603335&4294967295,M=k+(R<<14&4294967295|R>>>18),R=b+(k^E&(M^k))+O[8]+1163531501&4294967295,b=M+(R<<20&4294967295|R>>>12),R=E+(M^k&(b^M))+O[13]+2850285829&4294967295,E=b+(R<<5&4294967295|R>>>27),R=k+(b^M&(E^b))+O[2]+4243563512&4294967295,k=E+(R<<9&4294967295|R>>>23),R=M+(E^b&(k^E))+O[7]+1735328473&4294967295,M=k+(R<<14&4294967295|R>>>18),R=b+(k^E&(M^k))+O[12]+2368359562&4294967295,b=M+(R<<20&4294967295|R>>>12),R=E+(b^M^k)+O[5]+4294588738&4294967295,E=b+(R<<4&4294967295|R>>>28),R=k+(E^b^M)+O[8]+2272392833&4294967295,k=E+(R<<11&4294967295|R>>>21),R=M+(k^E^b)+O[11]+1839030562&4294967295,M=k+(R<<16&4294967295|R>>>16),R=b+(M^k^E)+O[14]+4259657740&4294967295,b=M+(R<<23&4294967295|R>>>9),R=E+(b^M^k)+O[1]+2763975236&4294967295,E=b+(R<<4&4294967295|R>>>28),R=k+(E^b^M)+O[4]+1272893353&4294967295,k=E+(R<<11&4294967295|R>>>21),R=M+(k^E^b)+O[7]+4139469664&4294967295,M=k+(R<<16&4294967295|R>>>16),R=b+(M^k^E)+O[10]+3200236656&4294967295,b=M+(R<<23&4294967295|R>>>9),R=E+(b^M^k)+O[13]+681279174&4294967295,E=b+(R<<4&4294967295|R>>>28),R=k+(E^b^M)+O[0]+3936430074&4294967295,k=E+(R<<11&4294967295|R>>>21),R=M+(k^E^b)+O[3]+3572445317&4294967295,M=k+(R<<16&4294967295|R>>>16),R=b+(M^k^E)+O[6]+76029189&4294967295,b=M+(R<<23&4294967295|R>>>9),R=E+(b^M^k)+O[9]+3654602809&4294967295,E=b+(R<<4&4294967295|R>>>28),R=k+(E^b^M)+O[12]+3873151461&4294967295,k=E+(R<<11&4294967295|R>>>21),R=M+(k^E^b)+O[15]+530742520&4294967295,M=k+(R<<16&4294967295|R>>>16),R=b+(M^k^E)+O[2]+3299628645&4294967295,b=M+(R<<23&4294967295|R>>>9),R=E+(M^(b|~k))+O[0]+4096336452&4294967295,E=b+(R<<6&4294967295|R>>>26),R=k+(b^(E|~M))+O[7]+1126891415&4294967295,k=E+(R<<10&4294967295|R>>>22),R=M+(E^(k|~b))+O[14]+2878612391&4294967295,M=k+(R<<15&4294967295|R>>>17),R=b+(k^(M|~E))+O[5]+4237533241&4294967295,b=M+(R<<21&4294967295|R>>>11),R=E+(M^(b|~k))+O[12]+1700485571&4294967295,E=b+(R<<6&4294967295|R>>>26),R=k+(b^(E|~M))+O[3]+2399980690&4294967295,k=E+(R<<10&4294967295|R>>>22),R=M+(E^(k|~b))+O[10]+4293915773&4294967295,M=k+(R<<15&4294967295|R>>>17),R=b+(k^(M|~E))+O[1]+2240044497&4294967295,b=M+(R<<21&4294967295|R>>>11),R=E+(M^(b|~k))+O[8]+1873313359&4294967295,E=b+(R<<6&4294967295|R>>>26),R=k+(b^(E|~M))+O[15]+4264355552&4294967295,k=E+(R<<10&4294967295|R>>>22),R=M+(E^(k|~b))+O[6]+2734768916&4294967295,M=k+(R<<15&4294967295|R>>>17),R=b+(k^(M|~E))+O[13]+1309151649&4294967295,b=M+(R<<21&4294967295|R>>>11),R=E+(M^(b|~k))+O[4]+4149444226&4294967295,E=b+(R<<6&4294967295|R>>>26),R=k+(b^(E|~M))+O[11]+3174756917&4294967295,k=E+(R<<10&4294967295|R>>>22),R=M+(E^(k|~b))+O[2]+718787259&4294967295,M=k+(R<<15&4294967295|R>>>17),R=b+(k^(M|~E))+O[9]+3951481745&4294967295,V.g[0]=V.g[0]+E&4294967295,V.g[1]=V.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,V.g[2]=V.g[2]+M&4294967295,V.g[3]=V.g[3]+k&4294967295}s.prototype.u=function(V,E){E===void 0&&(E=V.length);for(var b=E-this.blockSize,O=this.B,M=this.h,k=0;k<E;){if(M==0)for(;k<=b;)l(this,V,k),k+=this.blockSize;if(typeof V=="string"){for(;k<E;)if(O[M++]=V.charCodeAt(k++),M==this.blockSize){l(this,O),M=0;break}}else for(;k<E;)if(O[M++]=V[k++],M==this.blockSize){l(this,O),M=0;break}}this.h=M,this.o+=E},s.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var E=1;E<V.length-8;++E)V[E]=0;var b=8*this.o;for(E=V.length-8;E<V.length;++E)V[E]=b&255,b/=256;for(this.u(V),V=Array(16),E=b=0;4>E;++E)for(var O=0;32>O;O+=8)V[b++]=this.g[E]>>>O&255;return V};function c(V,E){var b=g;return Object.prototype.hasOwnProperty.call(b,V)?b[V]:b[V]=E(V)}function d(V,E){this.h=E;for(var b=[],O=!0,M=V.length-1;0<=M;M--){var k=V[M]|0;O&&k==E||(b[M]=k,O=!1)}this.g=b}var g={};function y(V){return-128<=V&&128>V?c(V,function(E){return new d([E|0],0>E?-1:0)}):new d([V|0],0>V?-1:0)}function _(V){if(isNaN(V)||!isFinite(V))return I;if(0>V)return J(_(-V));for(var E=[],b=1,O=0;V>=b;O++)E[O]=V/b|0,b*=4294967296;return new d(E,0)}function S(V,E){if(V.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(V.charAt(0)=="-")return J(S(V.substring(1),E));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=_(Math.pow(E,8)),O=I,M=0;M<V.length;M+=8){var k=Math.min(8,V.length-M),R=parseInt(V.substring(M,M+k),E);8>k?(k=_(Math.pow(E,k)),O=O.j(k).add(_(R))):(O=O.j(b),O=O.add(_(R)))}return O}var I=y(0),D=y(1),q=y(16777216);r=d.prototype,r.m=function(){if(tt(this))return-J(this).m();for(var V=0,E=1,b=0;b<this.g.length;b++){var O=this.i(b);V+=(0<=O?O:4294967296+O)*E,E*=4294967296}return V},r.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if(Z(this))return"0";if(tt(this))return"-"+J(this).toString(V);for(var E=_(Math.pow(V,6)),b=this,O="";;){var M=Pt(b,E).g;b=Tt(b,M.j(E));var k=((0<b.g.length?b.g[0]:b.h)>>>0).toString(V);if(b=M,Z(b))return k+O;for(;6>k.length;)k="0"+k;O=k+O}},r.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function Z(V){if(V.h!=0)return!1;for(var E=0;E<V.g.length;E++)if(V.g[E]!=0)return!1;return!0}function tt(V){return V.h==-1}r.l=function(V){return V=Tt(this,V),tt(V)?-1:Z(V)?0:1};function J(V){for(var E=V.g.length,b=[],O=0;O<E;O++)b[O]=~V.g[O];return new d(b,~V.h).add(D)}r.abs=function(){return tt(this)?J(this):this},r.add=function(V){for(var E=Math.max(this.g.length,V.g.length),b=[],O=0,M=0;M<=E;M++){var k=O+(this.i(M)&65535)+(V.i(M)&65535),R=(k>>>16)+(this.i(M)>>>16)+(V.i(M)>>>16);O=R>>>16,k&=65535,R&=65535,b[M]=R<<16|k}return new d(b,b[b.length-1]&-2147483648?-1:0)};function Tt(V,E){return V.add(J(E))}r.j=function(V){if(Z(this)||Z(V))return I;if(tt(this))return tt(V)?J(this).j(J(V)):J(J(this).j(V));if(tt(V))return J(this.j(J(V)));if(0>this.l(q)&&0>V.l(q))return _(this.m()*V.m());for(var E=this.g.length+V.g.length,b=[],O=0;O<2*E;O++)b[O]=0;for(O=0;O<this.g.length;O++)for(var M=0;M<V.g.length;M++){var k=this.i(O)>>>16,R=this.i(O)&65535,xe=V.i(M)>>>16,se=V.i(M)&65535;b[2*O+2*M]+=R*se,dt(b,2*O+2*M),b[2*O+2*M+1]+=k*se,dt(b,2*O+2*M+1),b[2*O+2*M+1]+=R*xe,dt(b,2*O+2*M+1),b[2*O+2*M+2]+=k*xe,dt(b,2*O+2*M+2)}for(O=0;O<E;O++)b[O]=b[2*O+1]<<16|b[2*O];for(O=E;O<2*E;O++)b[O]=0;return new d(b,0)};function dt(V,E){for(;(V[E]&65535)!=V[E];)V[E+1]+=V[E]>>>16,V[E]&=65535,E++}function ut(V,E){this.g=V,this.h=E}function Pt(V,E){if(Z(E))throw Error("division by zero");if(Z(V))return new ut(I,I);if(tt(V))return E=Pt(J(V),E),new ut(J(E.g),J(E.h));if(tt(E))return E=Pt(V,J(E)),new ut(J(E.g),E.h);if(30<V.g.length){if(tt(V)||tt(E))throw Error("slowDivide_ only works with positive integers.");for(var b=D,O=E;0>=O.l(V);)b=_t(b),O=_t(O);var M=Ut(b,1),k=Ut(O,1);for(O=Ut(O,2),b=Ut(b,2);!Z(O);){var R=k.add(O);0>=R.l(V)&&(M=M.add(b),k=R),O=Ut(O,1),b=Ut(b,1)}return E=Tt(V,M.j(E)),new ut(M,E)}for(M=I;0<=V.l(E);){for(b=Math.max(1,Math.floor(V.m()/E.m())),O=Math.ceil(Math.log(b)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),k=_(b),R=k.j(E);tt(R)||0<R.l(V);)b-=O,k=_(b),R=k.j(E);Z(k)&&(k=D),M=M.add(k),V=Tt(V,R)}return new ut(M,V)}r.A=function(V){return Pt(this,V).h},r.and=function(V){for(var E=Math.max(this.g.length,V.g.length),b=[],O=0;O<E;O++)b[O]=this.i(O)&V.i(O);return new d(b,this.h&V.h)},r.or=function(V){for(var E=Math.max(this.g.length,V.g.length),b=[],O=0;O<E;O++)b[O]=this.i(O)|V.i(O);return new d(b,this.h|V.h)},r.xor=function(V){for(var E=Math.max(this.g.length,V.g.length),b=[],O=0;O<E;O++)b[O]=this.i(O)^V.i(O);return new d(b,this.h^V.h)};function _t(V){for(var E=V.g.length+1,b=[],O=0;O<E;O++)b[O]=V.i(O)<<1|V.i(O-1)>>>31;return new d(b,V.h)}function Ut(V,E){var b=E>>5;E%=32;for(var O=V.g.length-b,M=[],k=0;k<O;k++)M[k]=0<E?V.i(k+b)>>>E|V.i(k+b+1)<<32-E:V.i(k+b);return new d(M,V.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,vT=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=S,Vr=d}).apply(typeof H_<"u"?H_:typeof self<"u"?self:typeof window<"u"?window:{});var _c=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var TT,pl,ET,wc,Qd,AT,ST,bT;(function(){var r,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof _c=="object"&&_c];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var p=s;u=u.split(".");for(var A=0;A<u.length-1;A++){var P=u[A];if(!(P in p))break t;p=p[P]}u=u[u.length-1],A=p[u],m=m(A),m!=A&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function c(u,m){u instanceof String&&(u+="");var p=0,A=!1,P={next:function(){if(!A&&p<u.length){var B=p++;return{value:m(B,u[B]),done:!1}}return A=!0,{done:!0,value:void 0}}};return P[Symbol.iterator]=function(){return P},P}l("Array.prototype.values",function(u){return u||function(){return c(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function y(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function _(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function S(u,m,p){return u.call.apply(u.bind,arguments)}function I(u,m,p){if(!u)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var P=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(P,A),u.apply(m,P)}}return function(){return u.apply(m,arguments)}}function D(u,m,p){return D=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:I,D.apply(null,arguments)}function q(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var A=p.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function Z(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(A,P,B){for(var et=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)et[Mt-2]=arguments[Mt];return m.prototype[P].apply(A,et)}}function tt(u){const m=u.length;if(0<m){const p=Array(m);for(let A=0;A<m;A++)p[A]=u[A];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const A=arguments[p];if(y(A)){const P=u.length||0,B=A.length||0;u.length=P+B;for(let et=0;et<B;et++)u[P+et]=A[et]}else u.push(A)}}class Tt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function dt(u){return/^[\s\xa0]*$/.test(u)}function ut(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function Pt(u){return Pt[" "](u),u}Pt[" "]=function(){};var _t=ut().indexOf("Gecko")!=-1&&!(ut().toLowerCase().indexOf("webkit")!=-1&&ut().indexOf("Edge")==-1)&&!(ut().indexOf("Trident")!=-1||ut().indexOf("MSIE")!=-1)&&ut().indexOf("Edge")==-1;function Ut(u,m,p){for(const A in u)m.call(p,u[A],A,u)}function V(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function E(u){const m={};for(const p in u)m[p]=u[p];return m}const b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(u,m){let p,A;for(let P=1;P<arguments.length;P++){A=arguments[P];for(p in A)u[p]=A[p];for(let B=0;B<b.length;B++)p=b[B],Object.prototype.hasOwnProperty.call(A,p)&&(u[p]=A[p])}}function M(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function k(u){g.setTimeout(()=>{throw u},0)}function R(){var u=zt;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class xe{constructor(){this.h=this.g=null}add(m,p){const A=se.get();A.set(m,p),this.h?this.h.next=A:this.g=A,this.h=A}}var se=new Tt(()=>new H,u=>u.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,lt=!1,zt=new xe,C=()=>{const u=g.Promise.resolve(void 0);nt=()=>{u.then(X)}};var X=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(p){k(p)}var m=se;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}lt=!1};function it(){this.s=this.s,this.C=this.C}it.prototype.s=!1,it.prototype.ma=function(){this.s||(this.s=!0,this.N())},it.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var ct=(function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u})();function wt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(_t){t:{try{Pt(m.nodeName);var P=!0;break t}catch{}P=!1}P||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:vt[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&wt.aa.h.call(this)}}Z(wt,W);var vt={2:"touch",3:"pen",4:"mouse"};wt.prototype.h=function(){wt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function Bn(u,m,p,A,P){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!A,this.ha=P,this.key=++Zt,this.da=this.fa=!1}function Xi(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function gi(u){this.src=u,this.g={},this.h=0}gi.prototype.add=function(u,m,p,A,P){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var et=Qr(u,m,A,P);return-1<et?(m=u[et],p||(m.fa=!1)):(m=new Bn(m,this.src,B,!!A,P),m.fa=p,u.push(m)),m};function Fr(u,m){var p=m.type;if(p in u.g){var A=u.g[p],P=Array.prototype.indexOf.call(A,m,void 0),B;(B=0<=P)&&Array.prototype.splice.call(A,P,1),B&&(Xi(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function Qr(u,m,p,A){for(var P=0;P<u.length;++P){var B=u[P];if(!B.da&&B.listener==m&&B.capture==!!p&&B.ha==A)return P}return-1}var Kr="closure_lm_"+(1e6*Math.random()|0),ro={};function Yl(u,m,p,A,P){if(Array.isArray(m)){for(var B=0;B<m.length;B++)Yl(u,m[B],p,A,P);return null}return p=Xl(p),u&&u[Ie]?u.K(m,p,_(A)?!!A.capture:!1,P):_n(u,m,p,!1,A,P)}function _n(u,m,p,A,P,B){if(!m)throw Error("Invalid event type");var et=_(P)?!!P.capture:!!P,Mt=qs(u);if(Mt||(u[Kr]=Mt=new gi(u)),p=Mt.add(m,p,A,et,B),p.proxy)return p;if(A=Eh(),p.proxy=A,A.src=u,A.listener=p,u.addEventListener)ct||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),A,P);else if(u.attachEvent)u.attachEvent(Yr(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Eh(){function u(p){return m.call(u.src,u.listener,p)}const m=Ah;return u}function so(u,m,p,A,P){if(Array.isArray(m))for(var B=0;B<m.length;B++)so(u,m[B],p,A,P);else A=_(A)?!!A.capture:!!A,p=Xl(p),u&&u[Ie]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],p=Qr(B,p,A,P),-1<p&&(Xi(B[p]),Array.prototype.splice.call(B,p,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=qs(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Qr(m,p,A,P)),(p=-1<u?m[u]:null)&&Bs(p))}function Bs(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])Fr(m.i,u);else{var p=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(p,A,u.capture):m.detachEvent?m.detachEvent(Yr(p),A):m.addListener&&m.removeListener&&m.removeListener(A),(p=qs(m))?(Fr(p,u),p.h==0&&(p.src=null,m[Kr]=null)):Xi(u)}}}function Yr(u){return u in ro?ro[u]:ro[u]="on"+u}function Ah(u,m){if(u.da)u=!0;else{m=new wt(m,this);var p=u.listener,A=u.ha||u.src;u.fa&&Bs(u),u=p.call(A,m)}return u}function qs(u){return u=u[Kr],u instanceof gi?u:null}var ao="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xl(u){return typeof u=="function"?u:(u[ao]||(u[ao]=function(m){return u.handleEvent(m)}),u[ao])}function ae(){it.call(this),this.i=new gi(this),this.M=this,this.F=null}Z(ae,it),ae.prototype[Ie]=!0,ae.prototype.removeEventListener=function(u,m,p,A){so(this,u,m,p,A)};function Ht(u,m){var p,A=u.F;if(A)for(p=[];A;A=A.F)p.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var P=m;m=new W(A,u),O(m,P)}if(P=!0,p)for(var B=p.length-1;0<=B;B--){var et=m.g=p[B];P=ln(et,A,!0,m)&&P}if(et=m.g=u,P=ln(et,A,!0,m)&&P,P=ln(et,A,!1,m)&&P,p)for(B=0;B<p.length;B++)et=m.g=p[B],P=ln(et,A,!1,m)&&P}ae.prototype.N=function(){if(ae.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],A=0;A<p.length;A++)Xi(p[A]);delete u.g[m],u.h--}}this.F=null},ae.prototype.K=function(u,m,p,A){return this.i.add(String(u),m,!1,p,A)},ae.prototype.L=function(u,m,p,A){return this.i.add(String(u),m,!0,p,A)};function ln(u,m,p,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var P=!0,B=0;B<m.length;++B){var et=m[B];if(et&&!et.da&&et.capture==p){var Mt=et.listener,Te=et.ha||et.src;et.fa&&Fr(u.i,et),P=Mt.call(Te,A)!==!1&&P}}return P&&!A.defaultPrevented}function He(u,m,p){if(typeof u=="function")p&&(u=D(u,p));else if(u&&typeof u.handleEvent=="function")u=D(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function $l(u){u.g=He(()=>{u.g=null,u.i&&(u.i=!1,$l(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Sh extends it{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(u){it.call(this),this.h=u,this.g={}}Z(Xr,it);var $r=[];function Zr(u){Ut(u.g,function(m,p){this.g.hasOwnProperty(p)&&Bs(m)},u),u.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),Zr(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Mn=g.JSON.stringify,Hs=g.JSON.parse,Jr=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function oo(){}oo.prototype.h=null;function lo(u){return u.h||(u.h=u.i())}function uo(){}var pi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yi(){W.call(this,"d")}Z(yi,W);function co(){W.call(this,"c")}Z(co,W);var qn={},ho=null;function $i(){return ho=ho||new ae}qn.La="serverreachability";function Gs(u){W.call(this,qn.La,u)}Z(Gs,W);function Zi(u){const m=$i();Ht(m,new Gs(m))}qn.STAT_EVENT="statevent";function Zl(u,m){W.call(this,qn.STAT_EVENT,u),this.stat=m}Z(Zl,W);function ee(u){const m=$i();Ht(m,new Zl(m,u))}qn.Ma="timingevent";function ve(u,m){W.call(this,qn.Ma,u),this.size=m}Z(ve,W);function de(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function vn(){this.g=!0}vn.prototype.xa=function(){this.g=!1};function fo(u,m,p,A,P,B){u.info(function(){if(u.g)if(B)for(var et="",Mt=B.split("&"),Te=0;Te<Mt.length;Te++){var Vt=Mt[Te].split("=");if(1<Vt.length){var De=Vt[0];Vt=Vt[1];var Ee=De.split("_");et=2<=Ee.length&&Ee[1]=="type"?et+(De+"="+Vt+"&"):et+(De+"=redacted&")}}else et=null;else et=B;return"XMLHTTP REQ ("+A+") [attempt "+P+"]: "+m+`
`+p+`
`+et})}function bh(u,m,p,A,P,B,et){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+P+"]: "+m+`
`+p+`
`+B+" "+et})}function Ji(u,m,p,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Wr(u,p)+(A?" "+A:"")})}function Jl(u,m){u.info(function(){return"TIMEOUT: "+m})}vn.prototype.info=function(){};function Wr(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var A=p[u];if(!(2>A.length)){var P=A[1];if(Array.isArray(P)&&!(1>P.length)){var B=P[0];if(B!="noop"&&B!="stop"&&B!="close")for(var et=1;et<P.length;et++)P[et]=""}}}}return Mn(p)}catch{return m}}var Wi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_i={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Hn;function Gn(){}Z(Gn,oo),Gn.prototype.g=function(){return new XMLHttpRequest},Gn.prototype.i=function(){return{}},Hn=new Gn;function Ze(u,m,p,A){this.j=u,this.i=m,this.l=p,this.R=A||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ue}function ue(){this.i=null,this.g="",this.h=!1}var mo={},Fs={};function Vn(u,m,p){u.L=1,u.v=rs(un(m)),u.m=p,u.P=!0,vi(u,null)}function vi(u,m){u.F=Date.now(),ts(u),u.A=un(u.v);var p=u.A,A=u.R;Array.isArray(A)||(A=[String(A)]),To(p.i,"t",A),u.C=0,p=u.j.J,u.h=new ue,u.g=mu(u.j,p?m:null,!u.m),0<u.O&&(u.M=new Sh(D(u.Y,u,u.g),u.O)),m=u.U,p=u.g,A=u.ca;var P="readystatechange";Array.isArray(P)||(P&&($r[0]=P.toString()),P=$r);for(var B=0;B<P.length;B++){var et=Yl(p,P[B],A||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.H?E(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Zi(),fo(u.i,u.u,u.A,u.l,u.R,u.m)}Ze.prototype.ca=function(u){u=u.target;const m=this.M;m&&Sn(u)==3?m.j():this.Y(u)},Ze.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=Sn(this.g);var m=this.g.Ba();const Ii=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||au(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=Ii?Zi(3):Zi(2)),tr(this);var p=this.g.Z();this.X=p;e:if(Wl(this)){var A=au(this.g);u="";var P=A.length,B=Sn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ke(this),Fn(this);var et="";break e}this.h.i=new g.TextDecoder}for(m=0;m<P;m++)this.h.h=!0,u+=this.h.i.decode(A[m],{stream:!(B&&m==P-1)});A.length=0,this.h.g+=u,this.C=0,et=this.h.g}else et=this.g.oa();if(this.o=p==200,bh(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Mt,Te=this.g;if((Mt=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!dt(Mt)){var Vt=Mt;break e}}Vt=null}if(p=Vt)Ji(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,es(this,p);else{this.o=!1,this.s=3,ee(12),ke(this),Fn(this);break t}}if(this.P){p=!0;let Pe;for(;!this.J&&this.C<et.length;)if(Pe=tu(this,et),Pe==Fs){Ee==4&&(this.s=4,ee(14),p=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(Pe==mo){this.s=4,ee(15),Ji(this.i,this.l,et,"[Invalid Chunk]"),p=!1;break}else Ji(this.i,this.l,Pe,null),es(this,Pe);if(Wl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||et.length!=0||this.h.h||(this.s=1,ee(16),p=!1),this.o=this.o&&p,!p)Ji(this.i,this.l,et,"[Invalid Chunked Response]"),ke(this),Fn(this);else if(0<et.length&&!this.W){this.W=!0;var De=this.j;De.g==this&&De.ba&&!De.M&&(De.j.info("Great, no buffering proxy detected. Bytes received: "+et.length),fs(De),De.M=!0,ee(11))}}else Ji(this.i,this.l,et,null),es(this,et);Ee==4&&ke(this),this.o&&!this.J&&(Ee==4?hu(this.j,this):(this.o=!1,ts(this)))}else Dh(this.g),p==400&&0<et.indexOf("Unknown SID")?(this.s=3,ee(12)):(this.s=0,ee(13)),ke(this),Fn(this)}}}catch{}finally{}};function Wl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function tu(u,m){var p=u.C,A=m.indexOf(`
`,p);return A==-1?Fs:(p=Number(m.substring(p,A)),isNaN(p)?mo:(A+=1,A+p>m.length?Fs:(m=m.slice(A,A+p),u.C=A+p,m)))}Ze.prototype.cancel=function(){this.J=!0,ke(this)};function ts(u){u.S=Date.now()+u.I,eu(u,u.I)}function eu(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=de(D(u.ba,u),m)}function tr(u){u.B&&(g.clearTimeout(u.B),u.B=null)}Ze.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Jl(this.i,this.A),this.L!=2&&(Zi(),ee(17)),ke(this),this.s=2,Fn(this)):eu(this,this.S-u)};function Fn(u){u.j.G==0||u.J||hu(u.j,u)}function ke(u){tr(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,Zr(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function es(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||go(p.h,u))){if(!u.K&&go(p.h,u)&&p.G==3){try{var A=p.Da.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var P=A;if(P[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)ia(p),ea(p);else break t;wo(p),ee(18)}}else p.za=P[1],0<p.za-p.T&&37500>P[2]&&p.F&&p.v==0&&!p.C&&(p.C=de(D(p.Za,p),6e3));if(1>=Ks(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Ri(p,11)}else if((u.K||p.g==u)&&ia(p),!dt(m))for(P=p.Da.g.parse(m),m=0;m<P.length;m++){let Vt=P[m];if(p.T=Vt[0],Vt=Vt[1],p.G==2)if(Vt[0]=="c"){p.K=Vt[1],p.ia=Vt[2];const De=Vt[3];De!=null&&(p.la=De,p.j.info("VER="+p.la));const Ee=Vt[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const Ii=Vt[5];Ii!=null&&typeof Ii=="number"&&0<Ii&&(A=1.5*Ii,p.L=A,p.j.info("backChannelRequestTimeoutMs_="+A)),A=p;const Pe=u.g;if(Pe){const Jn=Pe.g?Pe.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Jn){var B=A.h;B.g||Jn.indexOf("spdy")==-1&&Jn.indexOf("quic")==-1&&Jn.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Ys(B,B.h),B.h=null))}if(A.D){const Io=Pe.g?Pe.g.getResponseHeader("X-HTTP-Session-Id"):null;Io&&(A.ya=Io,Qt(A.I,A.D,Io))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),A=p;var et=u;if(A.qa=du(A,A.J?A.ia:null,A.W),et.K){Je(A.h,et);var Mt=et,Te=A.L;Te&&(Mt.I=Te),Mt.B&&(tr(Mt),ts(Mt)),A.g=et}else uu(A);0<p.i.length&&na(p)}else Vt[0]!="stop"&&Vt[0]!="close"||Ri(p,7);else p.G==3&&(Vt[0]=="stop"||Vt[0]=="close"?Vt[0]=="stop"?Ri(p,7):So(p):Vt[0]!="noop"&&p.l&&p.l.ta(Vt),p.v=0)}}Zi(4)}catch{}}var nu=class{constructor(u,m){this.g=u,this.map=m}};function Ti(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qs(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ks(u){return u.h?1:u.g?u.g.size:0}function go(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ys(u,m){u.g?u.g.add(m):u.h=m}function Je(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ti.prototype.cancel=function(){if(this.i=po(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function po(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return tt(u.i)}function wh(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(y(u)){for(var m=[],p=u.length,A=0;A<p;A++)m.push(u[A]);return m}m=[],p=0;for(A in u)m[p++]=u[A];return m}function Xs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(y(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const A in u)m[p++]=A;return m}}}function yo(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(y(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=Xs(u),A=wh(u),P=A.length,B=0;B<P;B++)m.call(void 0,A[B],p&&p[B],u)}var ns=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Rh(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var A=u[p].indexOf("="),P=null;if(0<=A){var B=u[p].substring(0,A);P=u[p].substring(A+1)}else B=u[p];m(B,P?decodeURIComponent(P.replace(/\+/g," ")):"")}}}function me(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof me){this.h=u.h,is(this,u.j),this.o=u.o,this.g=u.g,er(this,u.s),this.l=u.l;var m=u.i,p=new Ai;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),Ei(this,p),this.m=u.m}else u&&(m=String(u).match(ns))?(this.h=!1,is(this,m[1]||"",!0),this.o=Tn(m[2]||""),this.g=Tn(m[3]||"",!0),er(this,m[4]),this.l=Tn(m[5]||"",!0),Ei(this,m[6]||"",!0),this.m=Tn(m[7]||"")):(this.h=!1,this.i=new Ai(null,this.h))}me.prototype.toString=function(){var u=[],m=this.j;m&&u.push(ss(m,_o,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(ss(m,_o,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(ss(p,p.charAt(0)=="/"?Ih:vo,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",ss(p,$s)),u.join("")};function un(u){return new me(u)}function is(u,m,p){u.j=p?Tn(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function er(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Ei(u,m,p){m instanceof Ai?(u.i=m,ru(u.i,u.h)):(p||(m=ss(m,Ch)),u.i=new Ai(m,u.h))}function Qt(u,m,p){u.i.set(m,p)}function rs(u){return Qt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Tn(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function ss(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,iu),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function iu(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var _o=/[#\/\?@]/g,vo=/[#\?:]/g,Ih=/[#\?]/g,Ch=/[#\?@]/g,$s=/#/g;function Ai(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function En(u){u.g||(u.g=new Map,u.h=0,u.i&&Rh(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}r=Ai.prototype,r.add=function(u,m){En(this),this.i=null,u=Qn(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function Si(u,m){En(u),m=Qn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function bi(u,m){return En(u),m=Qn(u,m),u.g.has(m)}r.forEach=function(u,m){En(this),this.g.forEach(function(p,A){p.forEach(function(P){u.call(m,P,A,this)},this)},this)},r.na=function(){En(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let A=0;A<m.length;A++){const P=u[A];for(let B=0;B<P.length;B++)p.push(m[A])}return p},r.V=function(u){En(this);let m=[];if(typeof u=="string")bi(this,u)&&(m=m.concat(this.g.get(Qn(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},r.set=function(u,m){return En(this),this.i=null,u=Qn(this,u),bi(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function To(u,m,p){Si(u,m),0<p.length&&(u.i=null,u.g.set(Qn(u,m),tt(p)),u.h+=p.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var A=m[p];const B=encodeURIComponent(String(A)),et=this.V(A);for(A=0;A<et.length;A++){var P=B;et[A]!==""&&(P+="="+encodeURIComponent(String(et[A]))),u.push(P)}}return this.i=u.join("&")};function Qn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ru(u,m){m&&!u.j&&(En(u),u.i=null,u.g.forEach(function(p,A){var P=A.toLowerCase();A!=P&&(Si(this,A),To(this,P,p))},u)),u.j=m}function as(u,m){const p=new vn;if(g.Image){const A=new Image;A.onload=q(An,p,"TestLoadImage: loaded",!0,m,A),A.onerror=q(An,p,"TestLoadImage: error",!1,m,A),A.onabort=q(An,p,"TestLoadImage: abort",!1,m,A),A.ontimeout=q(An,p,"TestLoadImage: timeout",!1,m,A),g.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function xn(u,m){const p=new vn,A=new AbortController,P=setTimeout(()=>{A.abort(),An(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(B=>{clearTimeout(P),B.ok?An(p,"TestPingServer: ok",!0,m):An(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),An(p,"TestPingServer: error",!1,m)})}function An(u,m,p,A,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),A(p)}catch{}}function os(){this.g=new Jr}function Kn(u,m,p){const A=p||"";try{yo(u,function(P,B){let et=P;_(P)&&(et=Mn(P)),m.push(A+B+"="+encodeURIComponent(et))})}catch(P){throw m.push(A+"type="+encodeURIComponent("_badmap")),P}}function nr(u){this.l=u.Ub||null,this.j=u.eb||!1}Z(nr,oo),nr.prototype.g=function(){return new wi(this.l,this.j)},nr.prototype.i=(function(u){return function(){return u}})({});function wi(u,m){ae.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}Z(wi,ae),r=wi.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Xn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Yn(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Eo(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Eo(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Yn(this):Xn(this),this.readyState==3&&Eo(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Yn(this))},r.Qa=function(u){this.g&&(this.response=u,Yn(this))},r.ga=function(){this.g&&Yn(this)};function Yn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Xn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Xn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(wi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ao(u){let m="";return Ut(u,function(p,A){m+=A,m+=":",m+=p,m+=`\r
`}),m}function Ce(u,m,p){t:{for(A in p){var A=!1;break t}A=!0}A||(p=Ao(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):Qt(u,m,p))}function Bt(u){ae.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}Z(Bt,ae);var Zs=/^https?$/i,ls=["POST","PUT"];r=Bt.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,p,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Hn.g(),this.v=this.o?lo(this.o):lo(Hn),this.g.onreadystatechange=D(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){su(this,B);return}if(u=p||"",p=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var P in A)p.set(P,A[P]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const B of A.keys())p.set(B,A.get(B));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),P=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call(ls,m,void 0))||A||P||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,et]of p)this.g.setRequestHeader(B,et);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{us(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){su(this,B)}};function su(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Js(u),$n(u)}function Js(u){u.A||(u.A=!0,Ht(u,"complete"),Ht(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ht(this,"complete"),Ht(this,"abort"),$n(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$n(this,!0)),Bt.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?Ws(this):this.bb())},r.bb=function(){Ws(this)};function Ws(u){if(u.h&&typeof d<"u"&&(!u.v[1]||Sn(u)!=4||u.Z()!=2)){if(u.u&&Sn(u)==4)He(u.Ea,0,u);else if(Ht(u,"readystatechange"),Sn(u)==4){u.h=!1;try{const et=u.Z();t:switch(et){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var A;if(A=et===0){var P=String(u.D).match(ns)[1]||null;!P&&g.self&&g.self.location&&(P=g.self.location.protocol.slice(0,-1)),A=!Zs.test(P?P.toLowerCase():"")}p=A}if(p)Ht(u,"complete"),Ht(u,"success");else{u.m=6;try{var B=2<Sn(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",Js(u)}}finally{$n(u)}}}}function $n(u,m){if(u.g){us(u);const p=u.g,A=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ht(u,"ready");try{p.onreadystatechange=A}catch{}}}function us(u){u.I&&(g.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Sn(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Sn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Hs(m)}};function au(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Dh(u){const m={};u=(u.g&&2<=Sn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(dt(u[A]))continue;var p=M(u[A]);const P=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=m[P]||[];m[P]=B,B.push(p)}V(m,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function cs(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function ta(u){this.Aa=0,this.i=[],this.j=new vn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=cs("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=cs("baseRetryDelayMs",5e3,u),this.cb=cs("retryDelaySeedMs",1e4,u),this.Wa=cs("forwardChannelMaxRetries",2,u),this.wa=cs("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(u&&u.concurrentRequestLimit),this.Da=new os,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ta.prototype,r.la=8,r.G=1,r.connect=function(u,m,p,A){ee(0),this.W=u,this.H=m||{},p&&A!==void 0&&(this.H.OSID=p,this.H.OAID=A),this.F=this.X,this.I=du(this,null,this.W),na(this)};function So(u){if(ou(u),u.G==3){var m=u.U++,p=un(u.I);if(Qt(p,"SID",u.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),hs(u,p),m=new Ze(u,u.j,m),m.L=2,m.v=rs(un(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=mu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),ts(m)}fu(u)}function ea(u){u.g&&(fs(u),u.g.cancel(),u.g=null)}function ou(u){ea(u),u.u&&(g.clearTimeout(u.u),u.u=null),ia(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function na(u){if(!Qs(u.h)&&!u.s){u.s=!0;var m=u.Ga;nt||C(),lt||(nt(),lt=!0),zt.add(m,u),u.B=0}}function Nh(u,m){return Ks(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=de(D(u.Ga,u,m),Ro(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const P=new Ze(this,this.j,u);let B=this.o;if(this.S&&(B?(B=E(B),O(B,this.S)):B=this.S),this.m!==null||this.O||(P.H=B,B=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var A=this.i[p];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=lu(this,P,m),p=un(this.I),Qt(p,"RID",u),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),hs(this,p),B&&(this.O?m="headers="+encodeURIComponent(String(Ao(B)))+"&"+m:this.m&&Ce(p,this.m,B)),Ys(this.h,P),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),P.T=!0,Vn(P,p,null)):Vn(P,p,m),this.G=2}}else this.G==3&&(u?bo(this,u):this.i.length==0||Qs(this.h)||bo(this))};function bo(u,m){var p;m?p=m.l:p=u.U++;const A=un(u.I);Qt(A,"SID",u.K),Qt(A,"RID",p),Qt(A,"AID",u.T),hs(u,A),u.m&&u.o&&Ce(A,u.m,u.o),p=new Ze(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=lu(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Ys(u.h,p),Vn(p,A,m)}function hs(u,m){u.H&&Ut(u.H,function(p,A){Qt(m,A,p)}),u.l&&yo({},function(p,A){Qt(m,A,p)})}function lu(u,m,p){p=Math.min(u.i.length,p);var A=u.l?D(u.l.Na,u.l,u):null;t:{var P=u.i;let B=-1;for(;;){const et=["count="+p];B==-1?0<p?(B=P[0].g,et.push("ofs="+B)):B=0:et.push("ofs="+B);let Mt=!0;for(let Te=0;Te<p;Te++){let Vt=P[Te].g;const De=P[Te].map;if(Vt-=B,0>Vt)B=Math.max(0,P[Te].g-100),Mt=!1;else try{Kn(De,et,"req"+Vt+"_")}catch{A&&A(De)}}if(Mt){A=et.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,A}function uu(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;nt||C(),lt||(nt(),lt=!0),zt.add(m,u),u.v=0}}function wo(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=de(D(u.Fa,u),Ro(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,cu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=de(D(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ee(10),ea(this),cu(this))};function fs(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function cu(u){u.g=new Ze(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=un(u.qa);Qt(m,"RID","rpc"),Qt(m,"SID",u.K),Qt(m,"AID",u.T),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Qt(m,"TO",u.ja),Qt(m,"TYPE","xmlhttp"),hs(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=rs(un(m)),p.m=null,p.P=!0,vi(p,u)}r.Za=function(){this.C!=null&&(this.C=null,ea(this),wo(this),ee(19))};function ia(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function hu(u,m){var p=null;if(u.g==m){ia(u),fs(u),u.g=null;var A=2}else if(go(u.h,m))p=m.D,Je(u.h,m),A=1;else return;if(u.G!=0){if(m.o)if(A==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var P=u.B;A=$i(),Ht(A,new ve(A,p)),na(u)}else uu(u);else if(P=m.s,P==3||P==0&&0<m.X||!(A==1&&Nh(u,m)||A==2&&wo(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),P){case 1:Ri(u,5);break;case 4:Ri(u,10);break;case 3:Ri(u,6);break;default:Ri(u,2)}}}function Ro(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function Ri(u,m){if(u.j.info("Error code "+m),m==2){var p=D(u.fb,u),A=u.Xa;const P=!A;A=new me(A||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||is(A,"https"),rs(A),P?as(A.toString(),p):xn(A.toString(),p)}else ee(2);u.G=0,u.l&&u.l.sa(m),fu(u),ou(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ee(2)):(this.j.info("Failed to ping google.com"),ee(1))};function fu(u){if(u.G=0,u.ka=[],u.l){const m=po(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,tt(u.i),u.i.length=0),u.l.ra()}}function du(u,m,p){var A=p instanceof me?un(p):new me(p);if(A.g!="")m&&(A.g=m+"."+A.g),er(A,A.s);else{var P=g.location;A=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;var B=new me(null);A&&is(B,A),m&&(B.g=m),P&&er(B,P),p&&(B.l=p),A=B}return p=u.D,m=u.ya,p&&m&&Qt(A,p,m),Qt(A,"VER",u.la),hs(u,A),A}function mu(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new Bt(new nr({eb:p})):new Bt(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}r=gu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function ra(){}ra.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ae.call(this),this.g=new ta(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!dt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!dt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zn(this)}Z(We,ae),We.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){So(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Mn(u),u=p);m.i.push(new nu(m.Ya++,u)),m.G==3&&na(m)},We.prototype.N=function(){this.g.l=null,delete this.j,So(this.g),delete this.g,We.aa.N.call(this)};function pu(u){yi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}Z(pu,yi);function yu(){co.call(this),this.status=1}Z(yu,co);function Zn(u){this.g=u}Z(Zn,gu),Zn.prototype.ua=function(){Ht(this.g,"a")},Zn.prototype.ta=function(u){Ht(this.g,new pu(u))},Zn.prototype.sa=function(u){Ht(this.g,new yu)},Zn.prototype.ra=function(){Ht(this.g,"b")},ra.prototype.createWebChannel=ra.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,bT=function(){return new ra},ST=function(){return $i()},AT=qn,Qd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Wi.NO_ERROR=0,Wi.TIMEOUT=8,Wi.HTTP_ERROR=6,wc=Wi,_i.COMPLETE="complete",ET=_i,uo.EventType=pi,pi.OPEN="a",pi.CLOSE="b",pi.ERROR="c",pi.MESSAGE="d",ae.prototype.listen=ae.prototype.K,pl=uo,Bt.prototype.listenOnce=Bt.prototype.L,Bt.prototype.getLastError=Bt.prototype.Ka,Bt.prototype.getLastErrorCode=Bt.prototype.Ba,Bt.prototype.getStatus=Bt.prototype.Z,Bt.prototype.getResponseJson=Bt.prototype.Oa,Bt.prototype.getResponseText=Bt.prototype.oa,Bt.prototype.send=Bt.prototype.ea,Bt.prototype.setWithCredentials=Bt.prototype.Ha,TT=Bt}).apply(typeof _c<"u"?_c:typeof self<"u"?self:typeof window<"u"?window:{});const G_="@firebase/firestore",F_="4.9.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ye.UNAUTHENTICATED=new Ye(null),Ye.GOOGLE_CREDENTIALS=new Ye("google-credentials-uid"),Ye.FIRST_PARTY=new Ye("first-party-uid"),Ye.MOCK_USER=new Ye("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="12.2.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=new mm("@firebase/firestore");function Va(){return ks.logLevel}function rt(r,...t){if(ks.logLevel<=Dt.DEBUG){const i=t.map(ym);ks.debug(`Firestore (${Wa}): ${r}`,...i)}}function Gi(r,...t){if(ks.logLevel<=Dt.ERROR){const i=t.map(ym);ks.error(`Firestore (${Wa}): ${r}`,...i)}}function Ha(r,...t){if(ks.logLevel<=Dt.WARN){const i=t.map(ym);ks.warn(`Firestore (${Wa}): ${r}`,...i)}}function ym(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(i){return JSON.stringify(i)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gt(r,t,i){let s="Unexpected state";typeof t=="string"?s=t:i=t,wT(r,s,i)}function wT(r,t,i){let s=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{s+=" CONTEXT: "+JSON.stringify(i)}catch{s+=" CONTEXT: "+i}throw Gi(s),new Error(s)}function qt(r,t,i,s){let l="Unexpected state";typeof i=="string"?l=i:s=i,r||wT(t,l,s)}function At(r,t){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class at extends Yi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RT{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class bb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ye.UNAUTHENTICATED)))}shutdown(){}}class wb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class Rb{constructor(t){this.t=t,this.currentUser=Ye.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){qt(this.o===void 0,42304);let s=this.i;const l=y=>this.i!==s?(s=this.i,i(y)):Promise.resolve();let c=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new xr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new xr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((s=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(qt(typeof s.accessToken=="string",31837,{l:s}),new RT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return qt(t===null||typeof t=="string",2055,{h:t}),new Ye(t)}}class Ib{constructor(t,i,s){this.P=t,this.T=i,this.I=s,this.type="FirstParty",this.user=Ye.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Cb{constructor(t,i,s){this.P=t,this.T=i,this.I=s}getToken(){return Promise.resolve(new Ib(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ye.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Q_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Db{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,si(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){qt(this.o===void 0,3512);const s=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>s(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Q_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Q_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<r;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=Nb(40);for(let c=0;c<l.length;++c)s.length<20&&l[c]<i&&(s+=t.charAt(l[c]%62))}return s}}function Nt(r,t){return r<t?-1:r>t?1:0}function Kd(r,t){const i=Math.min(r.length,t.length);for(let s=0;s<i;s++){const l=r.charAt(s),c=t.charAt(s);if(l!==c)return Vd(l)===Vd(c)?Nt(l,c):Vd(l)?1:-1}return Nt(r.length,t.length)}const Ob=55296,Mb=57343;function Vd(r){const t=r.charCodeAt(0);return t>=Ob&&t<=Mb}function Ga(r,t,i){return r.length===t.length&&r.every(((s,l)=>i(s,t[l])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_="__name__";class ri{constructor(t,i,s){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),s===void 0?s=t.length-i:s>t.length-i&&gt(1746,{length:s,range:t.length-i}),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ri.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ri?t.forEach((s=>{i.push(s)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const c=ri.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Nt(t.length,i.length)}static compareSegments(t,i){const s=ri.isNumericId(t),l=ri.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ri.extractNumericId(t).compare(ri.extractNumericId(i)):Kd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Vr.fromString(t.substring(4,t.length-2))}}class Wt extends ri{construct(t,i,s){return new Wt(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new at($.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter((l=>l.length>0)))}return new Wt(i)}static emptyPath(){return new Wt([])}}const Vb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Be extends ri{construct(t,i,s){return new Be(t,i,s)}static isValidIdentifier(t){return Vb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Be.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===K_}static keyField(){return new Be([K_])}static fromServerFormat(t){const i=[];let s="",l=0;const c=()=>{if(s.length===0)throw new at($.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new at($.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new at($.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(c(),l++)}if(c(),d)throw new at($.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Be(i)}static emptyPath(){return new Be([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(Wt.fromString(t))}static fromName(t){return new ht(Wt.fromString(t).popFirst(5))}static empty(){return new ht(Wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return Wt.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new Wt(t.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IT(r,t,i){if(!i)throw new at($.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function xb(r,t,i,s){if(t===!0&&s===!0)throw new at($.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Y_(r){if(!ht.isDocumentKey(r))throw new at($.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function X_(r){if(ht.isDocumentKey(r))throw new at($.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function CT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function vm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(s){return s.constructor?s.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function ai(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new at($.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=vm(r);throw new at($.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _e(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ul(r,t){if(!CT(r))throw new at($.INVALID_ARGUMENT,"JSON must be an object");let i;for(const s in t)if(t[s]){const l=t[s].typeString,c="value"in t[s]?{value:t[s].value}:void 0;if(!(s in r)){i=`JSON missing required field: '${s}'`;break}const d=r[s];if(l&&typeof d!==l){i=`JSON field '${s}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${s}' field to equal '${c.value}'`;break}}if(i)throw new at($.INVALID_ARGUMENT,i);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_=-62135596800,Z_=1e6;class te{static now(){return te.fromMillis(Date.now())}static fromDate(t){return te.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*Z_);return new te(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new at($.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<$_)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new at($.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Z_}_compareTo(t){return this.seconds===t.seconds?Nt(this.nanoseconds,t.nanoseconds):Nt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:te._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ul(t,te._jsonSchema))return new te(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-$_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}te._jsonSchemaVersion="firestore/timestamp/1.0",te._jsonSchema={type:_e("string",te._jsonSchemaVersion),seconds:_e("number"),nanoseconds:_e("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new te(0,0))}static max(){return new Et(new te(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;function kb(r,t){const i=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(s===1e9?new te(i+1,0):new te(i,s));return new Pr(l,ht.empty(),t)}function Pb(r){return new Pr(r.readTime,r.key,Il)}class Pr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Pr(Et.min(),ht.empty(),Il)}static max(){return new Pr(Et.max(),ht.empty(),Il)}}function Ub(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(r.documentKey,t.documentKey),i!==0?i:Nt(r.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function to(r){if(r.code!==$.FAILED_PRECONDITION||r.message!==Lb)throw r;rt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Y(((s,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(s,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(s,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Y.reject(i)}static resolve(t){return new Y(((i,s)=>{i(t)}))}static reject(t){return new Y(((i,s)=>{s(t)}))}static waitFor(t){return new Y(((i,s)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>s(y)))})),d=!0,c===l&&i()}))}static or(t){let i=Y.resolve(!1);for(const s of t)i=i.next((l=>l?Y.resolve(l):s()));return i}static forEach(t,i){const s=[];return t.forEach(((l,c)=>{s.push(i.call(this,l,c))})),this.waitFor(s)}static mapArray(t,i){return new Y(((s,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((S=>{d[_]=S,++g,g===c&&s(d)}),(S=>l(S)))}}))}static doWhile(t,i){return new Y(((s,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):s()};c()}))}}function jb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function eo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>i.writeSequenceNumber(s))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}nh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tm=-1;function ih(r){return r==null}function Uc(r){return r===0&&1/r==-1/0}function Bb(r){return typeof r=="number"&&Number.isInteger(r)&&!Uc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="";function qb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=J_(t)),t=Hb(r.get(i),t);return J_(t)}function Hb(r,t){let i=t;const s=r.length;for(let l=0;l<s;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case DT:i+="";break;default:i+=c}}return i}function J_(r){return r+DT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function qr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function NT(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,i){this.comparator=t,this.root=i||je.EMPTY}insert(t,i){return new re(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,je.BLACK,null,null))}remove(t){return new re(this.comparator,this.root.remove(t,this.comparator).copy(null,null,je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,s)=>(t(i,s),!1)))}toString(){const t=[];return this.inorderTraversal(((i,s)=>(t.push(`${i}:${s}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new vc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new vc(this.root,t,this.comparator,!1)}getReverseIterator(){return new vc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new vc(this.root,t,this.comparator,!0)}}class vc{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?s(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class je{constructor(t,i,s,l,c){this.key=t,this.value=i,this.color=s??je.RED,this.left=l??je.EMPTY,this.right=c??je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,c){return new je(t??this.key,i??this.value,s??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const c=s(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,s),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return je.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}je.EMPTY=null,je.RED=!0,je.BLACK=!1;je.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,s,l,c){return this}insert(t,i,s){return new je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{constructor(t){this.comparator=t,this.data=new re(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,s)=>(t(i),!1)))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new tv(this.data.getIterator())}getIteratorFrom(t){return new tv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((s=>{i=i.add(s)})),i}isEqual(t){if(!(t instanceof Re)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Re(this.comparator);return i.data=t,i}}class tv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(t){this.fields=t,t.sort(Be.comparator)}static empty(){return new yn([])}unionWith(t){let i=new Re(Be.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new yn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ga(this.fields,t.fields,((i,s)=>i.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new OT("Invalid base64 string: "+c):c}})(t);return new qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Nt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}qe.EMPTY_BYTE_STRING=new qe("");const Gb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ur(r){if(qt(!!r,39018),typeof r=="string"){let t=0;const i=Gb.exec(r);if(qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:fe(r.seconds),nanos:fe(r.nanos)}}function fe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Lr(r){return typeof r=="string"?qe.fromBase64String(r):qe.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MT="server_timestamp",VT="__type__",xT="__previous_value__",kT="__local_write_time__";function Em(r){return(r?.mapValue?.fields||{})[VT]?.stringValue===MT}function rh(r){const t=r.mapValue.fields[xT];return Em(t)?rh(t):t}function Cl(r){const t=Ur(r.mapValue.fields[kT].timestampValue);return new te(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(t,i,s,l,c,d,g,y,_,S){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=S}}const Lc="(default)";class Dl{constructor(t,i){this.projectId=t,this.database=i||Lc}static empty(){return new Dl("","")}get isDefaultDatabase(){return this.database===Lc}isEqual(t){return t instanceof Dl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT="__type__",Qb="__max__",Tc={mapValue:{}},UT="__vector__",zc="value";function zr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Em(r)?4:Yb(r)?9007199254740991:Kb(r)?10:11:gt(28295,{value:r})}function di(r,t){if(r===t)return!0;const i=zr(r);if(i!==zr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Cl(r).isEqual(Cl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Ur(l.timestampValue),g=Ur(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Lr(l.bytesValue).isEqual(Lr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return fe(l.geoPointValue.latitude)===fe(c.geoPointValue.latitude)&&fe(l.geoPointValue.longitude)===fe(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return fe(l.integerValue)===fe(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=fe(l.doubleValue),g=fe(c.doubleValue);return d===g?Uc(d)===Uc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return Ga(r.arrayValue.values||[],t.arrayValue.values||[],di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(W_(d)!==W_(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!di(d[y],g[y])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function Nl(r,t){return(r.values||[]).find((i=>di(i,t)))!==void 0}function Fa(r,t){if(r===t)return 0;const i=zr(r),s=zr(t);if(i!==s)return Nt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Nt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=fe(c.integerValue||c.doubleValue),y=fe(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return ev(r.timestampValue,t.timestampValue);case 4:return ev(Cl(r),Cl(t));case 5:return Kd(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Lr(c),y=Lr(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const S=Nt(g[_],y[_]);if(S!==0)return S}return Nt(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Nt(fe(c.latitude),fe(d.latitude));return g!==0?g:Nt(fe(c.longitude),fe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return nv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[zc]?.arrayValue,S=y[zc]?.arrayValue,I=Nt(_?.values?.length||0,S?.values?.length||0);return I!==0?I:nv(_,S)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Tc.mapValue&&d===Tc.mapValue)return 0;if(c===Tc.mapValue)return 1;if(d===Tc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},S=Object.keys(_);y.sort(),S.sort();for(let I=0;I<y.length&&I<S.length;++I){const D=Kd(y[I],S[I]);if(D!==0)return D;const q=Fa(g[y[I]],_[S[I]]);if(q!==0)return q}return Nt(y.length,S.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function ev(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Nt(r,t);const i=Ur(r),s=Ur(t),l=Nt(i.seconds,s.seconds);return l!==0?l:Nt(i.nanos,s.nanos)}function nv(r,t){const i=r.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const c=Fa(i[l],s[l]);if(c)return c}return Nt(i.length,s.length)}function Qa(r){return Yd(r)}function Yd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const s=Ur(i);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Lr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return ht.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let s="[",l=!0;for(const c of i.values||[])l?l=!1:s+=",",s+=Yd(c);return s+"]"})(r.arrayValue):"mapValue"in r?(function(i){const s=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of s)c?c=!1:l+=",",l+=`${d}:${Yd(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function Rc(r){switch(zr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=rh(r);return t?16+Rc(t):16;case 5:return 2*r.stringValue.length;case 6:return Lr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,c)=>l+Rc(c)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return qr(s.fields,((c,d)=>{l+=c.length+Rc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function Xd(r){return!!r&&"integerValue"in r}function Am(r){return!!r&&"arrayValue"in r}function iv(r){return!!r&&"nullValue"in r}function rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Ic(r){return!!r&&"mapValue"in r}function Kb(r){return(r?.mapValue?.fields||{})[PT]?.stringValue===UT}function El(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return qr(r.mapValue.fields,((i,s)=>t.mapValue.fields[i]=El(s))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=El(r.arrayValue.values[i]);return t}return{...r}}function Yb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===Qb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(t){this.value=t}static empty(){return new on({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!Ic(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=El(i)}setAll(t){let i=Be.emptyPath(),s={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=El(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,s,l)}delete(t){const i=this.field(t.popLast());Ic(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];Ic(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){qr(i,((l,c)=>t[l]=c));for(const l of s)delete t[l]}clone(){return new on(El(this.value))}}function LT(r){const t=[];return qr(r.fields,((i,s)=>{const l=new Be([i]);if(Ic(s)){const c=LT(s.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new yn(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(t,i,s,l,c,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Xe(t,0,Et.min(),Et.min(),Et.min(),on.empty(),0)}static newFoundDocument(t,i,s,l){return new Xe(t,1,i,Et.min(),s,l,0)}static newNoDocument(t,i){return new Xe(t,2,i,Et.min(),Et.min(),on.empty(),0)}static newUnknownDocument(t,i){return new Xe(t,3,i,Et.min(),Et.min(),on.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xe&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,i){this.position=t,this.inclusive=i}}function sv(r,t,i){let s=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=Fa(d,i.data.field(c.field)),c.dir==="desc"&&(s*=-1),s!==0)break}return s}function av(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!di(r.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Xb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zT{}class be extends zT{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new Zb(t,i,s):i==="array-contains"?new tw(t,s):i==="in"?new ew(t,s):i==="not-in"?new nw(t,s):i==="array-contains-any"?new iw(t,s):new be(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new Jb(t,s):new Wb(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Fa(i,this.value)):i!==null&&zr(this.value)===zr(i)&&this.matchesComparison(Fa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class mi extends zT{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new mi(t,i)}matches(t){return jT(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function jT(r){return r.op==="and"}function BT(r){return $b(r)&&jT(r)}function $b(r){for(const t of r.filters)if(t instanceof mi)return!1;return!0}function $d(r){if(r instanceof be)return r.field.canonicalString()+r.op.toString()+Qa(r.value);if(BT(r))return r.filters.map((t=>$d(t))).join(",");{const t=r.filters.map((i=>$d(i))).join(",");return`${r.op}(${t})`}}function qT(r,t){return r instanceof be?(function(s,l){return l instanceof be&&s.op===l.op&&s.field.isEqual(l.field)&&di(s.value,l.value)})(r,t):r instanceof mi?(function(s,l){return l instanceof mi&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((c,d,g)=>c&&qT(d,l.filters[g])),!0):!1})(r,t):void gt(19439)}function HT(r){return r instanceof be?(function(i){return`${i.field.canonicalString()} ${i.op} ${Qa(i.value)}`})(r):r instanceof mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(HT).join(" ,")+"}"})(r):"Filter"}class Zb extends be{constructor(t,i,s){super(t,i,s),this.key=ht.fromName(s.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class Jb extends be{constructor(t,i){super(t,"in",i),this.keys=GT("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Wb extends be{constructor(t,i){super(t,"not-in",i),this.keys=GT("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function GT(r,t){return(t.arrayValue?.values||[]).map((i=>ht.fromName(i.referenceValue)))}class tw extends be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Am(i)&&Nl(i.arrayValue,this.value)}}class ew extends be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Nl(this.value.arrayValue,i)}}class nw extends be{constructor(t,i){super(t,"not-in",i)}matches(t){if(Nl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Nl(this.value.arrayValue,i)}}class iw extends be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Am(i)||!i.arrayValue.values)&&i.arrayValue.values.some((s=>Nl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(t,i=null,s=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function ov(r,t=null,i=[],s=[],l=null,c=null,d=null){return new rw(r,t,i,s,l,c,d)}function Sm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((s=>$d(s))).join(","),i+="|ob:",i+=t.orderBy.map((s=>(function(c){return c.field.canonicalString()+c.dir})(s))).join(","),ih(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((s=>Qa(s))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((s=>Qa(s))).join(",")),t.Te=i}return t.Te}function bm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!Xb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!qT(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!av(r.startAt,t.startAt)&&av(r.endAt,t.endAt)}function Zd(r){return ht.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sh{constructor(t,i=null,s=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function sw(r,t,i,s,l,c,d,g){return new sh(r,t,i,s,l,c,d,g)}function wm(r){return new sh(r)}function lv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function aw(r){return r.collectionGroup!==null}function Al(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Re(Be.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Bc(c,s))})),i.has(Be.keyField().canonicalString())||t.Ie.push(new Bc(Be.keyField(),s))}return t.Ie}function oi(r){const t=At(r);return t.Ee||(t.Ee=ow(t,Al(r))),t.Ee}function ow(r,t){if(r.limitType==="F")return ov(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Bc(l.field,c)}));const i=r.endAt?new jc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new jc(r.startAt.position,r.startAt.inclusive):null;return ov(r.path,r.collectionGroup,t,r.filters,r.limit,i,s)}}function Jd(r,t,i){return new sh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function ah(r,t){return bm(oi(r),oi(t))&&r.limitType===t.limitType}function FT(r){return`${Sm(oi(r))}|lt:${r.limitType}`}function xa(r){return`Query(target=${(function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map((l=>HT(l))).join(", ")}]`),ih(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map((l=>Qa(l))).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map((l=>Qa(l))).join(",")),`Target(${s})`})(oi(r))}; limitType=${r.limitType})`}function oh(r,t){return t.isFoundDocument()&&(function(s,l){const c=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(c):ht.isDocumentKey(s.path)?s.path.isEqual(c):s.path.isImmediateParentOf(c)})(r,t)&&(function(s,l){for(const c of Al(s))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(s,l){for(const c of s.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(s,l){return!(s.startAt&&!(function(d,g,y){const _=sv(d,g,y);return d.inclusive?_<=0:_<0})(s.startAt,Al(s),l)||s.endAt&&!(function(d,g,y){const _=sv(d,g,y);return d.inclusive?_>=0:_>0})(s.endAt,Al(s),l))})(r,t)}function lw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function QT(r){return(t,i)=>{let s=!1;for(const l of Al(r)){const c=uw(l,t,i);if(c!==0)return c;s=s||l.field.isKeyField()}return 0}}function uw(r,t,i){const s=r.field.isKeyField()?ht.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?Fa(y,_):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return gt(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,c]of s)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){qr(this.inner,((i,s)=>{for(const[l,c]of s)t(l,c)}))}isEmpty(){return NT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw=new re(ht.comparator);function Fi(){return cw}const KT=new re(ht.comparator);function yl(...r){let t=KT;for(const i of r)t=t.insert(i.key,i);return t}function YT(r){let t=KT;return r.forEach(((i,s)=>t=t.insert(i,s.overlayedDocument))),t}function Ds(){return Sl()}function XT(){return Sl()}function Sl(){return new zs((r=>r.toString()),((r,t)=>r.isEqual(t)))}const hw=new re(ht.comparator),fw=new Re(ht.comparator);function Ot(...r){let t=fw;for(const i of r)t=t.add(i);return t}const dw=new Re(Nt);function mw(){return dw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uc(t)?"-0":t}}function $T(r){return{integerValue:""+r}}function gw(r,t){return Bb(t)?$T(t):Rm(r,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this._=void 0}}function pw(r,t,i){return r instanceof Ol?(function(l,c){const d={fields:{[VT]:{stringValue:MT},[kT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Em(c)&&(c=rh(c)),c&&(d.fields[xT]=c),{mapValue:d}})(i,t):r instanceof Ml?JT(r,t):r instanceof Vl?WT(r,t):(function(l,c){const d=ZT(l,c),g=uv(d)+uv(l.Ae);return Xd(d)&&Xd(l.Ae)?$T(g):Rm(l.serializer,g)})(r,t)}function yw(r,t,i){return r instanceof Ml?JT(r,t):r instanceof Vl?WT(r,t):i}function ZT(r,t){return r instanceof qc?(function(s){return Xd(s)||(function(c){return!!c&&"doubleValue"in c})(s)})(t)?t:{integerValue:0}:null}class Ol extends lh{}class Ml extends lh{constructor(t){super(),this.elements=t}}function JT(r,t){const i=tE(t);for(const s of r.elements)i.some((l=>di(l,s)))||i.push(s);return{arrayValue:{values:i}}}class Vl extends lh{constructor(t){super(),this.elements=t}}function WT(r,t){let i=tE(t);for(const s of r.elements)i=i.filter((l=>!di(l,s)));return{arrayValue:{values:i}}}class qc extends lh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function uv(r){return fe(r.integerValue||r.doubleValue)}function tE(r){return Am(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{constructor(t,i){this.field=t,this.transform=i}}function vw(r,t){return r.field.isEqual(t.field)&&(function(s,l){return s instanceof Ml&&l instanceof Ml||s instanceof Vl&&l instanceof Vl?Ga(s.elements,l.elements,di):s instanceof qc&&l instanceof qc?di(s.Ae,l.Ae):s instanceof Ol&&l instanceof Ol})(r.transform,t.transform)}class Tw{constructor(t,i){this.version=t,this.transformResults=i}}class zn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new zn}static exists(t){return new zn(void 0,t)}static updateTime(t){return new zn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class uh{}function eE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Im(r.key,zn.none()):new Ll(r.key,r.data,zn.none());{const i=r.data,s=on.empty();let l=new Re(Be.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?s.delete(c):s.set(c,d),l=l.add(c)}return new Hr(r.key,s,new yn(l.toArray()),zn.none())}}function Ew(r,t,i){r instanceof Ll?(function(l,c,d){const g=l.value.clone(),y=hv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Hr?(function(l,c,d){if(!Cc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=hv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(nE(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function bl(r,t,i,s){return r instanceof Ll?(function(c,d,g,y){if(!Cc(c.precondition,d))return g;const _=c.value.clone(),S=fv(c.fieldTransforms,y,d);return _.setAll(S),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,s):r instanceof Hr?(function(c,d,g,y){if(!Cc(c.precondition,d))return g;const _=fv(c.fieldTransforms,y,d),S=d.data;return S.setAll(nE(c)),S.setAll(_),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((I=>I.field)))})(r,t,i,s):(function(c,d,g){return Cc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function Aw(r,t){let i=null;for(const s of r.fieldTransforms){const l=t.data.field(s.field),c=ZT(s.transform,l||null);c!=null&&(i===null&&(i=on.empty()),i.set(s.field,c))}return i||null}function cv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ga(s,l,((c,d)=>vw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Ll extends uh{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Hr extends uh{constructor(t,i,s,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function nE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const s=r.data.field(i);t.set(i,s)}})),t}function hv(r,t,i){const s=new Map;qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);s.set(c.field,yw(d,g,i[l]))}return s}function fv(r,t,i){const s=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);s.set(l.field,pw(c,d,t))}return s}class Im extends uh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sw extends uh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Ew(c,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=bl(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=bl(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=XT();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=eE(d,g);y!==null&&s.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(Et.min())})),s}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ot())}isEqual(t){return this.batchId===t.batchId&&Ga(this.mutations,t.mutations,((i,s)=>cv(i,s)))&&Ga(this.baseMutations,t.baseMutations,((i,s)=>cv(i,s)))}}class Cm{constructor(t,i,s,l){this.batch=t,this.commitVersion=i,this.mutationResults=s,this.docVersions=l}static from(t,i,s){qt(t.mutations.length===s.length,58842,{me:t.mutations.length,fe:s.length});let l=(function(){return hw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,s[d].version);return new Cm(t,i,s,l)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ye,kt;function Iw(r){switch(r){case $.OK:return gt(64938);case $.CANCELLED:case $.UNKNOWN:case $.DEADLINE_EXCEEDED:case $.RESOURCE_EXHAUSTED:case $.INTERNAL:case $.UNAVAILABLE:case $.UNAUTHENTICATED:return!1;case $.INVALID_ARGUMENT:case $.NOT_FOUND:case $.ALREADY_EXISTS:case $.PERMISSION_DENIED:case $.FAILED_PRECONDITION:case $.ABORTED:case $.OUT_OF_RANGE:case $.UNIMPLEMENTED:case $.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function iE(r){if(r===void 0)return Gi("GRPC error has no .code"),$.UNKNOWN;switch(r){case ye.OK:return $.OK;case ye.CANCELLED:return $.CANCELLED;case ye.UNKNOWN:return $.UNKNOWN;case ye.DEADLINE_EXCEEDED:return $.DEADLINE_EXCEEDED;case ye.RESOURCE_EXHAUSTED:return $.RESOURCE_EXHAUSTED;case ye.INTERNAL:return $.INTERNAL;case ye.UNAVAILABLE:return $.UNAVAILABLE;case ye.UNAUTHENTICATED:return $.UNAUTHENTICATED;case ye.INVALID_ARGUMENT:return $.INVALID_ARGUMENT;case ye.NOT_FOUND:return $.NOT_FOUND;case ye.ALREADY_EXISTS:return $.ALREADY_EXISTS;case ye.PERMISSION_DENIED:return $.PERMISSION_DENIED;case ye.FAILED_PRECONDITION:return $.FAILED_PRECONDITION;case ye.ABORTED:return $.ABORTED;case ye.OUT_OF_RANGE:return $.OUT_OF_RANGE;case ye.UNIMPLEMENTED:return $.UNIMPLEMENTED;case ye.DATA_LOSS:return $.DATA_LOSS;default:return gt(39323,{code:r})}}(kt=ye||(ye={}))[kt.OK=0]="OK",kt[kt.CANCELLED=1]="CANCELLED",kt[kt.UNKNOWN=2]="UNKNOWN",kt[kt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",kt[kt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",kt[kt.NOT_FOUND=5]="NOT_FOUND",kt[kt.ALREADY_EXISTS=6]="ALREADY_EXISTS",kt[kt.PERMISSION_DENIED=7]="PERMISSION_DENIED",kt[kt.UNAUTHENTICATED=16]="UNAUTHENTICATED",kt[kt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",kt[kt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",kt[kt.ABORTED=10]="ABORTED",kt[kt.OUT_OF_RANGE=11]="OUT_OF_RANGE",kt[kt.UNIMPLEMENTED=12]="UNIMPLEMENTED",kt[kt.INTERNAL=13]="INTERNAL",kt[kt.UNAVAILABLE=14]="UNAVAILABLE",kt[kt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cw(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dw=new Vr([4294967295,4294967295],0);function dv(r){const t=Cw().encode(r),i=new vT;return i.update(t),new Uint8Array(i.digest())}function mv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Vr([i,s],0),new Vr([l,c],0)]}class Dm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new _l(`Invalid padding: ${i}`);if(s<0)throw new _l(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new _l(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new _l(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Vr.fromNumber(this.ge)}ye(t,i,s){let l=t.add(i.multiply(Vr.fromNumber(s)));return l.compare(Dw)===1&&(l=new Vr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=dv(t),[s,l]=mv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);if(!this.we(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Dm(c,l,i);return s.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=dv(t),[s,l]=mv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(s,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class _l extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{constructor(t,i,s,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,zl.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new ch(Et.min(),l,new re(Nt),Fi(),Ot())}}class zl{constructor(t,i,s,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new zl(s,i,Ot(),Ot(),Ot())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{constructor(t,i,s,l){this.be=t,this.removedTargetIds=i,this.key=s,this.De=l}}class rE{constructor(t,i){this.targetId=t,this.Ce=i}}class sE{constructor(t,i,s=qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class gv{constructor(){this.ve=0,this.Fe=pv(),this.Me=qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ot(),i=Ot(),s=Ot();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:gt(38017,{changeType:c})}})),new zl(this.Me,this.xe,t,i,s)}qe(){this.Oe=!1,this.Fe=pv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Nw{constructor(t){this.Ge=t,this.ze=new Map,this.je=Fi(),this.Je=Ec(),this.He=Ec(),this.Ye=new re(Nt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const s=this.nt(i);switch(t.state){case 0:this.rt(i)&&s.Le(t.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(t.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(s.We(),s.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),s.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((s,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,s=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Zd(c))if(s===0){const d=new ht(c.path);this.et(i,d,Xe.newNoDocument(d,Et.min()))}else qt(s===1,20013,{expectedCount:s});else{const d=this._t(i);if(d!==s){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=Lr(s).toUint8Array()}catch(y){if(y instanceof OT)return Ha("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Dm(d,l,c)}catch(y){return Ha(y instanceof _l?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,s){return i.Ce.count===s-this.Pt(t,i.targetId)?0:2}Pt(t,i){const s=this.Ge.getRemoteKeysForTarget(i);let l=0;return s.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&Zd(g.target)){const y=new ht(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Xe.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let s=Ot();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(s=s.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new ch(t,i,this.Ye,this.je,s);return this.je=Fi(),this.Je=Ec(),this.He=Ec(),this.Ye=new re(Nt),l}Xe(t,i){if(!this.rt(t))return;const s=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,s),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,s){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),s&&(this.je=this.je.insert(i,s))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new gv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Re(Nt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Re(Nt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new gv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ec(){return new re(ht.comparator)}function pv(){return new re(ht.comparator)}const Ow={asc:"ASCENDING",desc:"DESCENDING"},Mw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Vw={and:"AND",or:"OR"};class xw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Wd(r,t){return r.useProto3Json||ih(t)?t:{value:t}}function Hc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function aE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function kw(r,t){return Hc(r,t.toTimestamp())}function li(r){return qt(!!r,49232),Et.fromTimestamp((function(i){const s=Ur(i);return new te(s.seconds,s.nanos)})(r))}function Nm(r,t){return tm(r,t).canonicalString()}function tm(r,t){const i=(function(l){return new Wt(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function oE(r){const t=Wt.fromString(r);return qt(fE(t),10190,{key:t.toString()}),t}function em(r,t){return Nm(r.databaseId,t.path)}function xd(r,t){const i=oE(t);if(i.get(1)!==r.databaseId.projectId)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new at($.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new ht(uE(i))}function lE(r,t){return Nm(r.databaseId,t)}function Pw(r){const t=oE(r);return t.length===4?Wt.emptyPath():uE(t)}function nm(r){return new Wt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function uE(r){return qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function yv(r,t,i){return{name:em(r,t),fields:i.value.mapValue.fields}}function Uw(r,t){let i;if("targetChange"in t){t.targetChange;const s=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:gt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,S){return _.useProto3Json?(qt(S===void 0||typeof S=="string",58123),qe.fromBase64String(S||"")):(qt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),qe.fromUint8Array(S||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const S=_.code===void 0?$.UNKNOWN:iE(_.code);return new at(S,_.message||"")})(d);i=new sE(s,l,c,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=xd(r,s.document.name),c=li(s.document.updateTime),d=s.document.createTime?li(s.document.createTime):Et.min(),g=new on({mapValue:{fields:s.document.fields}}),y=Xe.newFoundDocument(l,c,d,g),_=s.targetIds||[],S=s.removedTargetIds||[];i=new Dc(_,S,y.key,y)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=xd(r,s.document),c=s.readTime?li(s.readTime):Et.min(),d=Xe.newNoDocument(l,c),g=s.removedTargetIds||[];i=new Dc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=xd(r,s.document),c=s.removedTargetIds||[];i=new Dc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:c}=s,d=new Rw(l,c),g=s.targetId;i=new rE(g,d)}}return i}function Lw(r,t){let i;if(t instanceof Ll)i={update:yv(r,t.key,t.value)};else if(t instanceof Im)i={delete:em(r,t.key)};else if(t instanceof Hr)i={update:yv(r,t.key,t.data),updateMask:Kw(t.fieldMask)};else{if(!(t instanceof Sw))return gt(16599,{Vt:t.type});i={verify:em(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((s=>(function(c,d){const g=d.transform;if(g instanceof Ol)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Ml)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Vl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof qc)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,s)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:kw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function zw(r,t){return r&&r.length>0?(qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?li(l.updateTime):li(c);return d.isEqual(Et.min())&&(d=li(c)),new Tw(d,l.transformResults||[])})(i,t)))):[]}function jw(r,t){return{documents:[lE(r,t.path)]}}function Bw(r,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=lE(r,l);const c=(function(_){if(_.length!==0)return hE(mi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((S=>(function(D){return{field:ka(D.field),direction:Gw(D.dir)}})(S)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=Wd(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function qw(r){let t=Pw(r.parent);const i=r.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){qt(s===1,65062);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let c=[];i.where&&(c=(function(I){const D=cE(I);return D instanceof mi&&BT(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(I){return I.map((D=>(function(Z){return new Bc(Pa(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(I){let D;return D=typeof I=="object"?I.value:I,ih(D)?null:D})(i.limit));let y=null;i.startAt&&(y=(function(I){const D=!!I.before,q=I.values||[];return new jc(q,D)})(i.startAt));let _=null;return i.endAt&&(_=(function(I){const D=!I.before,q=I.values||[];return new jc(q,D)})(i.endAt)),sw(t,l,d,c,g,"F",y,_)}function Hw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function cE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Pa(i.unaryFilter.field);return be.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Pa(i.unaryFilter.field);return be.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Pa(i.unaryFilter.field);return be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Pa(i.unaryFilter.field);return be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return be.create(Pa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return mi.create(i.compositeFilter.filters.map((s=>cE(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function Gw(r){return Ow[r]}function Fw(r){return Mw[r]}function Qw(r){return Vw[r]}function ka(r){return{fieldPath:r.canonicalString()}}function Pa(r){return Be.fromServerFormat(r.fieldPath)}function hE(r){return r instanceof be?(function(i){if(i.op==="=="){if(rv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NAN"}};if(iv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(rv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NAN"}};if(iv(i.value))return{unaryFilter:{field:ka(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ka(i.field),op:Fw(i.op),value:i.value}}})(r):r instanceof mi?(function(i){const s=i.getFilters().map((l=>hE(l)));return s.length===1?s[0]:{compositeFilter:{op:Qw(i.op),filters:s}}})(r):gt(54877,{filter:r})}function Kw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function fE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t,i,s,l,c=Et.min(),d=Et.min(),g=qe.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Dr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(t){this.yt=t}}function Xw(r){const t=qw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Jd(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(){this.Cn=new Zw}addToCollectionParentIndex(t,i){return this.Cn.add(i),Y.resolve()}getCollectionParents(t,i){return Y.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Y.resolve()}deleteFieldIndex(t,i){return Y.resolve()}deleteAllFieldIndexes(t){return Y.resolve()}createTargetIndexes(t,i){return Y.resolve()}getDocumentsMatchingTarget(t,i){return Y.resolve(null)}getIndexType(t,i){return Y.resolve(0)}getFieldIndexes(t,i){return Y.resolve([])}getNextCollectionGroupToUpdate(t){return Y.resolve(null)}getMinOffset(t,i){return Y.resolve(Pr.min())}getMinOffsetFromCollectionGroup(t,i){return Y.resolve(Pr.min())}updateCollectionGroup(t,i,s){return Y.resolve()}updateIndexEntries(t,i){return Y.resolve()}}class Zw{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new Re(Wt.comparator),c=!l.has(s);return this.index[i]=l.add(s),c}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new Re(Wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dE=41943040;class an{static withCacheSize(t){return new an(t,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(dE,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Ka(0)}static cr(){return new Ka(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="LruGarbageCollector",Jw=1048576;function Tv([r,t],[i,s]){const l=Nt(r,i);return l===0?Nt(t,s):l}class Ww{constructor(t){this.Ir=t,this.buffer=new Re(Tv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();Tv(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class tR{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(vv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){eo(i)?rt(vv,"Ignoring IndexedDB error during garbage collection: ",i):await to(i)}await this.Vr(3e5)}))}}class eR{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((s=>Math.floor(i/100*s)))}nthSequenceNumber(t,i){if(i===0)return Y.resolve(nh.ce);const s=new Ww(i);return this.mr.forEachTarget(t,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(t,i,s){return this.mr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(_v)):this.getCacheSize(t).next((s=>s<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),_v):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let s,l,c,d,g,y,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((I=>(I>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${I}`),l=this.params.maximumSequenceNumbersToCollect):l=I,d=Date.now(),this.nthSequenceNumber(t,l)))).next((I=>(s=I,g=Date.now(),this.removeTargets(t,s,i)))).next((I=>(c=I,y=Date.now(),this.removeOrphanedDocuments(t,s)))).next((I=>(_=Date.now(),Va()<=Dt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${I} documents in `+(_-y)+`ms
Total Duration: ${_-S}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:I}))))}}function nR(r,t){return new eR(r,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.changes=new zs((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Xe.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?Y.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(s=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(s!==null&&bl(s.mutation,l,yn.empty(),te.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.getLocalViewOfDocuments(t,s,Ot()).next((()=>s))))}getLocalViewOfDocuments(t,i,s=Ot()){const l=Ds();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,s).next((c=>{let d=yl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const s=Ds();return this.populateOverlays(t,s,i).next((()=>this.computeViews(t,i,s,Ot())))}populateOverlays(t,i,s){const l=[];return s.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,s,l){let c=Fi();const d=Sl(),g=(function(){return Sl()})();return i.forEach(((y,_)=>{const S=s.get(_.key);l.has(_.key)&&(S===void 0||S.mutation instanceof Hr)?c=c.insert(_.key,_):S!==void 0?(d.set(_.key,S.mutation.getFieldMask()),bl(S.mutation,_,S.mutation.getFieldMask(),te.now())):d.set(_.key,yn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,S)=>d.set(_,S))),i.forEach(((_,S)=>g.set(_,new rR(S,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const s=Sl();let l=new re(((d,g)=>d-g)),c=Ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let S=s.get(y)||yn.empty();S=g.applyToLocalView(_,S),s.set(y,S);const I=(l.get(g.batchId)||Ot()).add(y);l=l.insert(g.batchId,I)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,S=y.value,I=XT();S.forEach((D=>{if(!c.has(D)){const q=eE(i.get(D),s.get(D));q!==null&&I.set(D,q),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,I))}return Y.waitFor(d)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((s=>this.recalculateAndSaveOverlays(t,s)))}getDocumentsMatchingQuery(t,i,s,l){return(function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):aw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-c.size):Y.resolve(Ds());let g=Il,y=c;return d.next((_=>Y.forEach(_,((S,I)=>(g<I.largestBatchId&&(g=I.largestBatchId),c.get(S)?Y.resolve():this.remoteDocumentCache.getEntry(t,S).next((D=>{y=y.insert(S,D)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ot()))).next((S=>({batchId:g,changes:YT(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next((s=>{let l=yl();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const c=i.collectionGroup;let d=yl();return this.indexManager.getCollectionParents(t,c).next((g=>Y.forEach(g,(y=>{const _=(function(I,D){return new sh(D,null,I.explicitOrderBy.slice(),I.filters.slice(),I.limit,I.limitType,I.startAt,I.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,s,l).next((S=>{S.forEach(((I,D)=>{d=d.insert(I,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,s,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,c,l)))).next((d=>{c.forEach(((y,_)=>{const S=_.getKey();d.get(S)===null&&(d=d.insert(S,Xe.newInvalidDocument(S)))}));let g=yl();return d.forEach(((y,_)=>{const S=c.get(y);S!==void 0&&bl(S.mutation,_,yn.empty(),te.now()),oh(i,_)&&(g=g.insert(y,_))})),g}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Y.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:li(l.createTime)}})(i)),Y.resolve()}getNamedQuery(t,i){return Y.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Xw(l.bundledQuery),readTime:li(l.readTime)}})(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.overlays=new re(ht.comparator),this.qr=new Map}getOverlay(t,i){return Y.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ds();return Y.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&s.set(l,c)})))).next((()=>s))}saveOverlays(t,i,s){return s.forEach(((l,c)=>{this.St(t,i,c)})),Y.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(s)),Y.resolve()}getOverlaysForCollection(t,i,s){const l=Ds(),c=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>s&&l.set(y.getKey(),y)}return Y.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let c=new re(((_,S)=>_-S));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>s){let S=c.get(_.largestBatchId);S===null&&(S=Ds(),c=c.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=Ds(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=l)););return Y.resolve(g)}St(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new ww(i,s));let c=this.qr.get(i);c===void 0&&(c=Ot(),this.qr.set(i,c)),this.qr.set(i,c.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lR{constructor(){this.sessionToken=qe.EMPTY_BYTE_STRING}getSessionToken(t){return Y.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(){this.Qr=new Re(Ve.$r),this.Ur=new Re(Ve.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const s=new Ve(t,i);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(t,i){t.forEach((s=>this.addReference(s,i)))}removeReference(t,i){this.Gr(new Ve(t,i))}zr(t,i){t.forEach((s=>this.removeReference(s,i)))}jr(t){const i=new ht(new Wt([])),s=new Ve(i,t),l=new Ve(i,t+1),c=[];return this.Ur.forEachInRange([s,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new ht(new Wt([])),s=new Ve(i,t),l=new Ve(i,t+1);let c=Ot();return this.Ur.forEachInRange([s,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ve(t,0),s=this.Qr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Ve{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return ht.comparator(t.key,i.key)||Nt(t.Yr,i.Yr)}static Kr(t,i){return Nt(t.Yr,i.Yr)||ht.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Re(Ve.$r)}checkEmpty(t){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bw(c,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Ve(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(t,i){return Y.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.ei(s),c=l<0?0:l;return Y.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Tm:this.tr-1)}getAllMutationBatches(t){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Ve(i,0),l=new Ve(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([s,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),Y.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new Re(Nt);return i.forEach((l=>{const c=new Ve(l,0),d=new Ve(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{s=s.add(g.Yr)}))})),Y.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let c=s;ht.isDocumentKey(c)||(c=c.child(""));const d=new Ve(new ht(c),0);let g=new Re(Nt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!s.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),Y.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((s=>{const l=this.Xr(s);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return Y.forEach(i.mutations,(l=>{const c=new Ve(l.key,i.batchId);return s=s.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=s}))}ir(t){}containsKey(t,i){const s=new Ve(i,0),l=this.Zr.firstAfterOrEqual(s);return Y.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,Y.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cR{constructor(t){this.ri=t,this.docs=(function(){return new re(ht.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return Y.resolve(s?s.document.mutableCopy():Xe.newInvalidDocument(i))}getEntries(t,i){let s=Fi();return i.forEach((l=>{const c=this.docs.get(l);s=s.insert(l,c?c.document.mutableCopy():Xe.newInvalidDocument(l))})),Y.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let c=Fi();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:S}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||Ub(Pb(S),s)<=0||(l.has(S.key)||oh(i,S))&&(c=c.insert(S.key,S.mutableCopy()))}return Y.resolve(c)}getAllFromCollectionGroup(t,i,s,l){gt(9500)}ii(t,i){return Y.forEach(this.docs,(s=>i(s)))}newChangeBuffer(t){return new hR(this)}getSize(t){return Y.resolve(this.size)}}class hR extends iR{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(s)})),Y.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(t){this.persistence=t,this.si=new zs((i=>Sm(i)),bm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Om,this.targetCount=0,this.ai=Ka.ur()}forEachTarget(t,i){return this.si.forEach(((s,l)=>i(l))),Y.resolve()}getLastRemoteSnapshotVersion(t){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Y.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.oi&&(this.oi=i),Y.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Ka(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Y.resolve()}updateTargetData(t,i){return this.Pr(i),Y.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(t,i,s){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),Y.waitFor(c).next((()=>l))}getTargetCount(t){return Y.resolve(this.targetCount)}getTargetData(t,i){const s=this.si.get(i)||null;return Y.resolve(s)}addMatchingKeys(t,i,s){return this._i.Wr(i,s),Y.resolve()}removeMatchingKeys(t,i,s){this._i.zr(i,s);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),Y.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Y.resolve()}getMatchingKeysForTargetId(t,i){const s=this._i.Hr(i);return Y.resolve(s)}containsKey(t,i){return Y.resolve(this._i.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(t,i){this.ui={},this.overlays={},this.ci=new nh(0),this.li=!1,this.li=!0,this.hi=new lR,this.referenceDelegate=t(this),this.Pi=new fR(this),this.indexManager=new $w,this.remoteDocumentCache=(function(l){return new cR(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new Yw(i),this.Ii=new aR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new oR,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.ui[t.toKey()];return s||(s=new uR(i,this.referenceDelegate),this.ui[t.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,s){rt("MemoryPersistence","Starting transaction:",t);const l=new dR(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return Y.or(Object.values(this.ui).map((s=>()=>s.containsKey(t,i))))}}class dR extends zb{constructor(t){super(),this.currentSequenceNumber=t}}class Mm{constructor(t){this.persistence=t,this.Ri=new Om,this.Vi=null}static mi(t){return new Mm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,s){return this.Ri.addReference(s,i),this.fi.delete(s.toString()),Y.resolve()}removeReference(t,i,s){return this.Ri.removeReference(s,i),this.fi.add(s.toString()),Y.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Y.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>s.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(s=>{const l=ht.fromPath(s);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((s=>{s?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Y.or([()=>Y.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Gc{constructor(t,i){this.persistence=t,this.pi=new zs((s=>qb(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=nR(this,i)}static mi(t,i){return new Gc(t,i)}Ei(){}di(t){return Y.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((s=>i.next((l=>s+l))))}wr(t){let i=0;return this.pr(t,(s=>{i++})).next((()=>i))}pr(t,i){return Y.forEach(this.pi,((s,l)=>this.br(t,s,l).next((c=>c?Y.resolve():i(l)))))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(s++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>s))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Y.resolve()}removeReference(t,i,s){return this.pi.set(s,t.currentSequenceNumber),Y.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Y.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Rc(t.data.value)),i}br(t,i,s){return Y.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return Y.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Es=s,this.ds=l}static As(t,i){let s=Ot(),l=Ot();for(const c of i.docChanges)switch(c.type){case 0:s=s.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Vm(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return aS()?8:jb($e())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,s,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,s).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new mR;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,s,l){return s.documentReadCount<this.fs?(Va()<=Dt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",xa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Y.resolve()):(Va()<=Dt.DEBUG&&rt("QueryEngine","Query:",xa(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(Va()<=Dt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",xa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,oi(i))):Y.resolve())}ys(t,i){if(lv(i))return Y.resolve(null);let s=oi(i);return this.indexManager.getIndexType(t,s).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=Jd(i,null,"F"),s=oi(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next((c=>{const d=Ot(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,s).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,Jd(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,s,l){return lv(i)||l.isEqual(Et.min())?Y.resolve(null):this.ps.getDocuments(t,s).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,s,l)?Y.resolve(null):(Va()<=Dt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),xa(i)),this.vs(t,d,i,kb(l,Il)).next((g=>g)))}))}Ds(t,i){let s=new Re(QT(t));return i.forEach(((l,c)=>{oh(t,c)&&(s=s.add(c))})),s}Cs(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,s){return Va()<=Dt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",xa(i)),this.ps.getDocumentsMatchingQuery(t,i,Pr.min(),s)}vs(t,i,s,l){return this.ps.getDocumentsMatchingQuery(t,s,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm="LocalStore",pR=3e8;class yR{constructor(t,i,s,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new re(Nt),this.xs=new zs((c=>Sm(c)),bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(s)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new sR(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function _R(r,t,i,s){return new yR(r,t,i,s)}async function gE(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(s)))).next((c=>{const d=[],g=[];let y=Ot();for(const _ of l){d.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}for(const _ of c){g.push(_.batchId);for(const S of _.mutations)y=y.add(S.key)}return i.localDocuments.getDocuments(s,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function vR(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,S){const I=_.batch,D=I.keys();let q=Y.resolve();return D.forEach((Z=>{q=q.next((()=>S.getEntry(y,Z))).next((tt=>{const J=_.docVersions.get(Z);qt(J!==null,48541),tt.version.compareTo(J)<0&&(I.applyToRemoteDocument(tt,_),tt.isValidDocument()&&(tt.setReadTime(_.commitVersion),S.addEntry(tt)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(y,I)))})(i,s,t,c).next((()=>c.apply(s))).next((()=>i.mutationQueue.performConsistencyCheck(s))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(s,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(g){let y=Ot();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(s,l)))}))}function pE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function TR(r,t){const i=At(r),s=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((S,I)=>{const D=l.get(I);if(!D)return;g.push(i.Pi.removeMatchingKeys(c,S.removedDocuments,I).next((()=>i.Pi.addMatchingKeys(c,S.addedDocuments,I))));let q=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(I)!==null?q=q.withResumeToken(qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):S.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(S.resumeToken,s)),l=l.insert(I,q),(function(tt,J,Tt){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=pR?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0})(D,q,S)&&g.push(i.Pi.updateTargetData(c,q))}));let y=Fi(),_=Ot();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,S))})),g.push(ER(c,d,t.documentUpdates).next((S=>{y=S.ks,_=S.qs}))),!s.isEqual(Et.min())){const S=i.Pi.getLastRemoteSnapshotVersion(c).next((I=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,s)));g.push(S)}return Y.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function ER(r,t,i){let s=Ot(),l=Ot();return i.forEach((c=>s=s.add(c))),t.getEntries(r,s).next((c=>{let d=Fi();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(Et.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):rt(xm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function AR(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(s=>(t===void 0&&(t=Tm),i.mutationQueue.getNextMutationBatchAfterBatchId(s,t))))}function SR(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return i.Pi.getTargetData(s,t).next((c=>c?(l=c,Y.resolve(l)):i.Pi.allocateTargetId(s).next((d=>(l=new Dr(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=i.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(s.targetId,s),i.xs.set(t,s.targetId)),s}))}async function im(r,t,i){const s=At(r),l=s.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",c,(d=>s.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!eo(d))throw d;rt(xm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ms=s.Ms.remove(t),s.xs.delete(l.target)}function Ev(r,t,i){const s=At(r);let l=Et.min(),c=Ot();return s.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,S){const I=At(y),D=I.xs.get(S);return D!==void 0?Y.resolve(I.Ms.get(D)):I.Pi.getTargetData(_,S)})(s,d,oi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Ot()))).next((g=>(bR(s,lw(t),g),{documents:g,Qs:c})))))}function bR(r,t,i){let s=r.Os.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(s)>0&&(s=c.readTime)})),r.Os.set(t,s)}class Av{constructor(){this.activeTargetIds=mw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class wR{constructor(){this.Mo=new Av,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,s){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Av,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RR{Oo(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv="ConnectivityMonitor";class bv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Sv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Sv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac=null;function rm(){return Ac===null?Ac=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ac++,"0x"+Ac.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kd="RestConnection",IR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class CR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Lc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(t,i,s,l,c){const d=rm(),g=this.zo(t,i.toUriEncodedString());rt(kd,`Sending RPC '${t}' ${d}:`,g,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),S=Za(_);return this.Jo(t,g,y,s,S).then((I=>(rt(kd,`Received RPC '${t}' ${d}: `,I),I)),(I=>{throw Ha(kd,`RPC '${t}' ${d} failed with error: `,I,"url: ",g,"request:",s),I}))}Ho(t,i,s,l,c,d){return this.Go(t,i,s,l,c)}jo(t,i,s){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Wa})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),s&&s.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const s=IR[t];return`${this.Uo}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qe="WebChannelConnection";class NR extends CR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,s,l,c){const d=rm();return new Promise(((g,y)=>{const _=new TT;_.setWithCredentials(!0),_.listenOnce(ET.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case wc.NO_ERROR:const I=_.getResponseJson();rt(Qe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(I)),g(I);break;case wc.TIMEOUT:rt(Qe,`RPC '${t}' ${d} timed out`),y(new at($.DEADLINE_EXCEEDED,"Request time out"));break;case wc.HTTP_ERROR:const D=_.getStatus();if(rt(Qe,`RPC '${t}' ${d} failed with status:`,D,"response text:",_.getResponseText()),D>0){let q=_.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q?.error;if(Z&&Z.status&&Z.message){const tt=(function(Tt){const dt=Tt.toLowerCase().replace(/_/g,"-");return Object.values($).indexOf(dt)>=0?dt:$.UNKNOWN})(Z.status);y(new at(tt,Z.message))}else y(new at($.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new at($.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(Qe,`RPC '${t}' ${d} completed.`)}}));const S=JSON.stringify(l);rt(Qe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",S,s,15)}))}T_(t,i,s){const l=rm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=bT(),g=ST(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,s),y.encodeInitMessageHeaders=!0;const S=c.join("");rt(Qe,`Creating RPC '${t}' stream ${l}: ${S}`,y);const I=d.createWebChannel(S,y);this.I_(I);let D=!1,q=!1;const Z=new DR({Yo:J=>{q?rt(Qe,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(D||(rt(Qe,`Opening RPC '${t}' stream ${l} transport.`),I.open(),D=!0),rt(Qe,`RPC '${t}' stream ${l} sending:`,J),I.send(J))},Zo:()=>I.close()}),tt=(J,Tt,dt)=>{J.listen(Tt,(ut=>{try{dt(ut)}catch(Pt){setTimeout((()=>{throw Pt}),0)}}))};return tt(I,pl.EventType.OPEN,(()=>{q||(rt(Qe,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),tt(I,pl.EventType.CLOSE,(()=>{q||(q=!0,rt(Qe,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(I))})),tt(I,pl.EventType.ERROR,(J=>{q||(q=!0,Ha(Qe,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new at($.UNAVAILABLE,"The operation could not be completed")))})),tt(I,pl.EventType.MESSAGE,(J=>{if(!q){const Tt=J.data[0];qt(!!Tt,16349);const dt=Tt,ut=dt?.error||dt[0]?.error;if(ut){rt(Qe,`RPC '${t}' stream ${l} received error:`,ut);const Pt=ut.status;let _t=(function(E){const b=ye[E];if(b!==void 0)return iE(b)})(Pt),Ut=ut.message;_t===void 0&&(_t=$.INTERNAL,Ut="Unknown error status: "+Pt+" with message "+ut.message),q=!0,Z.a_(new at(_t,Ut)),I.close()}else rt(Qe,`RPC '${t}' stream ${l} received:`,Tt),Z.u_(Tt)}})),tt(g,AT.STAT_EVENT,(J=>{J.stat===Qd.PROXY?rt(Qe,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===Qd.NOPROXY&&rt(Qe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Pd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hh(r){return new xw(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(t,i,s=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=s,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-s);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv="PersistentStream";class _E{constructor(t,i,s,l,c,d,g,y){this.Mi=t,this.S_=s,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===$.RESOURCE_EXHAUSTED?(Gi(i.toString()),Gi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===$.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===i&&this.G_(s,l)}),(s=>{t((()=>{const l=new at($.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(t,i){const s=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(wv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(wv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OR extends _E{constructor(t,i,s,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Uw(this.serializer,t),s=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?li(d.readTime):Et.min()})(t);return this.listener.H_(i,s)}Y_(t){const i={};i.database=nm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=Zd(y)?{documents:jw(c,y)}:{query:Bw(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=aE(c,d.resumeToken);const _=Wd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Hc(c,d.snapshotVersion.toTimestamp());const _=Wd(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const s=Hw(this.serializer,t);s&&(i.labels=s),this.q_(i)}Z_(t){const i={};i.database=nm(this.serializer),i.removeTarget=t,this.q_(i)}}class MR extends _E{constructor(t,i,s,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,s,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=zw(t.writeResults,t.commitTime),s=li(t.commitTime);return this.listener.na(s,i)}ra(){const t={};t.database=nm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((s=>Lw(this.serializer,s)))};this.q_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{}class xR extends VR{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,tm(i,s),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new at($.UNKNOWN,c.toString())}))}Ho(t,i,s,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,tm(i,s),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===$.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new at($.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class kR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Gi(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps="RemoteStore";class PR{constructor(t,i,s,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{s.enqueueAndForget((async()=>{js(this)&&(rt(Ps,"Restarting streams for network reachability change."),await(async function(y){const _=At(y);_.Ea.add(4),await jl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await fh(_)})(this))}))})),this.Ra=new kR(s,l)}}async function fh(r){if(js(r))for(const t of r.da)await t(!0)}async function jl(r){for(const t of r.da)await t(!1)}function vE(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Lm(i)?Um(i):no(i).O_()&&Pm(i,t))}function km(r,t){const i=At(r),s=no(i);i.Ia.delete(t),s.O_()&&TE(i,t),i.Ia.size===0&&(s.O_()?s.L_():js(i)&&i.Ra.set("Unknown"))}function Pm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}no(r).Y_(t)}function TE(r,t){r.Va.Ue(t),no(r).Z_(t)}function Um(r){r.Va=new Nw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),no(r).start(),r.Ra.ua()}function Lm(r){return js(r)&&!no(r).x_()&&r.Ia.size>0}function js(r){return At(r).Ea.size===0}function EE(r){r.Va=void 0}async function UR(r){r.Ra.set("Online")}async function LR(r){r.Ia.forEach(((t,i)=>{Pm(r,t)}))}async function zR(r,t){EE(r),Lm(r)?(r.Ra.ha(t),Um(r)):r.Ra.set("Unknown")}async function jR(r,t,i){if(r.Ra.set("Online"),t instanceof sE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(s){rt(Ps,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await Fc(r,s)}else if(t instanceof Dc?r.Va.Ze(t):t instanceof rE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Et.min()))try{const s=await pE(r.localStore);i.compareTo(s)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const S=c.Ia.get(_);S&&c.Ia.set(_,S.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const S=c.Ia.get(y);if(!S)return;c.Ia.set(y,S.withResumeToken(qe.EMPTY_BYTE_STRING,S.snapshotVersion)),TE(c,y);const I=new Dr(S.target,y,_,S.sequenceNumber);Pm(c,I)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(s){rt(Ps,"Failed to raise snapshot:",s),await Fc(r,s)}}async function Fc(r,t,i){if(!eo(t))throw t;r.Ea.add(1),await jl(r),r.Ra.set("Offline"),i||(i=()=>pE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Ps,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await fh(r)}))}function AE(r,t){return t().catch((i=>Fc(r,i,t)))}async function dh(r){const t=At(r),i=jr(t);let s=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Tm;for(;BR(t);)try{const l=await AR(t.localStore,s);if(l===null){t.Ta.length===0&&i.L_();break}s=l.batchId,qR(t,l)}catch(l){await Fc(t,l)}SE(t)&&bE(t)}function BR(r){return js(r)&&r.Ta.length<10}function qR(r,t){r.Ta.push(t);const i=jr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function SE(r){return js(r)&&!jr(r).x_()&&r.Ta.length>0}function bE(r){jr(r).start()}async function HR(r){jr(r).ra()}async function GR(r){const t=jr(r);for(const i of r.Ta)t.ea(i.mutations)}async function FR(r,t,i){const s=r.Ta.shift(),l=Cm.from(s,t,i);await AE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await dh(r)}async function QR(r,t){t&&jr(r).X_&&await(async function(s,l){if((function(d){return Iw(d)&&d!==$.ABORTED})(l.code)){const c=s.Ta.shift();jr(s).B_(),await AE(s,(()=>s.remoteSyncer.rejectFailedWrite(c.batchId,l))),await dh(s)}})(r,t),SE(r)&&bE(r)}async function Rv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),rt(Ps,"RemoteStore received new credentials");const s=js(i);i.Ea.add(3),await jl(i),s&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await fh(i)}async function KR(r,t){const i=At(r);t?(i.Ea.delete(2),await fh(i)):t||(i.Ea.add(2),await jl(i),i.Ra.set("Unknown"))}function no(r){return r.ma||(r.ma=(function(i,s,l){const c=At(i);return c.sa(),new OR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:UR.bind(null,r),t_:LR.bind(null,r),r_:zR.bind(null,r),H_:jR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Lm(r)?Um(r):r.Ra.set("Unknown")):(await r.ma.stop(),EE(r))}))),r.ma}function jr(r){return r.fa||(r.fa=(function(i,s,l){const c=At(i);return c.sa(),new MR(s,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:HR.bind(null,r),r_:QR.bind(null,r),ta:GR.bind(null,r),na:FR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await dh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Ps,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zm{constructor(t,i,s,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=c,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,c){const d=Date.now()+s,g=new zm(t,i,d,l,c);return g.start(s),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new at($.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function jm(r,t){if(Gi("AsyncQueue",`${t}: ${r}`),eo(r))return new at($.UNAVAILABLE,`${t}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{static emptySet(t){return new La(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=yl(),this.sortedSet=new re(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,s)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof La)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=s.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new La;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(){this.ga=new re(ht.comparator)}track(t){const i=t.doc.key,s=this.ga.get(i);s?t.type!==0&&s.type===3?this.ga=this.ga.insert(i,t):t.type===3&&s.type!==1?this.ga=this.ga.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.ga=this.ga.remove(i):t.type===1&&s.type===2?this.ga=this.ga.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:s}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,s)=>{t.push(s)})),t}}class Ya{constructor(t,i,s,l,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,s,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Ya(t,i,La.emptySet(i),d,s,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&ah(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class XR{constructor(){this.queries=Cv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,s){const l=At(i),c=l.queries;l.queries=Cv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(s)}))})(this,new at($.ABORTED,"Firestore shutting down"))}}function Cv(){return new zs((r=>FT(r)),ah)}async function wE(r,t){const i=At(r);let s=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(s=2):(c=new YR,s=t.Da()?0:1);try{switch(s){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=jm(d,`Initialization of query '${xa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Bm(i)}async function RE(r,t){const i=At(r),s=t.query;let l=3;const c=i.queries.get(s);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function $R(r,t){const i=At(r);let s=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(s=!0);d.wa=l}}s&&Bm(i)}function ZR(r,t,i){const s=At(r),l=s.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);s.queries.delete(t)}function Bm(r){r.Ca.forEach((t=>{t.next()}))}var sm,Dv;(Dv=sm||(sm={})).Ma="default",Dv.Cache="cache";class IE{constructor(t,i,s){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new Ya(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const s=i!=="Offline";return(!this.options.qa||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Ya.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==sm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE{constructor(t){this.key=t}}class DE{constructor(t){this.key=t}}class JR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ot(),this.mutatedKeys=Ot(),this.eu=QT(t),this.tu=new La(this.eu)}get nu(){return this.Ya}ru(t,i){const s=i?i.iu:new Iv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((S,I)=>{const D=l.get(S),q=oh(this.query,I)?I:null,Z=!!D&&this.mutatedKeys.has(D.key),tt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let J=!1;D&&q?D.data.isEqual(q.data)?Z!==tt&&(s.track({type:3,doc:q}),J=!0):this.su(D,q)||(s.track({type:2,doc:q}),J=!0,(y&&this.eu(q,y)>0||_&&this.eu(q,_)<0)&&(g=!0)):!D&&q?(s.track({type:0,doc:q}),J=!0):D&&!q&&(s.track({type:1,doc:D}),J=!0,(y||_)&&(g=!0)),J&&(q?(d=d.add(q),c=tt?c.add(S):c.delete(S)):(d=d.delete(S),c=c.delete(S)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),c=c.delete(S.key),s.track({type:1,doc:S})}return{tu:d,iu:s,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((S,I)=>(function(q,Z){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:J})}};return tt(q)-tt(Z)})(S.type,I.type)||this.eu(S.doc,I.doc))),this.ou(s),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Ya(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Iv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ot(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const i=[];return t.forEach((s=>{this.Xa.has(s)||i.push(new DE(s))})),this.Xa.forEach((s=>{t.has(s)||i.push(new CE(s))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ot();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Ya.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const qm="SyncEngine";class WR{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class t2{constructor(t){this.key=t,this.hu=!1}}class e2{constructor(t,i,s,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new zs((g=>FT(g)),ah),this.Iu=new Map,this.Eu=new Set,this.du=new re(ht.comparator),this.Au=new Map,this.Ru=new Om,this.Vu={},this.mu=new Map,this.fu=Ka.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function n2(r,t,i=!0){const s=kE(r);let l;const c=s.Tu.get(t);return c?(s.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await NE(s,t,i,!0),l}async function i2(r,t){const i=kE(r);await NE(i,t,!0,!1)}async function NE(r,t,i,s){const l=await SR(r.localStore,oi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return s&&(g=await r2(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&vE(r.remoteStore,l),g}async function r2(r,t,i,s,l){r.pu=(I,D,q)=>(async function(tt,J,Tt,dt){let ut=J.view.ru(Tt);ut.Cs&&(ut=await Ev(tt.localStore,J.query,!1).then((({documents:V})=>J.view.ru(V,ut))));const Pt=dt&&dt.targetChanges.get(J.targetId),_t=dt&&dt.targetMismatches.get(J.targetId)!=null,Ut=J.view.applyChanges(ut,tt.isPrimaryClient,Pt,_t);return Ov(tt,J.targetId,Ut.au),Ut.snapshot})(r,I,D,q);const c=await Ev(r.localStore,t,!0),d=new JR(t,c.Qs),g=d.ru(c.documents),y=zl.createSynthesizedTargetChangeForCurrentChange(i,s&&r.onlineState!=="Offline",l),_=d.applyChanges(g,r.isPrimaryClient,y);Ov(r,i,_.au);const S=new WR(t,i,d);return r.Tu.set(t,S),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function s2(r,t,i){const s=At(r),l=s.Tu.get(t),c=s.Iu.get(l.targetId);if(c.length>1)return s.Iu.set(l.targetId,c.filter((d=>!ah(d,t)))),void s.Tu.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await im(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),i&&km(s.remoteStore,l.targetId),am(s,l.targetId)})).catch(to)):(am(s,l.targetId),await im(s.localStore,l.targetId,!0))}async function a2(r,t){const i=At(r),s=i.Tu.get(t),l=i.Iu.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),km(i.remoteStore,s.targetId))}async function o2(r,t,i){const s=m2(r);try{const l=await(function(d,g){const y=At(d),_=te.now(),S=g.reduce(((q,Z)=>q.add(Z.key)),Ot());let I,D;return y.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let Z=Fi(),tt=Ot();return y.Ns.getEntries(q,S).next((J=>{Z=J,Z.forEach(((Tt,dt)=>{dt.isValidDocument()||(tt=tt.add(Tt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(q,Z))).next((J=>{I=J;const Tt=[];for(const dt of g){const ut=Aw(dt,I.get(dt.key).overlayedDocument);ut!=null&&Tt.push(new Hr(dt.key,ut,LT(ut.value.mapValue),zn.exists(!0)))}return y.mutationQueue.addMutationBatch(q,_,Tt,g)})).next((J=>{D=J;const Tt=J.applyToLocalDocumentSet(I,tt);return y.documentOverlayCache.saveOverlays(q,J.batchId,Tt)}))})).then((()=>({batchId:D.batchId,changes:YT(I)})))})(s.localStore,t);s.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new re(Nt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(s,l.batchId,i),await Bl(s,l.changes),await dh(s.remoteStore)}catch(l){const c=jm(l,"Failed to persist write");i.reject(c)}}async function OE(r,t){const i=At(r);try{const s=await TR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?qt(d.hu,14607):l.removedDocuments.size>0&&(qt(d.hu,42227),d.hu=!1))})),await Bl(i,s,t)}catch(s){await to(s)}}function Nv(r,t,i){const s=At(r);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=At(d);y.onlineState=g;let _=!1;y.queries.forEach(((S,I)=>{for(const D of I.Sa)D.va(g)&&(_=!0)})),_&&Bm(y)})(s.eventManager,t),l.length&&s.Pu.H_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function l2(r,t,i){const s=At(r);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Au.get(t),c=l&&l.key;if(c){let d=new re(ht.comparator);d=d.insert(c,Xe.newNoDocument(c,Et.min()));const g=Ot().add(c),y=new ch(Et.min(),new Map,new re(Nt),d,g);await OE(s,y),s.du=s.du.remove(c),s.Au.delete(t),Hm(s)}else await im(s.localStore,t,!1).then((()=>am(s,t,i))).catch(to)}async function u2(r,t){const i=At(r),s=t.batch.batchId;try{const l=await vR(i.localStore,t);VE(i,s,null),ME(i,s),i.sharedClientState.updateMutationState(s,"acknowledged"),await Bl(i,l)}catch(l){await to(l)}}async function c2(r,t,i){const s=At(r);try{const l=await(function(d,g){const y=At(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return y.mutationQueue.lookupMutationBatch(_,g).next((I=>(qt(I!==null,37113),S=I.keys(),y.mutationQueue.removeMutationBatch(_,I)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>y.localDocuments.getDocuments(_,S)))}))})(s.localStore,t);VE(s,t,i),ME(s,t),s.sharedClientState.updateMutationState(t,"rejected",i),await Bl(s,l)}catch(l){await to(l)}}function ME(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function VE(r,t,i){const s=At(r);let l=s.Vu[s.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),s.Vu[s.currentUser.toKey()]=l}}function am(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const s of r.Iu.get(t))r.Tu.delete(s),i&&r.Pu.yu(s,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((s=>{r.Ru.containsKey(s)||xE(r,s)}))}function xE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(km(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Hm(r))}function Ov(r,t,i){for(const s of i)s instanceof CE?(r.Ru.addReference(s.key,t),h2(r,s)):s instanceof DE?(rt(qm,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,t),r.Ru.containsKey(s.key)||xE(r,s.key)):gt(19791,{wu:s})}function h2(r,t){const i=t.key,s=i.path.canonicalString();r.du.get(i)||r.Eu.has(s)||(rt(qm,"New document in limbo: "+i),r.Eu.add(s),Hm(r))}function Hm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new ht(Wt.fromString(t)),s=r.fu.next();r.Au.set(s,new t2(i)),r.du=r.du.insert(i,s),vE(r.remoteStore,new Dr(oi(wm(i.path)),s,"TargetPurposeLimboResolution",nh.ce))}}async function Bl(r,t,i){const s=At(r),l=[],c=[],d=[];s.Tu.isEmpty()||(s.Tu.forEach(((g,y)=>{d.push(s.pu(y,t,i).then((_=>{if((_||i)&&s.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;s.sharedClientState.updateQueryState(y.targetId,S?"current":"not-current")}if(_){l.push(_);const S=Vm.As(y.targetId,_);c.push(S)}})))})),await Promise.all(d),s.Pu.H_(l),await(async function(y,_){const S=At(y);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(I=>Y.forEach(_,(D=>Y.forEach(D.Es,(q=>S.persistence.referenceDelegate.addReference(I,D.targetId,q))).next((()=>Y.forEach(D.ds,(q=>S.persistence.referenceDelegate.removeReference(I,D.targetId,q)))))))))}catch(I){if(!eo(I))throw I;rt(xm,"Failed to update sequence numbers: "+I)}for(const I of _){const D=I.targetId;if(!I.fromCache){const q=S.Ms.get(D),Z=q.snapshotVersion,tt=q.withLastLimboFreeSnapshotVersion(Z);S.Ms=S.Ms.insert(D,tt)}}})(s.localStore,c))}async function f2(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){rt(qm,"User change. New user:",t.toKey());const s=await gE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new at($.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Bl(i,s.Ls)}}function d2(r,t){const i=At(r),s=i.Au.get(t);if(s&&s.hu)return Ot().add(s.key);{let l=Ot();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function kE(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=OE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=d2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=l2.bind(null,t),t.Pu.H_=$R.bind(null,t.eventManager),t.Pu.yu=ZR.bind(null,t.eventManager),t}function m2(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=u2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=c2.bind(null,t),t}class Qc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=hh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return _R(this.persistence,new gR,t.initialUser,this.serializer)}Cu(t){return new mE(Mm.mi,this.serializer)}Du(t){return new wR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Qc.provider={build:()=>new Qc};class g2 extends Qc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){qt(this.persistence.referenceDelegate instanceof Gc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new tR(s,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new mE((s=>Gc.mi(s,i)),this.serializer)}}class om{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Nv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=f2.bind(null,this.syncEngine),await KR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new XR})()}createDatastore(t){const i=hh(t.databaseInfo.databaseId),s=(function(c){return new NR(c)})(t.databaseInfo);return(function(c,d,g,y){return new xR(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return(function(s,l,c,d,g){return new PR(s,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Nv(this.syncEngine,i,0)),(function(){return bv.v()?new bv:new RR})())}createSyncEngine(t,i){return(function(l,c,d,g,y,_,S){const I=new e2(l,c,d,g,y,_);return S&&(I.gu=!0),I})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const s=At(i);rt(Ps,"RemoteStore shutting down."),s.Ea.add(5),await jl(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}om.provider={build:()=>new om};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Gi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class p2{constructor(t,i,s,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=Ye.UNAUTHENTICATED,this.clientId=_m.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(s,(async d=>{rt(Br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(s,(d=>(rt(Br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=jm(i,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}async function Ud(r,t){r.asyncQueue.verifyOperationInProgress(),rt(Br,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let s=i.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await gE(t.localStore,l),s=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Mv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await y2(r);rt(Br,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((s=>Rv(t.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>Rv(t.remoteStore,l))),r._onlineComponents=t}async function y2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(Br,"Using user provided OfflineComponentProvider");try{await Ud(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===$.FAILED_PRECONDITION||l.code===$.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ha("Error using user provided cache. Falling back to memory cache: "+i),await Ud(r,new Qc)}}else rt(Br,"Using default OfflineComponentProvider"),await Ud(r,new g2(void 0));return r._offlineComponents}async function UE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(Br,"Using user provided OnlineComponentProvider"),await Mv(r,r._uninitializedComponentsProvider._online)):(rt(Br,"Using default OnlineComponentProvider"),await Mv(r,new om))),r._onlineComponents}function _2(r){return UE(r).then((t=>t.syncEngine))}async function lm(r){const t=await UE(r),i=t.eventManager;return i.onListen=n2.bind(null,t.syncEngine),i.onUnlisten=s2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=i2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=a2.bind(null,t.syncEngine),i}function v2(r,t,i={}){const s=new xr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const S=new PE({next:D=>{S.Nu(),d.enqueueAndForget((()=>RE(c,I))),D.fromCache&&y.source==="server"?_.reject(new at($.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(D)},error:D=>_.reject(D)}),I=new IE(g,S,{includeMetadataChanges:!0,qa:!0});return wE(c,I)})(await lm(r),r.asyncQueue,t,i,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LE(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="firestore.googleapis.com",xv=!0;class kv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new at($.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=zE,this.ssl=xv}else this.host=t.host,this.ssl=t.ssl??xv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=dE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Jw)throw new at($.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}xb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LE(t.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new at($.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class mh{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new at($.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new at($.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new bb;switch(s.type){case"firstParty":return new Cb(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new at($.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const s=Vv.get(i);s&&(rt("ComponentProvider","Removing Datastore"),Vv.delete(i),s.terminate())})(this),Promise.resolve()}}function T2(r,t,i,s={}){r=ai(r,mh);const l=Za(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(hT(`https://${g}`),fT("Firestore",!0)),c.host!==zE&&c.host!==g&&Ha("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:s};if(!Vs(y,d)&&(r._setSettings(y),s.mockUserToken)){let _,S;if(typeof s.mockUserToken=="string")_=s.mockUserToken,S=Ye.MOCK_USER;else{_=Z1(s.mockUserToken,r._app?.options.projectId);const I=s.mockUserToken.sub||s.mockUserToken.user_id;if(!I)throw new at($.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new Ye(I)}r._authCredentials=new wb(new RT(_,S))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new ql(this.firestore,t,this._query)}}class we{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new kr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,s){if(Ul(i,we._jsonSchema))return new we(t,s||null,new ht(Wt.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:_e("string",we._jsonSchemaVersion),referencePath:_e("string")};class kr extends ql{constructor(t,i,s){super(t,i,wm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new ht(t))}withConverter(t){return new kr(this.firestore,t,this._path)}}function Hl(r,t,...i){if(r=en(r),IT("collection","path",t),r instanceof mh){const s=Wt.fromString(t,...i);return X_(s),new kr(r,null,s)}{if(!(r instanceof we||r instanceof kr))throw new at($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return X_(s),new kr(r.firestore,null,s)}}function Gm(r,t,...i){if(r=en(r),arguments.length===1&&(t=_m.newId()),IT("doc","path",t),r instanceof mh){const s=Wt.fromString(t,...i);return Y_(s),new we(r,null,new ht(s))}{if(!(r instanceof we||r instanceof kr))throw new at($.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(Wt.fromString(t,...i));return Y_(s),new we(r.firestore,r instanceof kr?r.converter:null,new ht(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv="AsyncQueue";class Uv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yE(this,"async_queue_retry"),this._c=()=>{const s=Pd();s&&rt(Pv,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=t;const i=Pd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Pd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!eo(t))throw t;rt(Pv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((s=>{throw this.nc=s,this.rc=!1,Gi("INTERNAL UNHANDLED ERROR: ",Lv(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=i,i}enqueueAfterDelay(t,i,s){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=zm.createAndSchedule(this,t,i,s,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Lv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,s)=>i.targetTimeMs-s.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Lv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(r){return(function(i,s){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of s)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Us extends mh{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Uv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Uv(t),this._firestoreClient=void 0,await t}}}function E2(r,t){const i=typeof r=="object"?r:pT(),s=typeof r=="string"?r:Lc,l=pm(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const c=X1("firestore");c&&T2(l,...c)}return l}function Fm(r){if(r._terminated)throw new at($.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||A2(r),r._firestoreClient}function A2(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new Fb(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,LE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new p2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(t){this._byteString=t}static fromBase64String(t){try{return new On(qe.fromBase64String(t))}catch(i){throw new at($.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new On(qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ul(t,On._jsonSchema))return On.fromBase64String(t.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:_e("string",On._jsonSchemaVersion),bytes:_e("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new at($.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Be(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new at($.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new at($.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Nt(this._lat,t._lat)||Nt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ui._jsonSchemaVersion}}static fromJSON(t){if(Ul(t,ui._jsonSchema))return new ui(t.latitude,t.longitude)}}ui._jsonSchemaVersion="firestore/geoPoint/1.0",ui._jsonSchema={type:_e("string",ui._jsonSchemaVersion),latitude:_e("number"),longitude:_e("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(s,l){if(s.length!==l.length)return!1;for(let c=0;c<s.length;++c)if(s[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ci._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ul(t,ci._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new ci(t.vectorValues);throw new at($.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ci._jsonSchemaVersion="firestore/vectorValue/1.0",ci._jsonSchema={type:_e("string",ci._jsonSchemaVersion),vectorValues:_e("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S2=/^__.*__$/;class b2{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return this.fieldMask!==null?new Hr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Ll(t,this.data,i,this.fieldTransforms)}}class jE{constructor(t,i,s){this.data=t,this.fieldMask=i,this.fieldTransforms=s}toMutation(t,i){return new Hr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function BE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class Qm{constructor(t,i,s,l,c,d){this.settings=t,this.databaseId=i,this.serializer=s,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Qm({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.gc(t),s}yc(t){const i=this.path?.child(t),s=this.Vc({path:i,fc:!1});return s.Rc(),s}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Kc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(BE(this.Ac)&&S2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class w2{constructor(t,i,s){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=s||hh(t)}Cc(t,i,s,l=!1){return new Qm({Ac:t,methodName:i,Dc:s,path:Be.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function qE(r){const t=r._freezeSettings(),i=hh(r._databaseId);return new w2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function R2(r,t,i,s,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);Ym("Data must be an object, but it was:",d,s);const g=HE(s,d);let y,_;if(c.merge)y=new yn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const S=[];for(const I of c.mergeFields){const D=um(t,I,i);if(!d.contains(D))throw new at($.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);FE(S,D)||S.push(D)}y=new yn(S),_=d.fieldTransforms.filter((I=>y.covers(I.field)))}else y=null,_=d.fieldTransforms;return new b2(new on(g),y,_)}class yh extends ph{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof yh}}class Km extends ph{_toFieldTransform(t){return new _w(t.path,new Ol)}isEqual(t){return t instanceof Km}}function I2(r,t,i,s){const l=r.Cc(1,t,i);Ym("Data must be an object, but it was:",l,s);const c=[],d=on.empty();qr(s,((y,_)=>{const S=Xm(t,y,i);_=en(_);const I=l.yc(S);if(_ instanceof yh)c.push(S);else{const D=_h(_,I);D!=null&&(c.push(S),d.set(S,D))}}));const g=new yn(c);return new jE(d,g,l.fieldTransforms)}function C2(r,t,i,s,l,c){const d=r.Cc(1,t,i),g=[um(t,s,i)],y=[l];if(c.length%2!=0)throw new at($.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(um(t,c[D])),y.push(c[D+1]);const _=[],S=on.empty();for(let D=g.length-1;D>=0;--D)if(!FE(_,g[D])){const q=g[D];let Z=y[D];Z=en(Z);const tt=d.yc(q);if(Z instanceof yh)_.push(q);else{const J=_h(Z,tt);J!=null&&(_.push(q),S.set(q,J))}}const I=new yn(_);return new jE(S,I,d.fieldTransforms)}function _h(r,t){if(GE(r=en(r)))return Ym("Unsupported field value:",t,r),HE(r,t);if(r instanceof ph)return(function(s,l){if(!BE(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const c=s._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(s,l){const c=[];let d=0;for(const g of s){let y=_h(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(s,l){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return gw(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const c=te.fromDate(s);return{timestampValue:Hc(l.serializer,c)}}if(s instanceof te){const c=new te(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Hc(l.serializer,c)}}if(s instanceof ui)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:aE(l.serializer,s._byteString)};if(s instanceof we){const c=l.databaseId,d=s.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Nm(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof ci)return(function(d,g){return{mapValue:{fields:{[PT]:{stringValue:UT},[zc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Rm(g.serializer,_)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${vm(s)}`)})(r,t)}function HE(r,t){const i={};return NT(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qr(r,((s,l)=>{const c=_h(l,t.mc(s));c!=null&&(i[s]=c)})),{mapValue:{fields:i}}}function GE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof te||r instanceof ui||r instanceof On||r instanceof we||r instanceof ph||r instanceof ci)}function Ym(r,t,i){if(!GE(i)||!CT(i)){const s=vm(i);throw s==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+s)}}function um(r,t,i){if((t=en(t))instanceof gh)return t._internalPath;if(typeof t=="string")return Xm(r,t);throw Kc("Field path arguments must be of type string or ",r,!1,void 0,i)}const D2=new RegExp("[~\\*/\\[\\]]");function Xm(r,t,i){if(t.search(D2)>=0)throw Kc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new gh(...t.split("."))._internalPath}catch{throw Kc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Kc(r,t,i,s,l){const c=s&&!s.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${s}`),d&&(y+=` in document ${l}`),y+=")"),new at($.INVALID_ARGUMENT,g+r+y)}function FE(r,t){return r.some((i=>i.isEqual(t)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(t,i,s,l,c){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new N2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(KE("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class N2 extends QE{data(){return super.data()}}function KE(r,t){return typeof t=="string"?Xm(r,t):t instanceof gh?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new at($.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class O2{convertValue(t,i="none"){switch(zr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return fe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Lr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return qr(t,((l,c)=>{s[l]=this.convertValue(c,i)})),s}convertVectorValue(t){const i=t.fields?.[zc].arrayValue?.values?.map((s=>fe(s.doubleValue)));return new ci(i)}convertGeoPoint(t){return new ui(fe(t.latitude),fe(t.longitude))}convertArray(t,i){return(t.values||[]).map((s=>this.convertValue(s,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const s=rh(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(Cl(t));default:return null}}convertTimestamp(t){const i=Ur(t);return new te(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=Wt.fromString(t);qt(fE(s),9688,{name:t});const l=new Dl(s.get(1),s.get(3)),c=new ht(s.popFirst(5));return l.isEqual(i)||Gi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(r,t,i){let s;return s=r?r.toFirestore(t):t,s}class vl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Ns extends QE{constructor(t,i,s,l,c,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Nc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(KE("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new at($.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Ns._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Ns._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ns._jsonSchema={type:_e("string",Ns._jsonSchemaVersion),bundleSource:_e("string","DocumentSnapshot"),bundleName:_e("string"),bundle:_e("string")};class Nc extends Ns{data(t={}){return super.data(t)}}class Os{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new vl(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((s=>{t.call(i,new Nc(this._firestore,this._userDataWriter,s.key,s,new vl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new at($.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Nc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Nc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new vl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,S=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:V2(g.type),doc:y,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new at($.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Os._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=_m.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],s=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),s.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function V2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}Os._jsonSchemaVersion="firestore/querySnapshot/1.0",Os._jsonSchema={type:_e("string",Os._jsonSchemaVersion),bundleSource:_e("string","QuerySnapshot"),bundleName:_e("string"),bundle:_e("string")};class $m extends O2{constructor(t){super(),this.firestore=t}convertBytes(t){return new On(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,i)}}function x2(r){r=ai(r,ql);const t=ai(r.firestore,Us),i=Fm(t),s=new $m(t);return YE(r._query),v2(i,r._query).then((l=>new Os(t,s,r,l)))}function k2(r,t,i,...s){r=ai(r,we);const l=ai(r.firestore,Us),c=qE(l);let d;return d=typeof(t=en(t))=="string"||t instanceof gh?C2(c,"updateDoc",r._key,t,i,s):I2(c,"updateDoc",r._key,t),Zm(l,[d.toMutation(r._key,zn.exists(!0))])}function P2(r){return Zm(ai(r.firestore,Us),[new Im(r._key,zn.none())])}function XE(r,t){const i=ai(r.firestore,Us),s=Gm(r),l=M2(r.converter,t);return Zm(i,[R2(qE(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,zn.exists(!1))]).then((()=>s))}function $E(r,...t){r=en(r);let i={includeMetadataChanges:!1,source:"default"},s=0;typeof t[s]!="object"||zv(t[s])||(i=t[s++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(zv(t[s])){const y=t[s];t[s]=y.next?.bind(y),t[s+1]=y.error?.bind(y),t[s+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof we)d=ai(r.firestore,Us),g=wm(r._key.path),c={next:y=>{t[s]&&t[s](U2(d,r,y))},error:t[s+1],complete:t[s+2]};else{const y=ai(r,ql);d=ai(y.firestore,Us),g=y._query;const _=new $m(d);c={next:S=>{t[s]&&t[s](new Os(d,_,y,S))},error:t[s+1],complete:t[s+2]},YE(r._query)}return(function(_,S,I,D){const q=new PE(D),Z=new IE(S,q,I);return _.asyncQueue.enqueueAndForget((async()=>wE(await lm(_),Z))),()=>{q.Nu(),_.asyncQueue.enqueueAndForget((async()=>RE(await lm(_),Z)))}})(Fm(d),g,l,c)}function Zm(r,t){return(function(s,l){const c=new xr;return s.asyncQueue.enqueueAndForget((async()=>o2(await _2(s),l,c))),c.promise})(Fm(r),t)}function U2(r,t,i){const s=i.docs.get(t._key),l=new $m(r);return new Ns(r,l,t._key,s,new vl(i.hasPendingWrites,i.fromCache),t.converter)}function Yc(){return new Km("serverTimestamp")}(function(t,i=!0){(function(l){Wa=l})(Ja),qa(new xs("firestore",((s,{instanceIdentifier:l,options:c})=>{const d=s.getProvider("app").getImmediate(),g=new Us(new Rb(s.getProvider("auth-internal")),new Db(d,s.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new at($.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dl(_.options.projectId,S)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Mr(G_,F_,t),Mr(G_,F_,"esm2020")})();var L2="firebase",z2="12.2.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Mr(L2,z2,"app");function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const j2=ZE,JE=new kl("auth","Firebase",ZE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new mm("@firebase/auth");function B2(r,...t){Xc.logLevel<=Dt.WARN&&Xc.warn(`Auth (${Ja}): ${r}`,...t)}function Oc(r,...t){Xc.logLevel<=Dt.ERROR&&Xc.error(`Auth (${Ja}): ${r}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(r,...t){throw Jm(r,...t)}function hi(r,...t){return Jm(r,...t)}function WE(r,t,i){const s={...j2(),[t]:i};return new kl("auth","Firebase",s).create(t,{appName:r.name})}function Ms(r){return WE(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jm(r,...t){if(typeof r!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(i,...s)}return JE.create(r,...t)}function yt(r,t,...i){if(!r)throw Jm(t,...i)}function Bi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Oc(t),new Error(t)}function Ki(r,t){r||Bi(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){return typeof self<"u"&&self.location?.href||""}function q2(){return jv()==="http:"||jv()==="https:"}function jv(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(q2()||iS()||"connection"in navigator)?navigator.onLine:!0}function G2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl{constructor(t,i){this.shortDelay=t,this.longDelay=i,Ki(i>t,"Short delay should be less than long delay!"),this.isMobile=tS()||rS()}get(){return H2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r,t){Ki(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Bi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Bi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Bi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],K2=new Gl(3e4,6e4);function tg(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function io(r,t,i,s,l={}){return e0(r,l,async()=>{let c={},d={};s&&(t==="GET"?d=s:c={body:JSON.stringify(s)});const g=Pl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return nS()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Za(r.emulatorConfig.host)&&(_.credentials="include"),t0.fetch()(await n0(r,r.config.apiHost,i,g),_)})}async function e0(r,t,i){r._canInitEmulator=!1;const s={...F2,...t};try{const l=new X2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Sc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Sc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Sc(r,"user-disabled",d);const S=s[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw WE(r,S,_);Qi(r,S)}}catch(l){if(l instanceof Yi)throw l;Qi(r,"network-request-failed",{message:String(l)})}}async function Y2(r,t,i,s,l={}){const c=await io(r,t,i,s,l);return"mfaPendingCredential"in c&&Qi(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function n0(r,t,i,s){const l=`${t}${i}?${s}`,c=r,d=c.config.emulator?Wm(r.config,l):`${r.config.apiScheme}://${l}`;return Q2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class X2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(hi(this.auth,"network-request-failed")),K2.get())})}}function Sc(r,t,i){const s={appName:r.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=hi(r,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $2(r,t){return io(r,"POST","/v1/accounts:delete",t)}async function $c(r,t){return io(r,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Z2(r,t=!1){const i=en(r),s=await i.getIdToken(t),l=eg(s);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:s,authTime:wl(Ld(l.auth_time)),issuedAtTime:wl(Ld(l.iat)),expirationTime:wl(Ld(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Ld(r){return Number(r)*1e3}function eg(r){const[t,i,s]=r.split(".");if(t===void 0||i===void 0||s===void 0)return Oc("JWT malformed, contained fewer than 3 sections"),null;try{const l=oT(i);return l?JSON.parse(l):(Oc("Failed to decode base64 JWT payload"),null)}catch(l){return Oc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Bv(r){const t=eg(r);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xl(r,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof Yi&&J2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function J2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(r){const t=r.auth,i=await r.getIdToken(),s=await xl(r,$c(t,{idToken:i}));yt(s?.users.length,t,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?i0(l.providerUserInfo):[],d=eI(r.providerData,c),g=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=g?y:!1,S={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,S)}async function tI(r){const t=en(r);await Zc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function eI(r,t){return[...r.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function i0(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nI(r,t){const i=await e0(r,{},async()=>{const s=Pl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await n0(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:s};return r.emulatorConfig&&Za(r.emulatorConfig.host)&&(y.credentials="include"),t0.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function iI(r,t){return io(r,"POST","/v2/accounts:revokeToken",tg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class za{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Bv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=Bv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:c}=await nI(t,i);this.updateTokensAndExpiration(s,l,Number(c))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:c}=i,d=new za;return s&&(yt(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new za,this.toJSON())}_performRefresh(){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function br(r,t){yt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Ln{constructor({uid:t,auth:i,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new W2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new hm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await xl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return Z2(this,t)}reload(){return tI(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Ln({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await Zc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(si(this.auth.app))return Promise.reject(Ms(this.auth));const t=await this.getIdToken();return await xl(this,$2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const s=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:I,emailVerified:D,isAnonymous:q,providerData:Z,stsTokenManager:tt}=i;yt(I&&tt,t,"internal-error");const J=za.fromJSON(this.name,tt);yt(typeof I=="string",t,"internal-error"),br(s,t.name),br(l,t.name),yt(typeof D=="boolean",t,"internal-error"),yt(typeof q=="boolean",t,"internal-error"),br(c,t.name),br(d,t.name),br(g,t.name),br(y,t.name),br(_,t.name),br(S,t.name);const Tt=new Ln({uid:I,auth:t,email:l,emailVerified:D,displayName:s,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:S});return Z&&Array.isArray(Z)&&(Tt.providerData=Z.map(dt=>({...dt}))),y&&(Tt._redirectEventId=y),Tt}static async _fromIdTokenResponse(t,i,s=!1){const l=new za;l.updateFromServerResponse(i);const c=new Ln({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await Zc(c),c}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?i0(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new za;g.updateFromIdToken(s);const y=new Ln({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new hm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=new Map;function qi(r){Ki(r instanceof Function,"Expected a class definition");let t=qv.get(r);return t?(Ki(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,qv.set(r,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}r0.type="NONE";const Hv=r0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mc(r,t,i){return`firebase:${r}:${t}:${i}`}class ja{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:c}=this.auth;this.fullUserKey=Mc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Mc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await $c(this.auth,{idToken:t}).catch(()=>{});return i?Ln._fromGetAccountInfoResponse(this.auth,i,t):null}return Ln._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new ja(qi(Hv),t,s);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||qi(Hv);const d=Mc(s,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const S=await _._get(d);if(S){let I;if(typeof S=="string"){const D=await $c(t,{idToken:S}).catch(()=>{});if(!D)break;I=await Ln._fromGetAccountInfoResponse(t,D,S)}else I=Ln._fromJSON(t,S);_!==c&&(g=I),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new ja(c,t,s):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ja(c,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(l0(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(s0(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(c0(t))return"Blackberry";if(h0(t))return"Webos";if(a0(t))return"Safari";if((t.includes("chrome/")||o0(t))&&!t.includes("edge/"))return"Chrome";if(u0(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(i);if(s?.length===2)return s[1]}return"Other"}function s0(r=$e()){return/firefox\//i.test(r)}function a0(r=$e()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function o0(r=$e()){return/crios\//i.test(r)}function l0(r=$e()){return/iemobile/i.test(r)}function u0(r=$e()){return/android/i.test(r)}function c0(r=$e()){return/blackberry/i.test(r)}function h0(r=$e()){return/webos/i.test(r)}function ng(r=$e()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rI(r=$e()){return ng(r)&&!!window.navigator?.standalone}function sI(){return sS()&&document.documentMode===10}function f0(r=$e()){return ng(r)||u0(r)||h0(r)||c0(r)||/windows phone/i.test(r)||l0(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d0(r,t=[]){let i;switch(r){case"Browser":i=Gv($e());break;case"Worker":i=`${Gv($e())}-${r}`;break;default:i=r}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ja}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oI(r,t={}){return io(r,"GET","/v2/passwordPolicy",tg(r,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=6;class uI{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??lI,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fv(this),this.idTokenSubscription=new Fv(this),this.beforeStateQueue=new aI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=JE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=qi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await $c(this,{idToken:t}),s=await Ln._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(si(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let s=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=s?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(s=g.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(c){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await Zc(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=G2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(si(this.app))return Promise.reject(Ms(this));const i=t?en(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return si(this.app)?Promise.reject(Ms(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return si(this.app)?Promise.reject(Ms(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await oI(this),i=new uI(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new kl("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await iI(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&qi(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await ja.create(this,[qi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,s,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=d0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(t["X-Firebase-AppCheck"]=s),t}async _getAppCheckToken(){if(si(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&B2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function ig(r){return en(r)}class Fv{constructor(t){this.auth=t,this.observer=null,this.addObserver=dS(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function hI(r){rg=r}function fI(r){return rg.loadJS(r)}function dI(){return rg.gapiScript}function mI(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(r,t){const i=pm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Vs(c,t??{}))return l;Qi(l,"already-initialized")}return i.initialize({options:t})}function pI(r,t){const i=t?.persistence||[],s=(Array.isArray(i)?i:[i]).map(qi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(s,t?.popupRedirectResolver)}function yI(r,t,i){const s=ig(r);yt(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,c=m0(t),{host:d,port:g}=_I(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},S=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){yt(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),yt(Vs(_,s.config.emulator)&&Vs(S,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=_,s.emulatorConfig=S,s.settings.appVerificationDisabledForTesting=!0,Za(d)?(hT(`${c}//${d}${y}`),fT("Auth",!0)):vI()}function m0(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function _I(r){const t=m0(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const c=l[1];return{host:c,port:Qv(s.substr(c.length+1))}}else{const[c,d]=s.split(":");return{host:c,port:Qv(d)}}}function Qv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function vI(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g0{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Bi("not implemented")}_getIdTokenResponse(t){return Bi("not implemented")}_linkToIdToken(t,i){return Bi("not implemented")}_getReauthenticationResolver(t){return Bi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ba(r,t){return Y2(r,"POST","/v1/accounts:signInWithIdp",tg(r,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TI="http://localhost";class Ls extends g0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Ls(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Qi("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l,...c}=i;if(!s||!l)return null;const d=new Ls(s,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ba(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ba(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ba(t,i)}buildRequest(){const t={requestUri:TI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Pl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p0{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fl extends p0{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Fl{constructor(){super("facebook.com")}static credential(t){return Ls._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Ls._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Rr.credentialFromTaggedObject(t)}static credentialFromError(t){return Rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Rr.credential(i,s)}catch{return null}}}Rr.GOOGLE_SIGN_IN_METHOD="google.com";Rr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Fl{constructor(){super("github.com")}static credential(t){return Ls._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ir.credential(t.oauthAccessToken)}catch{return null}}}Ir.GITHUB_SIGN_IN_METHOD="github.com";Ir.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends Fl{constructor(){super("twitter.com")}static credential(t,i){return Ls._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Cr.credential(i,s)}catch{return null}}}Cr.TWITTER_SIGN_IN_METHOD="twitter.com";Cr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const c=await Ln._fromIdTokenResponse(t,s,l),d=Kv(s);return new Xa({user:c,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Kv(s);return new Xa({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Kv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc extends Yi{constructor(t,i,s,l){super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,Jc.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new Jc(t,i,s,l)}}function y0(r,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Jc._fromErrorAndOperation(r,c,t,s):c})}async function EI(r,t,i=!1){const s=await xl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Xa._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function AI(r,t,i=!1){const{auth:s}=r;if(si(s.app))return Promise.reject(Ms(s));const l="reauthenticate";try{const c=await xl(r,y0(s,l,t,r),i);yt(c.idToken,s,"internal-error");const d=eg(c.idToken);yt(d,s,"internal-error");const{sub:g}=d;return yt(r.uid===g,s,"user-mismatch"),Xa._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&Qi(s,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(r,t,i=!1){if(si(r.app))return Promise.reject(Ms(r));const s="signIn",l=await y0(r,s,t),c=await Xa._fromIdTokenResponse(r,s,l);return i||await r._updateCurrentUser(c.user),c}function bI(r,t,i,s){return en(r).onIdTokenChanged(t,i,s)}function wI(r,t,i){return en(r).beforeAuthStateChanged(t,i)}const Wc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(Wc,"1"),this.storage.removeItem(Wc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RI=1e3,II=10;class v0 extends _0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=f0(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},c=this.storage.getItem(s);sI()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,II):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},RI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}v0.type="LOCAL";const CI=v0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T0 extends _0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}T0.type="SESSION";const E0=T0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new vh(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await DI(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sg(r="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return r+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=sg("",20);l.port1.start();const S=setTimeout(()=>{y(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(I){const D=I;if(D.data.eventId===_)switch(D.data.status){case"ack":clearTimeout(S),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(S),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fi(){return window}function OI(r){fi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A0(){return typeof fi().WorkerGlobalScope<"u"&&typeof fi().importScripts=="function"}async function MI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VI(){return navigator?.serviceWorker?.controller||null}function xI(){return A0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="firebaseLocalStorageDb",kI=1,th="firebaseLocalStorage",b0="fbase_key";class Ql{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Th(r,t){return r.transaction([th],t?"readwrite":"readonly").objectStore(th)}function PI(){const r=indexedDB.deleteDatabase(S0);return new Ql(r).toPromise()}function fm(){const r=indexedDB.open(S0,kI);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(th,{keyPath:b0})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(th)?t(s):(s.close(),await PI(),t(await fm()))})})}async function Yv(r,t,i){const s=Th(r,!0).put({[b0]:t,value:i});return new Ql(s).toPromise()}async function UI(r,t){const i=Th(r,!1).get(t),s=await new Ql(i).toPromise();return s===void 0?null:s.value}function Xv(r,t){const i=Th(r,!0).delete(t);return new Ql(i).toPromise()}const LI=800,zI=3;class w0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>zI)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return A0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vh._getInstance(xI()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MI(),!this.activeServiceWorker)return;this.sender=new NI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||VI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await fm();return await Yv(t,Wc,"1"),await Xv(t,Wc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>Yv(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>UI(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Xv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Th(l,!1).getAll();return new Ql(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),LI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w0.type="LOCAL";const jI=w0;new Gl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(r,t){return t?qi(t):(yt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag extends g0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ba(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ba(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ba(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function qI(r){return SI(r.auth,new ag(r),r.bypassAuthState)}function HI(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),AI(i,new ag(r),r.bypassAuthState)}async function GI(r){const{auth:t,user:i}=r;return yt(i,t,"internal-error"),EI(i,new ag(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R0{constructor(t,i,s,l,c=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:s,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return qI;case"linkViaPopup":case"linkViaRedirect":return GI;case"reauthViaPopup":case"reauthViaRedirect":return HI;default:Qi(this.auth,"internal-error")}}resolve(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ki(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=new Gl(2e3,1e4);class Ua extends R0{constructor(t,i,s,l,c){super(t,i,l,c),this.provider=s,this.authWindow=null,this.pollId=null,Ua.currentPopupAction&&Ua.currentPopupAction.cancel(),Ua.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){Ki(this.filter.length===1,"Popup operations only handle one event");const t=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(hi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(hi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ua.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(hi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,FI.get())};t()}}Ua.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI="pendingRedirect",Vc=new Map;class KI extends R0{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Vc.get(this.auth._key());if(!t){try{const s=await YI(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Vc.set(this.auth._key(),t)}return this.bypassAuthState||Vc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function YI(r,t){const i=ZI(t),s=$I(r);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function XI(r,t){Vc.set(r._key(),t)}function $I(r){return qi(r._redirectPersistence)}function ZI(r){return Mc(QI,r.config.apiKey,r.name)}async function JI(r,t,i=!1){if(si(r.app))return Promise.reject(Ms(r));const s=ig(r),l=BI(s,t),d=await new KI(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=600*1e3;class tC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!eC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!I0(t)){const s=t.error.code?.split("auth/")[1]||"internal-error";i.onError(hi(this.auth,s))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=WI&&this.cachedEventUids.clear(),this.cachedEventUids.has($v(t))}saveEventToCache(t){this.cachedEventUids.add($v(t)),this.lastProcessedEventTime=Date.now()}}function $v(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function I0({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function eC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return I0(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(r,t={}){return io(r,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rC=/^https?/;async function sC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await nC(r);for(const i of t)try{if(aC(i))return}catch{}Qi(r,"unauthorized-domain")}function aC(r){const t=cm(),{protocol:i,hostname:s}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!rC.test(i))return!1;if(iC.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new Gl(3e4,6e4);function Zv(){const r=fi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function lC(r){return new Promise((t,i)=>{function s(){Zv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Zv(),i(hi(r,"network-request-failed"))},timeout:oC.get()})}if(fi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(fi().gapi?.load)s();else{const l=mI("iframefcb");return fi()[l]=()=>{gapi.load?s():i(hi(r,"network-request-failed"))},fI(`${dI()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw xc=null,t})}let xc=null;function uC(r){return xc=xc||lC(r),xc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC=new Gl(5e3,15e3),hC="__/auth/iframe",fC="emulator/auth/iframe",dC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gC(r){const t=r.config;yt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Wm(t,fC):`https://${r.config.authDomain}/${hC}`,s={apiKey:t.apiKey,appName:r.name,v:Ja},l=mC.get(r.config.apiHost);l&&(s.eid=l);const c=r._getFrameworks();return c.length&&(s.fw=c.join(",")),`${i}?${Pl(s).slice(1)}`}async function pC(r){const t=await uC(r),i=fi().gapi;return yt(i,r,"internal-error"),t.open({where:document.body,url:gC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dC,dontclear:!0},s=>new Promise(async(l,c)=>{await s.restyle({setHideOnLeave:!1});const d=hi(r,"network-request-failed"),g=fi().setTimeout(()=>{c(d)},cC.get());function y(){fi().clearTimeout(g),l(s)}s.ping(y).then(y,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_C=500,vC=600,TC="_blank",EC="http://localhost";class Jv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function AC(r,t,i,s=_C,l=vC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const y={...yC,width:s.toString(),height:l.toString(),top:c,left:d},_=$e().toLowerCase();i&&(g=o0(_)?TC:i),s0(_)&&(t=t||EC,y.scrollbars="yes");const S=Object.entries(y).reduce((D,[q,Z])=>`${D}${q}=${Z},`,"");if(rI(_)&&g!=="_self")return SC(t||"",g),new Jv(null);const I=window.open(t||"",g,S);yt(I,r,"popup-blocked");try{I.focus()}catch{}return new Jv(I)}function SC(r,t){const i=document.createElement("a");i.href=r,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bC="__/auth/handler",wC="emulator/auth/handler",RC=encodeURIComponent("fac");async function Wv(r,t,i,s,l,c){yt(r.config.authDomain,r,"auth-domain-config-required"),yt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:s,v:Ja,eventId:l};if(t instanceof p0){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",fS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,I]of Object.entries({}))d[S]=I}if(t instanceof Fl){const S=t.getScopes().filter(I=>I!=="");S.length>0&&(d.scopes=S.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const y=await r._getAppCheckToken(),_=y?`#${RC}=${encodeURIComponent(y)}`:"";return`${IC(r)}?${Pl(g).slice(1)}${_}`}function IC({config:r}){return r.emulator?Wm(r,wC):`https://${r.authDomain}/${bC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zd="webStorageSupport";class CC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=E0,this._completeRedirectFn=JI,this._overrideRedirectResult=XI}async _openPopup(t,i,s,l){Ki(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Wv(t,i,s,cm(),l);return AC(t,c,sg())}async _openRedirect(t,i,s,l){await this._originValidation(t);const c=await Wv(t,i,s,cm(),l);return OI(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(Ki(c,"If manager is not set, promise should be"),c)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await pC(t),s=new tC(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(zd,{type:zd},l=>{const c=l?.[0]?.[zd];c!==void 0&&i(!!c),Qi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=sC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return f0()||a0()||ng()}}const DC=CC;var tT="@firebase/auth",eT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MC(r){qa(new xs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d0(r)},_=new cI(s,l,c,y);return pI(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),qa(new xs("auth-internal",t=>{const i=ig(t.getProvider("auth").getImmediate());return(s=>new NC(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Mr(tT,eT,OC(r)),Mr(tT,eT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=300,xC=cT("authIdTokenMaxAge")||VC;let nT=null;const kC=r=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>xC)return;const l=i?.token;nT!==l&&(nT=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function PC(r=pT()){const t=pm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=gI(r,{popupRedirectResolver:DC,persistence:[jI,CI,E0]}),s=cT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(s,location.origin);if(location.origin===c.origin){const d=kC(c.toString());wI(i,d,()=>d(i.currentUser)),bI(i,g=>d(g))}}const l=lT("auth");return l&&yI(i,`http://${l}`),i}function UC(){return document.getElementsByTagName("head")?.[0]??document}hI({loadJS(r){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=t,s.onerror=l=>{const c=hi("internal-error");c.customData=l,i(c)},s.type="text/javascript",s.charset="UTF-8",UC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MC("Browser");const $a={apiKey:"AIzaSyDaLuu1AsVufQlTqrg4-U-0yyywbM7Z3KU",authDomain:"task-manager-app-50304.firebaseapp.com",projectId:"task-manager-app-50304",storageBucket:"task-manager-app-50304.firebasestorage.app",messagingSenderId:"402953480828",appId:"1:402953480828:web:e70354498f898ca0b0b7f9"};console.log(" Firebase Config Loading...");console.log(" Environment:",typeof window<"u"?"browser":"server");console.log(" Project ID:",$a.projectId);console.log(" Auth Domain:",$a.authDomain);console.log(" API Key presente:",!!$a.apiKey);console.log(" Storage Bucket:",$a.storageBucket);let jd,Gr,LC;try{jd=gT($a),console.log(" Firebase App inicializada correctamente"),Gr=E2(jd),console.log(" Firestore inicializado correctamente"),LC=PC(jd),console.log(" Auth inicializado correctamente"),console.log(" Firebase configurado y funcionando correctamente!")}catch(r){throw console.error(" Error crtico inicializando Firebase:",r),console.error(" Detalles del error:",{code:r.code,message:r.message,config:$a}),r}const Kl="tasks",C0="users",D0=r=>{console.log(" TaskService: Configurando listener de Firebase...");const t=Hl(Gr,Kl);return $E(t,i=>{console.log(" TaskService: Cambios detectados en Firebase!"),console.log(" TaskService: Documentos recibidos:",i.docs.length);const l=i.docs.map(c=>{const d=c.data(),g={id:c.id,...d,createdAt:d.createdAt?.toDate()||new Date,updatedAt:d.updatedAt?.toDate()||new Date};return console.log(` TaskService: Tarea ${c.id}:`,{title:g.title,status:g.status,updatedAt:g.updatedAt}),g}).filter(c=>c.teamId==="team1");l.sort((c,d)=>d.createdAt-c.createdAt),console.log(" TaskService: Enviando",l.length,"tareas al componente"),console.log(" TaskService: Estados de tareas:",l.map(c=>`${c.title}: ${c.status}`)),r(l)},i=>{console.error(" TaskService: Error en listener de Firebase:",i),r([])})},og=async r=>{console.log(" TaskService: Creando nueva tarea..."),console.log(" TaskService: Datos recibidos:",r);try{const t=await XE(Hl(Gr,Kl),{...r,createdAt:Yc(),updatedAt:Yc()});return console.log(" TaskService: Tarea creada exitosamente"),console.log(" TaskService: ID generado por Firebase:",t.id),console.log(" TaskService: El listener debera detectar la nueva tarea..."),t.id}catch(t){throw console.error(" TaskService: Error creando tarea:",t),t}},N0=async(r,t)=>{try{const i=Gm(Gr,Kl,r);await k2(i,{...t,updatedAt:Yc()}),console.log("Tarea actualizada")}catch(i){throw console.error("Error actualizando tarea: ",i),i}},O0=async r=>{try{await P2(Gm(Gr,Kl,r)),console.log("Tarea eliminada")}catch(t){throw console.error("Error eliminando tarea: ",t),t}},M0=r=>{const t=Hl(Gr,C0);return $E(t,i=>{const l=i.docs.map(c=>({id:c.id,...c.data()})).filter(c=>c.teamId==="team1");r(l)},i=>{console.error("Error en subscribeToUsersSimple:",i),r([])})},V0=async r=>{try{return(await XE(Hl(Gr,C0),{...r,createdAt:Yc()})).id}catch(t){throw console.error("Error creando usuario: ",t),t}},x0=async()=>{try{if(!(await x2(Hl(Gr,Kl))).empty){console.log("Ya existen tareas, no se crearn datos de ejemplo");return}const i=[{name:"Carlos Lpez",email:"carlos@empresa.com",avatar:"",teamId:"team1"},{name:"Ana Garca",email:"ana@empresa.com",avatar:"",teamId:"team1"},{name:"Mara Rodrguez",email:"maria@empresa.com",avatar:"",teamId:"team1"}].map(c=>V0(c));await Promise.all(i);const l=[{title:"Disear interfaz de usuario",description:"Crear mockups para la nueva funcionalidad",status:"pending",priority:"high",assignedTo:"Ana Garca",createdBy:"Carlos Lpez",dueDate:"2025-03-15",teamId:"team1"},{title:"Implementar autenticacin",description:"Configurar sistema de login con Firebase Auth",status:"in-progress",priority:"high",assignedTo:"Carlos Lpez",createdBy:"Ana Garca",dueDate:"2025-06-20",teamId:"team1"},{title:"Escribir documentacin",description:"Documentar la API y guas de usuario",status:"completed",priority:"medium",assignedTo:"Mara Rodrguez",createdBy:"Carlos Lpez",dueDate:"2025-07-10",teamId:"team1"}].map(c=>og(c));await Promise.all(l),console.log("Datos iniciales creados exitosamente")}catch(r){throw console.error("Error creando datos iniciales: ",r),r}},gl=Object.freeze(Object.defineProperty({__proto__:null,createTask:og,createUser:V0,deleteTask:O0,seedInitialData:x0,subscribeToTasksSimple:D0,subscribeToUsersSimple:M0,updateTask:N0},Symbol.toStringTag,{value:"Module"})),bc={tasks:[{id:"1",title:"Disear interfaz de usuario",description:"Crear mockups para la nueva funcionalidad",status:"pending",priority:"high",assignedTo:"Ana Garca",createdBy:"Carlos Lpez",dueDate:"2024-12-15",teamId:"team1",createdAt:new Date("2024-12-01"),updatedAt:new Date("2024-12-01")},{id:"2",title:"Implementar autenticacin",description:"Configurar sistema de login con Firebase Auth",status:"in-progress",priority:"high",assignedTo:"Carlos Lpez",createdBy:"Ana Garca",dueDate:"2024-12-20",teamId:"team1",createdAt:new Date("2024-12-02"),updatedAt:new Date("2024-12-08")},{id:"3",title:"Escribir documentacin",description:"Documentar la API y guas de usuario",status:"completed",priority:"medium",assignedTo:"Mara Rodrguez",createdBy:"Carlos Lpez",dueDate:"2024-12-10",teamId:"team1",createdAt:new Date("2024-11-28"),updatedAt:new Date("2024-12-07")}],users:[{id:"1",name:"Carlos Lpez",email:"carlos@empresa.com",avatar:""},{id:"2",name:"Ana Garca",email:"ana@empresa.com",avatar:""},{id:"3",name:"Mara Rodrguez",email:"maria@empresa.com",avatar:""}]};function zC(){const[r,t]=Ke.useState([]),[i,s]=Ke.useState([]),[l]=Ke.useState({name:"Jose Rocha",email:"jose@empresa.com",avatar:""}),[c,d]=Ke.useState("all"),[g,y]=Ke.useState(!1),[_,S]=Ke.useState(!0),[I,D]=Ke.useState(null),[q,Z]=Ke.useState(!0),[tt,J]=Ke.useState({title:"",description:"",priority:"medium",assignedTo:"",dueDate:""});Ke.useEffect(()=>{let E=null,b=null;return(async()=>{try{gl&&q?(console.log("Intentando conectar con Firebase..."),E=D0(M=>{console.log("Tareas recibidas de Firebase:",M),t(M),S(!1),D(null)}),b=M0(M=>{console.log("Usuarios recibidos de Firebase:",M),s(M)})):(console.log("Usando datos de respaldo..."),setTimeout(()=>{t(bc.tasks),s(bc.users),S(!1),D("Usando datos temporales - Firebase no configurado")},500))}catch(M){console.error("Error inicializando datos:",M),t(bc.tasks),s(bc.users),S(!1),D("Error conectando con Firebase - usando datos temporales"),Z(!1)}})(),()=>{E&&E(),b&&b()}},[q]);const Tt=async()=>{if(!tt.title.trim())return;const E={title:tt.title,description:tt.description,priority:tt.priority,assignedTo:tt.assignedTo,dueDate:tt.dueDate,status:"pending",createdBy:l.name,teamId:"team1"};try{gl&&q?await og(E):t(b=>[...b,E]),J({title:"",description:"",priority:"medium",assignedTo:"",dueDate:""}),y(!1)}catch(b){console.error("Error creando tarea:",b),alert("Error creando la tarea. Intntalo de nuevo.")}},dt=async(E,b)=>{try{gl&&q?await N0(E,b):t(O=>O.map(M=>M.id===E?{...M,...b,updatedAt:new Date}:M))}catch(O){console.error("Error actualizando tarea:",O),O.code==="not-found"||O.message.includes("No document to update")?(console.log("Documento no existe en Firebase, actualizando localmente"),t(M=>M.map(k=>k.id===E?{...k,...b,updatedAt:new Date}:k))):alert("Error actualizando la tarea. Intntalo de nuevo.")}},ut=async E=>{if(window.confirm("Ests seguro de que quieres eliminar esta tarea?"))try{gl&&q?await O0(E):t(b=>b.filter(O=>O.id!==E))}catch(b){console.error("Error eliminando tarea:",b),alert("Error eliminando la tarea. Intntalo de nuevo.")}},Pt=async()=>{if(window.confirm("Quieres crear datos de ejemplo?"))try{gl&&q?(await x0(),alert("Datos de ejemplo creados exitosamente")):alert("Datos de ejemplo ya disponibles (modo local)")}catch(E){console.error("Error creando datos de ejemplo:",E),alert("Error creando datos de ejemplo")}},_t=r.filter(E=>{switch(c){case"pending":return E.status==="pending";case"in-progress":return E.status==="in-progress";case"completed":return E.status==="completed";case"my-tasks":return E.assignedTo===l.name;default:return!0}}),Ut=E=>{switch(E){case"completed":return F.jsx(I1,{className:"w-5 h-5 text-green-500"});case"in-progress":return F.jsx(O1,{className:"w-5 h-5 text-yellow-500"});default:return F.jsx(D1,{className:"w-5 h-5 text-gray-400"})}},V=E=>{switch(E){case"high":return"bg-red-100 text-red-800 border-red-200";case"medium":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"low":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}};return _?F.jsx("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50 flex items-center justify-center",children:F.jsxs("div",{className:"text-center",children:[F.jsx("div",{className:"w-16 h-16 border-4 border-indigo-600 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),F.jsx("p",{className:"text-gray-600",children:"Conectando con Firebase..."}),F.jsx("p",{className:"text-sm text-gray-500 mt-2",children:"Si tarda mucho, verificar configuracin"})]})}):F.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-indigo-50 via-white to-cyan-50",children:[F.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:F.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:F.jsxs("div",{className:"flex justify-between items-center py-4",children:[F.jsxs("div",{className:"flex items-center space-x-4",children:[F.jsxs("div",{className:"flex-shrink-0",children:[F.jsx("img",{src:"/logo.png",alt:"TaskFlow Logo",className:"w-10 h-10 rounded-lg object-contain",onError:E=>{E.target.style.display="none",E.target.nextSibling.style.display="flex"}}),F.jsx("div",{className:"w-10 h-10 bg-indigo-600 rounded-lg flex items-center justify-center",style:{display:"none"},children:F.jsx(O_,{className:"w-6 h-6 text-white"})})]}),F.jsxs("div",{children:[F.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"TaskFlow"}),F.jsxs("p",{className:"text-sm text-gray-600",children:[q&&!I?"Conectado a Firebase":" Modo local","  ",r.length," tareas",q&&F.jsx("span",{className:"ml-2 px-2 py-1 bg-green-100 text-green-800 text-xs rounded-full",children:"Firebase activo"})]})]})]}),F.jsx("div",{className:"flex items-center space-x-4",children:F.jsxs("div",{className:"flex items-center space-x-2 px-3 py-2 bg-gray-100 rounded-full",children:[F.jsx("span",{className:"text-2xl",children:l.avatar}),F.jsx("span",{className:"text-sm font-medium text-gray-700",children:l.name})]})})]})})}),I&&F.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4",children:F.jsxs("div",{className:"flex",children:[F.jsx("div",{className:"flex-shrink-0",children:F.jsx(w1,{className:"h-5 w-5 text-yellow-400"})}),F.jsxs("div",{className:"ml-3",children:[F.jsx("p",{className:"text-sm text-yellow-700",children:I}),I.includes("Firebase no configurado")&&F.jsx("p",{className:"text-xs text-yellow-600 mt-1",children:"Para usar Firebase: configura src/firebase.js con tus credenciales reales"})]})]})}),F.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[F.jsxs("div",{className:"flex flex-wrap gap-4 justify-between items-center mb-8",children:[F.jsx("div",{className:"flex flex-wrap gap-2",children:[{key:"all",label:"Todas",count:r.length},{key:"pending",label:"Pendientes",count:r.filter(E=>E.status==="pending").length},{key:"in-progress",label:"En progreso",count:r.filter(E=>E.status==="in-progress").length},{key:"completed",label:"Completadas",count:r.filter(E=>E.status==="completed").length},{key:"my-tasks",label:"Mis tareas",count:r.filter(E=>E.assignedTo===l.name).length}].map(({key:E,label:b,count:O})=>F.jsxs("button",{onClick:()=>d(E),className:`px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 ${c===E?"bg-indigo-600 text-white shadow-lg transform scale-105":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,children:[b," (",O,")"]},E))}),F.jsxs("div",{className:"flex space-x-2",children:[r.length===0&&q&&!I&&F.jsxs("button",{onClick:Pt,className:"flex items-center space-x-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[F.jsx(D_,{className:"w-4 h-4"}),F.jsx("span",{className:"text-sm",children:"Datos ejemplo"})]}),F.jsxs("button",{onClick:()=>y(!0),className:"flex items-center space-x-2 px-6 py-3 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-xl hover:from-indigo-700 hover:to-purple-700 transition-all duration-200 transform hover:scale-105 shadow-lg",children:[F.jsx(N_,{className:"w-5 h-5"}),F.jsx("span",{className:"font-medium",children:"Nueva Tarea"})]})]})]}),F.jsx("div",{className:"grid gap-6 md:grid-cols-2 lg:grid-cols-3",children:_t.map(E=>F.jsx("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 overflow-hidden",children:F.jsxs("div",{className:"p-6",children:[F.jsxs("div",{className:"flex items-start justify-between mb-4",children:[F.jsxs("div",{className:"flex items-center space-x-3",children:[F.jsx("button",{onClick:()=>dt(E.id,{status:E.status==="completed"?"pending":"completed"}),className:"hover:scale-110 transition-transform",children:Ut(E.status)}),F.jsxs("div",{className:"flex-1",children:[F.jsx("h3",{className:`font-semibold text-gray-900 ${E.status==="completed"?"line-through opacity-60":""}`,children:E.title}),F.jsx("span",{className:`inline-block px-2 py-1 text-xs font-medium rounded-full border mt-2 ${V(E.priority)}`,children:E.priority.charAt(0).toUpperCase()+E.priority.slice(1)})]})]}),F.jsxs("div",{className:"flex space-x-2",children:[F.jsx("button",{className:"p-2 text-gray-400 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors",children:F.jsx(x1,{className:"w-4 h-4"})}),F.jsx("button",{onClick:()=>ut(E.id),className:"p-2 text-gray-400 hover:text-red-600 hover:bg-red-50 rounded-lg transition-colors",children:F.jsx(U1,{className:"w-4 h-4"})}),F.jsx("button",{onClick:()=>verifyFirebaseState(E.id),className:"p-2 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:"Verificar en Firebase",children:""})]})]}),E.description&&F.jsx("p",{className:"text-gray-600 text-sm mb-4",children:E.description}),F.jsxs("div",{className:"space-y-3",children:[F.jsxs("div",{className:"flex items-center justify-between text-sm",children:[F.jsxs("div",{className:"flex items-center space-x-2 text-gray-500",children:[F.jsx(z1,{className:"w-4 h-4"}),F.jsx("span",{children:E.assignedTo||"No asignado"})]}),E.dueDate&&F.jsxs("div",{className:"flex items-center space-x-1 text-gray-500",children:[F.jsx(S1,{className:"w-4 h-4"}),F.jsx("span",{children:new Date(E.dueDate).toLocaleDateString("es-ES")})]})]}),F.jsx("div",{className:"pt-3 border-t border-gray-100",children:F.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[F.jsxs("span",{children:["Por ",E.createdBy]}),F.jsx("span",{children:E.updatedAt?new Date(E.updatedAt).toLocaleDateString("es-ES"):""})]})}),E.status!=="completed"&&F.jsx("div",{className:"pt-2",children:F.jsxs("select",{value:E.status,onChange:b=>dt(E.id,{status:b.target.value}),className:"w-full px-3 py-2 text-sm border border-gray-200 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[F.jsx("option",{value:"pending",children:"Pendiente"}),F.jsx("option",{value:"in-progress",children:"En progreso"}),F.jsx("option",{value:"completed",children:"Completada"})]})})]})]})},E.id))}),g&&F.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:F.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-md w-full p-6",children:[F.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-4",children:"Nueva Tarea"}),F.jsxs("div",{className:"space-y-4",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ttulo"}),F.jsx("input",{type:"text",value:tt.title,onChange:E=>J({...tt,title:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",placeholder:"Ttulo de la tarea"})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descripcin"}),F.jsx("textarea",{value:tt.description,onChange:E=>J({...tt,description:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent h-20",placeholder:"Descripcin opcional"})]}),F.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridad"}),F.jsxs("select",{value:tt.priority,onChange:E=>J({...tt,priority:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[F.jsx("option",{value:"low",children:"Baja"}),F.jsx("option",{value:"medium",children:"Media"}),F.jsx("option",{value:"high",children:"Alta"})]})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Fecha lmite"}),F.jsx("input",{type:"date",value:tt.dueDate,onChange:E=>J({...tt,dueDate:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})]})]}),F.jsxs("div",{children:[F.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asignar a"}),F.jsxs("select",{value:tt.assignedTo,onChange:E=>J({...tt,assignedTo:E.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",children:[F.jsx("option",{value:"",children:"Seleccionar usuario"}),i.map(E=>F.jsx("option",{value:E.name,children:E.name},E.id))]})]})]}),F.jsxs("div",{className:"flex space-x-3 mt-6",children:[F.jsx("button",{onClick:Tt,disabled:!tt.title.trim(),className:"flex-1 px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Crear Tarea"}),F.jsx("button",{onClick:()=>{y(!1),J({title:"",description:"",priority:"medium",assignedTo:"",dueDate:""})},className:"px-4 py-2 text-gray-600 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"})]})]})}),_t.length===0&&F.jsxs("div",{className:"text-center py-12",children:[F.jsx("div",{className:"w-24 h-24 mx-auto bg-gray-100 rounded-full flex items-center justify-center mb-4",children:F.jsx(O_,{className:"w-12 h-12 text-gray-400"})}),F.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay tareas"}),F.jsx("p",{className:"text-gray-600 mb-6",children:c==="all"?"Comienza creando tu primera tarea o carga datos de ejemplo":`No hay tareas ${c==="my-tasks"?"asignadas a ti":c}`}),F.jsxs("div",{className:"space-y-3",children:[F.jsxs("button",{onClick:()=>y(!0),className:"inline-flex items-center space-x-2 px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors mr-3",children:[F.jsx(N_,{className:"w-5 h-5"}),F.jsx("span",{children:"Crear primera tarea"})]}),F.jsxs("button",{onClick:Pt,className:"inline-flex items-center space-x-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors",children:[F.jsx(D_,{className:"w-5 h-5"}),F.jsx("span",{children:"Cargar datos de ejemplo"})]})]})]})]})]})}p1.createRoot(document.getElementById("root")).render(F.jsx(l1.StrictMode,{children:F.jsx(zC,{})}));
